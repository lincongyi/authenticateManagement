{"version":3,"file":"index.fa73ef2f.js","sources":["../../src/pages/Issues/Daily/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useStore } from '@stores/index'\r\nimport {\r\n  Avatar,\r\n  Badge,\r\n  Button,\r\n  Col,\r\n  DatePicker,\r\n  Divider,\r\n  Form,\r\n  Input,\r\n  Modal,\r\n  Row,\r\n  Space,\r\n  Table,\r\n  Tooltip,\r\n  message\r\n} from 'antd'\r\nimport {\r\n  UploadOutlined,\r\n  PlusOutlined,\r\n  ExclamationCircleOutlined\r\n} from '@ant-design/icons'\r\nimport type { ColumnsType, TablePaginationConfig } from 'antd/es/table'\r\nimport type { Dayjs } from 'dayjs'\r\nimport 'dayjs/locale/zh-cn'\r\nimport UploadModal from './components/UploadModal'\r\nimport AddModal from './components/AddModal'\r\nimport CheckModal from './components/CheckModal'\r\nimport UpdateModal from './components/UpdateModal'\r\nimport SettingsModal from './components/SettingsModal'\r\nimport { rangePresets, disabledDate } from '@utils/date'\r\n\r\nconst { RangePicker } = DatePicker\r\n\r\nconst Daily = () => {\r\n  const [form] = Form.useForm()\r\n\r\n  /**\r\n   * 查询\r\n   */\r\n  const onFinish = (values: any) => {\r\n    console.log('Success:', values)\r\n  }\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log('Failed:', errorInfo)\r\n  }\r\n\r\n  const [uploadModalOpen, setUploadModalOpen] = useState(false)\r\n  /**\r\n   * 批量导入\r\n   */\r\n  const onUpload = () => {\r\n    setUploadModalOpen(true)\r\n  }\r\n\r\n  const { themeStore } = useStore()\r\n  const colorPrimary = themeStore.antdThemeColor\r\n\r\n  const [addModalOpen, setAddModalOpen] = useState(false)\r\n  /**\r\n   * 新增\r\n   */\r\n  const onAdd = () => {\r\n    setAddModalOpen(true)\r\n  }\r\n\r\n  type TDataType = {\r\n    key: string\r\n    number: string\r\n    issue: string\r\n    apps: string\r\n    helpCount: number\r\n    unhelpCount: number\r\n    sort: number\r\n    date: string\r\n    isDisplay: number\r\n  }\r\n\r\n  const [checkModalOpen, setCheckModalOpen] = useState(false)\r\n  /**\r\n   * 详情\r\n   */\r\n  const onCheck = (values: TDataType) => {\r\n    setCheckModalOpen(true)\r\n  }\r\n\r\n  const [updateModalOpen, setUpdateModalOpen] = useState(false)\r\n  /**\r\n   * 修改\r\n   */\r\n  const onUpdate = (values: TDataType) => {\r\n    setUpdateModalOpen(true)\r\n  }\r\n\r\n  /**\r\n   * 删除\r\n   */\r\n  const onDelete = (values: TDataType) => {\r\n    Modal.confirm({\r\n      title: '温馨提示',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: '确定要删除该记录吗？',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        message.success({ content: '删除成功' })\r\n      }\r\n    })\r\n  }\r\n\r\n  const [settingsModalOpen, setSettingsModalOpen] = useState(false)\r\n\r\n  /**\r\n   * 表格分页参数\r\n   */\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: 10,\r\n    total: 31\r\n  })\r\n\r\n  /**\r\n   * 分页、排序、筛选变化时触发\r\n   */\r\n  const onTableChange = (tablePagination: TablePaginationConfig) => {\r\n    setPagination({ ...pagination, ...tablePagination })\r\n  }\r\n\r\n  const columns: ColumnsType<TDataType> = [\r\n    {\r\n      title: '序号',\r\n      dataIndex: 'key',\r\n      key: 'key'\r\n    },\r\n    {\r\n      title: '问题编号',\r\n      dataIndex: 'number',\r\n      key: 'number'\r\n    },\r\n    {\r\n      title: '问题',\r\n      dataIndex: 'issue',\r\n      key: 'issue',\r\n      ellipsis: true\r\n    },\r\n    {\r\n      title: '对应应用',\r\n      dataIndex: 'apps',\r\n      key: 'apps',\r\n      className: 'table-column',\r\n      render: () => (\r\n        <Tooltip\r\n          title='南沙分局支付宝小程序、南沙分局微信小程序（2个）'\r\n          placement='topLeft'\r\n        >\r\n          <>\r\n            <Avatar.Group>\r\n              <Avatar\r\n                shape='square'\r\n                size='large'\r\n                style={{ backgroundColor: colorPrimary }}\r\n              >\r\n                app\r\n              </Avatar>\r\n              <Avatar\r\n                shape='square'\r\n                size='large'\r\n                style={{ backgroundColor: '#FFBF24' }}\r\n              >\r\n                app\r\n              </Avatar>\r\n            </Avatar.Group>\r\n          </>\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: '有帮助',\r\n      dataIndex: 'helpCount',\r\n      key: 'helpCount',\r\n      sorter: (a, b) => a.helpCount - b.helpCount\r\n    },\r\n    {\r\n      title: '无帮助',\r\n      dataIndex: 'unhelpCount',\r\n      key: 'unhelpCount',\r\n      sorter: (a, b) => a.unhelpCount - b.unhelpCount\r\n    },\r\n    {\r\n      title: '排序',\r\n      dataIndex: 'sort',\r\n      key: 'sort',\r\n      defaultSortOrder: 'ascend',\r\n      sortDirections: ['ascend', 'descend', 'ascend'],\r\n      sorter: (a, b) => a.sort - b.sort\r\n    },\r\n    {\r\n      title: '创建时间',\r\n      dataIndex: 'date',\r\n      key: 'date'\r\n    },\r\n    {\r\n      title: '推荐',\r\n      dataIndex: 'isDisplay',\r\n      key: 'isDisplay',\r\n      render: isDisplay => (\r\n        <Space>\r\n          <Badge color={isDisplay ? '#52c41a' : '#ff7875'} />\r\n          {isDisplay ? '是' : '否'}\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      width: 250,\r\n      render: values => (\r\n        <>\r\n          <Button type='link' onClick={() => onCheck(values)}>\r\n            详情\r\n          </Button>\r\n          <Divider type='vertical' />\r\n          <Button type='link' onClick={() => onUpdate(values)}>\r\n            修改\r\n          </Button>\r\n          <Divider type='vertical' />\r\n          <Button\r\n            type='link'\r\n            style={{ color: '#ff7875' }}\r\n            onClick={() => onDelete(values)}\r\n          >\r\n            删除\r\n          </Button>\r\n        </>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const data: TDataType[] = [\r\n    {\r\n      key: '1',\r\n      number: 'W00001',\r\n      issue: '如何注册？',\r\n      apps: '',\r\n      helpCount: 11,\r\n      unhelpCount: 11,\r\n      sort: 1,\r\n      date: '2023-01-01',\r\n      isDisplay: 1\r\n    },\r\n    {\r\n      key: '2',\r\n      number: 'W00002',\r\n      issue: '如何注册？',\r\n      apps: '',\r\n      helpCount: 2,\r\n      unhelpCount: 12,\r\n      sort: 2,\r\n      date: '2023-01-01',\r\n      isDisplay: 1\r\n    },\r\n    {\r\n      key: '3',\r\n      number: 'W00003',\r\n      issue: '如何注册？',\r\n      apps: '',\r\n      helpCount: 3,\r\n      unhelpCount: 13,\r\n      sort: 3,\r\n      date: '2023-01-01',\r\n      isDisplay: 0\r\n    },\r\n    {\r\n      key: '4',\r\n      number: 'W00004',\r\n      issue: '如何注册？如何注册？如何注册？如何注册？如何注册？',\r\n      apps: '',\r\n      helpCount: 44,\r\n      unhelpCount: 4,\r\n      sort: 4,\r\n      date: '2023-01-01',\r\n      isDisplay: 1\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col span={24}>\r\n          <Form\r\n            form={form}\r\n            name='search'\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n            autoComplete='off'\r\n          >\r\n            <Row gutter={20}>\r\n              <Col span={6}>\r\n                <Form.Item label='问题' name='issues'>\r\n                  <Input placeholder='请输入问题' allowClear maxLength={30} />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item label='创建时间' name='date'>\r\n                  <RangePicker\r\n                    presets={rangePresets}\r\n                    disabledDate={disabledDate}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={24} className='tr'>\r\n                <Form.Item>\r\n                  <Button type='primary' htmlType='submit'>\r\n                    查询\r\n                  </Button>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={24} className='tr'>\r\n                <Form.Item>\r\n                  <Space>\r\n                    <Button icon={<UploadOutlined />} onClick={onUpload}>\r\n                      批量导入\r\n                    </Button>\r\n                    <Button icon={<PlusOutlined />} onClick={onAdd}>\r\n                      新增\r\n                    </Button>\r\n                  </Space>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24}>\r\n          <Table\r\n            className='issue-table'\r\n            columns={columns}\r\n            dataSource={data}\r\n            pagination={pagination}\r\n            onChange={onTableChange}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <UploadModal open={uploadModalOpen} setOpen={setUploadModalOpen} />\r\n      <AddModal open={addModalOpen} setOpen={setAddModalOpen} />\r\n      <CheckModal open={checkModalOpen} setOpen={setCheckModalOpen} />\r\n      <UpdateModal open={updateModalOpen} setOpen={setUpdateModalOpen} />\r\n      <SettingsModal open={settingsModalOpen} setOpen={setSettingsModalOpen} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Daily\r\n"],"names":["RangePicker","DatePicker","Daily","form","Form","useForm","onFinish","values","log","onFinishFailed","errorInfo","uploadModalOpen","setUploadModalOpen","useState","onUpload","themeStore","useStore","colorPrimary","antdThemeColor","addModalOpen","setAddModalOpen","onAdd","checkModalOpen","setCheckModalOpen","onCheck","updateModalOpen","setUpdateModalOpen","onUpdate","onDelete","Modal","confirm","title","icon","_jsx","ExclamationCircleOutlined","content","okText","cancelText","onOk","message","success","settingsModalOpen","setSettingsModalOpen","pagination","setPagination","current","pageSize","total","onTableChange","tablePagination","columns","dataIndex","key","ellipsis","className","render","Tooltip","_Fragment","_jsxs","Avatar","backgroundColor","sorter","a","b","helpCount","unhelpCount","defaultSortOrder","sortDirections","sort","isDisplay","Space","Badge","width","Button","Divider","color","data","number","issue","apps","date","Row","Col","Input","rangePresets","disabledDate","UploadOutlined","PlusOutlined","Table","UploadModal","AddModal","CheckModal","UpdateModal","SettingsModal"],"mappings":"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"}