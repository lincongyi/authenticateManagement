import{a as A,d as c,j as l,i,bK as D,aB as k,ah as K,u as R,al as p,ay as T,S as z}from"./index.9e9e2773.js";import{D as a}from"./index.db2a4d4e.js";import{T as F}from"./index.3f7375e8.js";import{T as Q}from"./index.cbfc48d0.js";import{I as j}from"./index.f313cecb.js";import{E as Y}from"./ExclamationCircleOutlined.77f05be8.js";import{S as U}from"./index.b40c2830.js";import"./EditOutlined.d9fccc53.js";import"./styleChecker.4d441e10.js";import"./css.d6e3059f.js";import"./useBreakpoint.21648553.js";const v="_detail_1duo0_1",M="_flex_1duo0_13",n={detail:v,"user-item":"_user-item_1duo0_6",flex:M},P="data:image/png;base64,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",Z=({info:e})=>A(c,{children:l(a,{bordered:!0,className:"tc",column:2,children:[A(a.Item,{label:"\u5BA1\u6279\u72B6\u6001\uFF1A",children:A(F,{color:["success","processing","error","default"][e.state],children:["\u5BA1\u6279\u901A\u8FC7","\u5BA1\u6279\u4E2D","\u5BA1\u6279\u4E0D\u901A\u8FC7","\u64A4\u56DE"][e.state]||"-"})}),A(a.Item,{label:"\u6700\u8FD1\u5BA1\u6279\u65F6\u95F4\uFF1A",children:(e==null?void 0:e.modTime)||"-"}),A(a.Item,{label:"\u5BA1\u6279\u5355\u53F7\uFF1A",children:(e==null?void 0:e.processInstanceId)||"-"}),A(a.Item,{label:"\u7533\u8BF7\u65F6\u95F4\uFF1A",children:(e==null?void 0:e.addTime)||"-"}),A(a.Item,{label:"\u7533\u8BF7\u5355\u4F4D\uFF1A",children:(e==null?void 0:e.unifyName)||"-"}),A(a.Item,{label:"\u5355\u4F4D\u7BA1\u7406\u5458\uFF1A",children:(e==null?void 0:e.starter)||"-"}),A(a.Item,{label:"\u5BA1\u6279\u5355\u7C7B\u578B\uFF1A",children:(e==null?void 0:e.processName)||"-"}),A(a.Item,{label:"\u5E94\u7528\u670D\u52A1\u540D\u79F0\uFF1A",children:(e==null?void 0:e.processName)||"-"})]})}),{Text:m}=Q,x=({info:e})=>{const{before:E,after:t}=e,u=(r,o)=>E[r]===t[r]?A(m,{children:o||t[r]}):A(m,{type:"danger",children:o||t[r]});return l(c,{children:[A(Q.Title,{level:5,children:"\u5355\u4F4D\u6CE8\u518C\u4FE1\u606F"}),l(a,{bordered:!0,className:"tc",column:2,children:[A(a.Item,{label:u("companyName","\u5355\u4F4D\u540D\u79F0\uFF1A"),children:t.companyName?u("companyName"):"-"}),A(a.Item,{label:u("companyShortName","\u5355\u4F4D\u7B80\u79F0\uFF1A"),children:t.companyShortName?u("companyShortName"):"-"}),A(a.Item,{label:u("certificateNum","\u7EDF\u4E00\u793E\u4F1A\u4FE1\u7528\u4EE3\u7801\uFF1A"),children:t.certificateNum?u("certificateNum"):"-"}),A(a.Item,{label:u("certificatePhoto","\u4FE1\u7528\u4EE3\u7801\u8BC1\u4E66\uFF1A"),children:t.certificatePhoto?A(j,{width:80,src:`data:image/png;base64,${t.certificatePhoto}`,fallback:"data:image/png;base64,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"}):l(c,{children:[A(Y,{style:{marginRight:4}}),"\u672A\u4E0A\u4F20"]})}),A(a.Item,{label:u("areaCode","\u63A5\u5165\u5730\u533A\uFF1A"),children:t.areaCode?u("areaCode"):"-"})]}),A(Q.Title,{level:5,children:"\u7BA1\u7406\u5458\u8D26\u53F7\u4FE1\u606F"}),l(a,{bordered:!0,className:"tc",column:2,children:[A(a.Item,{label:u("adminName","\u7BA1\u7406\u5458\u59D3\u540D\uFF1A"),children:t.adminName?u("adminName"):"-"}),A(a.Item,{label:"\u7BA1\u7406\u5458\u8D26\u53F7\uFF1A",children:JSON.parse(localStorage.getItem("userInfo")).accountNumber}),A(a.Item,{label:u("adminPhone","\u7BA1\u7406\u5458\u624B\u673A\u53F7\uFF1A"),children:t.adminPhone?u("adminPhone"):"-"}),A(a.Item,{label:u("adminEmail","\u7BA1\u7406\u5458\u90AE\u7BB1\uFF1A"),children:t.adminEmail?u("adminEmail"):"-"})]})]})},{Text:h}=Q,L=({item:e})=>{const E=![0,1].includes(e.isPass)||!e.isPass&&e.isLastNode;return l("div",{style:{fontWeight:"bold"},children:[e.name,"\uFF08",e.userCount,"\uFF09",A(h,{strong:!0,style:{fontSize:14,color:["blue","gray","red","orange"][e.isPass]},children:["\u5DF2\u901A\u8FC7","\u5BA1\u6279\u4E2D","\u5BA1\u6279\u672A\u901A\u8FC7","\u64A4\u56DE"][e.isPass]}),E&&A(F,{style:{marginLeft:8,fontWeight:"normal"},children:"\u5DF2\u7ED3\u675F"})]})},f=({list:e,isPass:E})=>{const{themeStore:t}=R(),u=t.antdThemeColor;return A(c,{children:e.map(r=>l("div",{className:n["user-item"],children:[l("p",{className:n.flex,children:[A("img",{src:P,style:{marginRight:10}}),r.sysRole.name,r.isPassUser&&(r.passState?A(p,{style:{color:"#FF3B30",marginLeft:4}}):A(T,{style:{color:u,marginLeft:4}}))]}),l(z,{children:[r.completeTime&&A(h,{type:"secondary",children:["\u5BA1\u6279\u901A\u8FC7","\u5BA1\u6279\u4E2D","\u5BA1\u6279\u4E0D\u901A\u8FC7","\u64A4\u56DE"][E]}),r.completeTime]})]},r.sysRole.id))})},eA=({instanceId:e,open:E,setOpen:t})=>{var g;const[u,r]=i.exports.useState(),[o,C]=i.exports.useState(0),[N,I]=i.exports.useState();return i.exports.useEffect(()=>{!e||(async()=>{const{data:B}=await D({instanceId:e});r(B);const{nodes:d}=B,S=d.map((s,y)=>{const b=y===d.length-1;return{title:A(L,{item:{...s,isLastNode:b}}),description:A(f,{list:s.sysUsers,isPass:s.isPass})}}),J=d.findIndex(s=>s.isPass);C(J),I(S)})()},[e]),A(k,{title:"\u67E5\u770B\u5BA1\u6279\u8BE6\u60C5",centered:!0,open:E,onCancel:()=>t(!1),width:640,footer:[A(K,{onClick:()=>t(!1),children:"\u5173\u95ED"},"cancel")],children:l("div",{className:"modal-content",children:[A("div",{className:"title",children:"\u5BA1\u6279\u5355\u4FE1\u606F"}),u&&A(Z,{info:u}),((g=u==null?void 0:u.info)==null?void 0:g.after)&&u.info.before&&l(c,{children:[A("div",{className:"title",children:"\u53D8\u66F4\u8BE6\u60C5"}),A("div",{className:n.detail,children:A(x,{info:u.info})})]}),A("div",{className:"title",children:"\u5BA1\u6279\u8FDB\u5EA6"}),A(U,{direction:"vertical",current:o,items:N})]})})};export{eA as default};
//# sourceMappingURL=index.53c70059.js.map
