import{r as l,j as t,A as De,J as ft,G as ht,t as O,q as zt,_ as pe,s as Ht,b0 as Gt,w as Ce,v as Q,a as o,aG as vt,c5 as qt,ap as gt,y as Ut,aX as Pe,c6 as Wt,V as Kt,X as Xt,Y as Yt,$ as Ve,a1 as bt,c7 as Ft,a0 as yt,Z as Jt,c8 as Zt,c9 as Qt,ca as en,bF as tn,ab as nn,ac as an,af as rn,ad as sn,ae as un,ai as Le,cb as ot,cc as lt,cd as on,br as ln,aj as cn,R as $e,d as B,u as Ge,m as me,aI as _e,c as oe,C as V,F as _,M as qe,b as ae,B as P,I as dn,aJ as Be,aW as pn,ce as mn,c0 as fn,b4 as hn}from"./index.43a2e21b.js";import{c as Nt,d as vn,e as gn,f as bn,h as Fn,i as yn,j as Nn,k as xn,l as En,g as In}from"./myApp.2e02643d.js";import{d as xe,D as Sn}from"./zh-cn.83efb2a6.js";import{d as Ee,r as Cn,a as Bn}from"./date.08f7193a.js";import{i as An}from"./index.ac9f3c72.js";import{T as we}from"./index.0dc04abc.js";import{C as Ue}from"./CheckCircleOutlined.164948cb.js";import{T as Ae}from"./index.8b3f25ba.js";import{A as se}from"./index.0faa798f.js";import{D as K}from"./index.3593b597.js";import{T as We}from"./index.741fa87b.js";import{D as ue}from"./index.81432aeb.js";import{R as ze}from"./index.b0318238.js";import{I as Dn}from"./index.b0127346.js";import{T as xt}from"./Table.dacc897d.js";import{E as $n}from"./EditOutlined.020e8724.js";import"./styleChecker.94b62444.js";import"./index.db651842.js";import"./addEventListener.8486c4e0.js";import"./useBreakpoint.b2ddf4f3.js";import"./Pagination.8beeeb23.js";import"./index.95b6c99d.js";import"./index.57166d9e.js";import"./index.b521ac0f.js";var _n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const wn=_n;var kn=function(n,a){return t(De,{...n,ref:a,icon:wn})};const Rn=l.exports.forwardRef(kn);function He(){return typeof BigInt=="function"}function Et(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function ne(e){var n=e.trim(),a=n.startsWith("-");a&&(n=n.slice(1)),n=n.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),n.startsWith(".")&&(n="0".concat(n));var i=n||"0",u=i.split("."),s=u[0]||"0",b=u[1]||"0";s==="0"&&b==="0"&&(a=!1);var d=a?"-":"";return{negative:a,negativeStr:d,trimStr:i,integerStr:s,decimalStr:b,fullStr:"".concat(d).concat(i)}}function Ke(e){var n=String(e);return!Number.isNaN(Number(n))&&n.includes("e")}function te(e){var n=String(e);if(Ke(e)){var a=Number(n.slice(n.indexOf("e-")+2)),i=n.match(/\.(\d+)/);return i!=null&&i[1]&&(a+=i[1].length),a}return n.includes(".")&&Xe(n)?n.length-n.indexOf(".")-1:0}function ke(e){var n=String(e);if(Ke(e)){if(e>Number.MAX_SAFE_INTEGER)return String(He()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(He()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);n=e.toFixed(te(n))}return ne(n).fullStr}function Xe(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var On=function(){function e(n){if(ht(this,e),O(this,"origin",""),O(this,"negative",void 0),O(this,"integer",void 0),O(this,"decimal",void 0),O(this,"decimalLen",void 0),O(this,"empty",void 0),O(this,"nan",void 0),Et(n)){this.empty=!0;return}if(this.origin=String(n),n==="-"||Number.isNaN(n)){this.nan=!0;return}var a=n;if(Ke(a)&&(a=Number(a)),a=typeof a=="string"?a:ke(a),Xe(a)){var i=ne(a);this.negative=i.negative;var u=i.trimStr.split(".");this.integer=BigInt(u[0]);var s=u[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return ft(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(a){var i="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(a,"0"));return BigInt(i)}},{key:"negate",value:function(){var a=new e(this.toString());return a.negative=!a.negative,a}},{key:"cal",value:function(a,i,u){var s=Math.max(this.getDecimalStr().length,a.getDecimalStr().length),b=this.alignDecimal(s),d=a.alignDecimal(s),c=i(b,d).toString(),m=u(s),f=ne(c),g=f.negativeStr,h=f.trimStr,v="".concat(g).concat(h.padStart(m+1,"0"));return new e("".concat(v.slice(0,-m),".").concat(v.slice(-m)))}},{key:"add",value:function(a){if(this.isInvalidate())return new e(a);var i=new e(a);return i.isInvalidate()?this:this.cal(i,function(u,s){return u+s},function(u){return u})}},{key:"multi",value:function(a){var i=new e(a);return this.isInvalidate()||i.isInvalidate()?new e(NaN):this.cal(i,function(u,s){return u*s},function(u){return u*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(a){return this.toString()===(a==null?void 0:a.toString())}},{key:"lessEquals",value:function(a){return this.add(a.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return a?this.isInvalidate()?"":ne("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),Mn=function(){function e(n){if(ht(this,e),O(this,"origin",""),O(this,"number",void 0),O(this,"empty",void 0),Et(n)){this.empty=!0;return}this.origin=String(n),this.number=Number(n)}return ft(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(a){if(this.isInvalidate())return new e(a);var i=Number(a);if(Number.isNaN(i))return this;var u=this.number+i;if(u>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(u<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(te(this.number),te(i));return new e(u.toFixed(s))}},{key:"multi",value:function(a){var i=Number(a);if(this.isInvalidate()||Number.isNaN(i))return new e(NaN);var u=this.number*i;if(u>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(u<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(te(this.number),te(i));return new e(u.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(a){return this.toNumber()===(a==null?void 0:a.toNumber())}},{key:"lessEquals",value:function(a){return this.add(a.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return a?this.isInvalidate()?"":ke(this.number):this.origin}}]),e}();function q(e){return He()?new On(e):new Mn(e)}function Ie(e,n,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var u=ne(e),s=u.negativeStr,b=u.integerStr,d=u.decimalStr,c="".concat(n).concat(d),m="".concat(s).concat(b);if(a>=0){var f=Number(d[a]);if(f>=5&&!i){var g=q(e).add("".concat(s,"0.").concat("0".repeat(a)).concat(10-f));return Ie(g.toString(),n,a,i)}return a===0?m:"".concat(m).concat(n).concat(d.padEnd(a,"0").slice(0,a))}return c===".0"?m:"".concat(m).concat(c)}function Tn(e,n){var a=l.exports.useRef(null);function i(){try{var s=e.selectionStart,b=e.selectionEnd,d=e.value,c=d.substring(0,s),m=d.substring(b);a.current={start:s,end:b,value:d,beforeTxt:c,afterTxt:m}}catch{}}function u(){if(e&&a.current&&n)try{var s=e.value,b=a.current,d=b.beforeTxt,c=b.afterTxt,m=b.start,f=s.length;if(s.endsWith(c))f=s.length-a.current.afterTxt.length;else if(s.startsWith(d))f=d.length;else{var g=d[m-1],h=s.indexOf(g,m-1);h!==-1&&(f=h+1)}e.setSelectionRange(f,f)}catch(v){zt(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(v.message))}}return[i,u]}var jn=function(){var n=l.exports.useState(!1),a=pe(n,2),i=a[0],u=a[1];return Ht(function(){u(Gt())},[]),i},Pn=200,Vn=600;function Ln(e){var n=e.prefixCls,a=e.upNode,i=e.downNode,u=e.upDisabled,s=e.downDisabled,b=e.onStep,d=l.exports.useRef(),c=l.exports.useRef([]),m=l.exports.useRef();m.current=b;var f=function(){clearTimeout(d.current)},g=function(A,D){A.preventDefault(),f(),m.current(D);function R(){m.current(D),d.current=setTimeout(R,Pn)}d.current=setTimeout(R,Vn)};l.exports.useEffect(function(){return function(){f(),c.current.forEach(function(p){return Ce.cancel(p)})}},[]);var h=jn();if(h)return null;var v="".concat(n,"-handler"),I=Q(v,"".concat(v,"-up"),O({},"".concat(v,"-up-disabled"),u)),w=Q(v,"".concat(v,"-down"),O({},"".concat(v,"-down-disabled"),s)),x=function(){return c.current.push(Ce(f))},y={unselectable:"on",role:"button",onMouseUp:x,onMouseLeave:x};return o("div",{className:"".concat(v,"-wrap"),children:[t("span",{...y,onMouseDown:function(A){g(A,!0)},"aria-label":"Increase Value","aria-disabled":u,className:I,children:a||t("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})}),t("span",{...y,onMouseDown:function(A){g(A,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:w,children:i||t("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})})]})}function ct(e){var n=typeof e=="number"?ke(e):ne(e).fullStr,a=n.includes(".");return a?ne(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const zn=function(){var e=l.exports.useRef(0),n=function(){Ce.cancel(e.current)};return l.exports.useEffect(function(){return n},[]),function(a){n(),e.current=Ce(function(){a()})}};var Hn=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Gn=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","classes","className","classNames"],dt=function(n,a){return n||a.isEmpty()?a.toString():a.toNumber()},pt=function(n){var a=q(n);return a.isInvalidate()?null:a},qn=l.exports.forwardRef(function(e,n){var a,i=e.prefixCls,u=i===void 0?"rc-input-number":i,s=e.className,b=e.style,d=e.min,c=e.max,m=e.step,f=m===void 0?1:m,g=e.defaultValue,h=e.value,v=e.disabled,I=e.readOnly,w=e.upHandler,x=e.downHandler,y=e.keyboard,p=e.controls,A=p===void 0?!0:p,D=e.classNames,R=e.stringMode,L=e.parser,T=e.formatter,j=e.precision,k=e.decimalSeparator,z=e.onChange,X=e.onInput,Z=e.onPressEnter,H=e.onStep,Y=vt(e,Hn),C="".concat(u,"-input"),G=l.exports.useRef(null),ve=l.exports.useState(!1),ge=pe(ve,2),be=ge[0],Fe=ge[1],U=l.exports.useRef(!1),J=l.exports.useRef(!1),ye=l.exports.useRef(!1),At=l.exports.useState(function(){return q(h!=null?h:g)}),Ye=pe(At,2),$=Ye[0],Je=Ye[1];function Dt(N){h===void 0&&Je(N)}var Re=l.exports.useCallback(function(N,F){if(!F)return j>=0?j:Math.max(te(N),te(f))},[j,f]),Oe=l.exports.useCallback(function(N){var F=String(N);if(L)return L(F);var S=F;return k&&(S=S.replace(k,".")),S.replace(/[^\w.-]+/g,"")},[L,k]),Me=l.exports.useRef(""),Ze=l.exports.useCallback(function(N,F){if(T)return T(N,{userTyping:F,input:String(Me.current)});var S=typeof N=="number"?ke(N):N;if(!F){var E=Re(S,F);if(Xe(S)&&(k||E>=0)){var W=k||".";S=Ie(S,W,E)}}return S},[T,Re,k]),$t=l.exports.useState(function(){var N=g!=null?g:h;return $.isInvalidate()&&["string","number"].includes(Ut(N))?Number.isNaN(N)?"":N:Ze($.toString(),!1)}),Qe=pe($t,2),le=Qe[0],et=Qe[1];Me.current=le;function ce(N,F){et(Ze(N.isInvalidate()?N.toString(!1):N.toString(!F),F))}var re=l.exports.useMemo(function(){return pt(c)},[c,j]),ie=l.exports.useMemo(function(){return pt(d)},[d,j]),tt=l.exports.useMemo(function(){return!re||!$||$.isInvalidate()?!1:re.lessEquals($)},[re,$]),nt=l.exports.useMemo(function(){return!ie||!$||$.isInvalidate()?!1:$.lessEquals(ie)},[ie,$]),_t=Tn(G.current,be),at=pe(_t,2),wt=at[0],kt=at[1],rt=function(F){return re&&!F.lessEquals(re)?re:ie&&!ie.lessEquals(F)?ie:null},Te=function(F){return!rt(F)},Ne=function(F,S){var E=F,W=Te(E)||E.isEmpty();if(!E.isEmpty()&&!S&&(E=rt(E)||E,W=!0),!I&&!v&&W){var de=E.toString(),je=Re(de,S);return je>=0&&(E=q(Ie(de,".",je)),Te(E)||(E=q(Ie(de,".",je,!0)))),E.equals($)||(Dt(E),z==null||z(E.isEmpty()?null:dt(R,E)),h===void 0&&ce(E,S)),E}return $},Rt=zn(),it=function N(F){if(wt(),Me.current=F,et(F),!J.current){var S=Oe(F),E=q(S);E.isNaN()||Ne(E,!0)}X==null||X(F),Rt(function(){var W=F;L||(W=F.replace(/。/g,".")),W!==F&&N(W)})},Ot=function(){J.current=!0},Mt=function(){J.current=!1,it(G.current.value)},Tt=function(F){it(F.target.value)},st=function(F){var S;if(!(F&&tt||!F&&nt)){U.current=!1;var E=q(ye.current?ct(f):f);F||(E=E.negate());var W=($||q(0)).add(E.toString()),de=Ne(W,!1);H==null||H(dt(R,de),{offset:ye.current?ct(f):f,type:F?"up":"down"}),(S=G.current)===null||S===void 0||S.focus()}},ut=function(F){var S=q(Oe(le)),E=S;S.isNaN()?E=Ne($,F):E=Ne(S,F),h!==void 0?ce($,!1):E.isNaN()||ce(E,!1)},jt=function(){U.current=!0},Pt=function(F){var S=F.key,E=F.shiftKey;U.current=!0,ye.current=E,S==="Enter"&&(J.current||(U.current=!1),ut(!1),Z==null||Z(F)),y!==!1&&!J.current&&["Up","ArrowUp","Down","ArrowDown"].includes(S)&&(st(S==="Up"||S==="ArrowUp"),F.preventDefault())},Vt=function(){U.current=!1,ye.current=!1},Lt=function(){ut(!1),Fe(!1),U.current=!1};return Pe(function(){$.isInvalidate()||ce($,!1)},[j]),Pe(function(){var N=q(h);Je(N);var F=q(Oe(le));(!N.equals(F)||!U.current||T)&&ce(N,U.current)},[h]),Pe(function(){T&&kt()},[le]),o("div",{className:Q(u,D==null?void 0:D.input,s,(a={},O(a,"".concat(u,"-focused"),be),O(a,"".concat(u,"-disabled"),v),O(a,"".concat(u,"-readonly"),I),O(a,"".concat(u,"-not-a-number"),$.isNaN()),O(a,"".concat(u,"-out-of-range"),!$.isInvalidate()&&!Te($)),a)),style:b,onFocus:function(){Fe(!0)},onBlur:Lt,onKeyDown:Pt,onKeyUp:Vt,onCompositionStart:Ot,onCompositionEnd:Mt,onBeforeInput:jt,children:[A&&t(Ln,{prefixCls:u,upNode:w,downNode:x,upDisabled:tt,downDisabled:nt,onStep:st}),t("div",{className:"".concat(C,"-wrap"),children:t("input",{autoComplete:"off",role:"spinbutton","aria-valuemin":d,"aria-valuemax":c,"aria-valuenow":$.isInvalidate()?null:$.toString(),step:f,...Y,ref:gt(G,n),className:C,value:le,onChange:Tt,disabled:v,readOnly:I})})]})}),It=l.exports.forwardRef(function(e,n){var a=e.disabled,i=e.style,u=e.prefixCls,s=e.value,b=e.prefix,d=e.suffix,c=e.addonBefore,m=e.addonAfter,f=e.classes,g=e.className,h=e.classNames,v=vt(e,Gn),I=l.exports.useRef(null),w=function(y){I.current&&Wt(I.current,y)};return t(qt,{inputElement:t(qn,{prefixCls:u,disabled:a,classNames:h,ref:gt(I,n),...v}),className:g,triggerFocus:w,prefixCls:u,value:s,disabled:a,style:i,prefix:b,suffix:d,addonAfter:m,addonBefore:c,classes:f,classNames:h,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}})});It.displayName="InputNumber";const mt=(e,n)=>{let{componentCls:a,borderRadiusSM:i,borderRadiusLG:u}=e;const s=n==="lg"?u:i;return{[`&-${n}`]:{[`${a}-handler-wrap`]:{borderStartEndRadius:s,borderEndEndRadius:s},[`${a}-handler-up`]:{borderStartEndRadius:s},[`${a}-handler-down`]:{borderEndEndRadius:s}}}},Un=e=>{const{componentCls:n,lineWidth:a,lineType:i,colorBorder:u,borderRadius:s,fontSizeLG:b,controlHeightLG:d,controlHeightSM:c,colorError:m,inputPaddingHorizontalSM:f,colorTextDescription:g,motionDurationMid:h,colorPrimary:v,inputPaddingHorizontal:I,inputPaddingVertical:w,colorBgContainer:x,colorTextDisabled:y,borderRadiusSM:p,borderRadiusLG:A,controlWidth:D,handleVisible:R}=e;return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ve(e)),bt(e)),Ft(e,n)),{display:"inline-block",width:D,margin:0,padding:0,border:`${a}px ${i} ${u}`,borderRadius:s,"&-rtl":{direction:"rtl",[`${n}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:b,borderRadius:A,[`input${n}-input`]:{height:d-2*a}},"&-sm":{padding:0,borderRadius:p,[`input${n}-input`]:{height:c-2*a,padding:`0 ${f}px`}},"&:hover":Object.assign({},yt(e)),"&-focused":Object.assign({},Jt(e)),"&-out-of-range":{[`${n}-input-wrap`]:{input:{color:m}}},"&-group":Object.assign(Object.assign(Object.assign({},Ve(e)),Zt(e)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${n}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${n}-group-addon`]:{borderRadius:A,fontSize:e.fontSizeLG}},"&-sm":{[`${n}-group-addon`]:{borderRadius:p}},[`${n}-wrapper-disabled > ${n}-group-addon`]:Object.assign({},Qt(e))}}),[`&-disabled ${n}-input`]:{cursor:"not-allowed"},[n]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Ve(e)),{width:"100%",padding:`${w}px ${I}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:s,outline:0,transition:`all ${h} linear`,appearance:"textfield",fontSize:"inherit"}),en(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[n]:Object.assign(Object.assign(Object.assign({[`&:hover ${n}-handler-wrap, &-focused ${n}-handler-wrap`]:{opacity:1},[`${n}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleWidth,height:"100%",background:x,borderStartStartRadius:0,borderStartEndRadius:s,borderEndEndRadius:s,borderEndStartRadius:0,opacity:R===!0?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${h} linear ${h}`,[`${n}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${n}-handler-up-inner,
              ${n}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${n}-handler`]:{height:"50%",overflow:"hidden",color:g,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${a}px ${i} ${u}`,transition:`all ${h} linear`,"&:active":{background:e.colorFillAlter},"&:hover":{height:"60%",[`
              ${n}-handler-up-inner,
              ${n}-handler-down-inner
            `]:{color:v}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},tn()),{color:g,transition:`all ${h} linear`,userSelect:"none"})},[`${n}-handler-up`]:{borderStartEndRadius:s},[`${n}-handler-down`]:{borderBlockStart:`${a}px ${i} ${u}`,borderEndEndRadius:s}},mt(e,"lg")),mt(e,"sm")),{"&-disabled, &-readonly":{[`${n}-handler-wrap`]:{display:"none"},[`${n}-input`]:{color:"inherit"}},[`
          ${n}-handler-up-disabled,
          ${n}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${n}-handler-up-disabled:hover &-handler-up-inner,
          ${n}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:y}})},{[`${n}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${n}-handler-down`]:{borderBlockStartWidth:0}}}]},Wn=e=>{const{componentCls:n,inputPaddingVertical:a,inputPaddingHorizontal:i,inputAffixPadding:u,controlWidth:s,borderRadiusLG:b,borderRadiusSM:d}=e;return{[`${n}-affix-wrapper`]:Object.assign(Object.assign(Object.assign({},bt(e)),Ft(e,`${n}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:s,padding:0,paddingInlineStart:i,"&-lg":{borderRadius:b},"&-sm":{borderRadius:d},[`&:not(${n}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},yt(e)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},[`&-disabled > ${n}-disabled`]:{background:"transparent"},[`> div${n}`]:{width:"100%",border:"none",outline:"none",[`&${n}-focused`]:{boxShadow:"none !important"}},[`input${n}-input`]:{padding:`${a}px 0`},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${n}-handler-wrap`]:{zIndex:2},[n]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:u},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:i,marginInlineStart:u}}})}},Kn=Kt("InputNumber",e=>{const n=Xt(e);return[Un(n),Wn(n),Yt(n)]},e=>({controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:"auto"}));var Xn=globalThis&&globalThis.__rest||function(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)n.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(a[i[u]]=e[i[u]]);return a};const St=l.exports.forwardRef((e,n)=>{const{getPrefixCls:a,direction:i}=l.exports.useContext(nn),u=l.exports.useRef(null);l.exports.useImperativeHandle(n,()=>u.current);const{className:s,rootClassName:b,size:d,disabled:c,prefixCls:m,addonBefore:f,addonAfter:g,prefix:h,bordered:v=!0,readOnly:I,status:w,controls:x}=e,y=Xn(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),p=a("input-number",m),[A,D]=Kn(p),{compactSize:R,compactItemClassnames:L}=an(p,i);let T=t(Rn,{className:`${p}-handler-up-inner`}),j=t(ln,{className:`${p}-handler-down-inner`});const k=typeof x=="boolean"?x:void 0;typeof x=="object"&&(T=typeof x.upIcon>"u"?T:t("span",{className:`${p}-handler-up-inner`,children:x.upIcon}),j=typeof x.downIcon>"u"?j:t("span",{className:`${p}-handler-down-inner`,children:x.downIcon}));const{hasFeedback:z,status:X,isFormItemInput:Z,feedbackIcon:H}=l.exports.useContext(rn),Y=cn(X,w),C=sn(U=>{var J;return(J=d!=null?d:R)!==null&&J!==void 0?J:U}),G=l.exports.useContext(un),ve=c!=null?c:G,ge=Q({[`${p}-lg`]:C==="large",[`${p}-sm`]:C==="small",[`${p}-rtl`]:i==="rtl",[`${p}-borderless`]:!v,[`${p}-in-form-item`]:Z},Le(p,Y),L,D),be=`${p}-group`,Fe=t(It,{...Object.assign({ref:u,disabled:ve,className:Q(s,b),upHandler:T,downHandler:j,prefixCls:p,readOnly:I,controls:k,prefix:h,suffix:z&&H,addonAfter:g&&t(ot,{children:t(lt,{override:!0,status:!0,children:g})}),addonBefore:f&&t(ot,{children:t(lt,{override:!0,status:!0,children:f})}),classNames:{input:ge},classes:{affixWrapper:Q(Le(`${p}-affix-wrapper`,Y,z),{[`${p}-affix-wrapper-sm`]:C==="small",[`${p}-affix-wrapper-lg`]:C==="large",[`${p}-affix-wrapper-rtl`]:i==="rtl",[`${p}-affix-wrapper-borderless`]:!v},D),wrapper:Q({[`${be}-rtl`]:i==="rtl",[`${p}-wrapper-disabled`]:ve},D),group:Q({[`${p}-group-wrapper-sm`]:C==="small",[`${p}-group-wrapper-lg`]:C==="large",[`${p}-group-wrapper-rtl`]:i==="rtl"},Le(`${p}-group-wrapper`,Y,z),D)}},y)});return A(Fe)}),Ct=St,Yn=e=>t(on,{theme:{components:{InputNumber:{handleVisible:!0}}},children:t(St,{...Object.assign({},e)})});Ct._InternalPanelDoNotUseOrYouWillBeFired=Yn;const Se=Ct;var Jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};const Zn=Jn;var Qn=function(n,a){return t(De,{...n,ref:a,icon:Zn})};const ea=l.exports.forwardRef(Qn);var ta={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"};const na=ta;var aa=function(n,a){return t(De,{...n,ref:a,icon:na})};const ra=l.exports.forwardRef(aa);var ia={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"};const sa=ia;var ua=function(n,a){return t(De,{...n,ref:a,icon:sa})};const oa=l.exports.forwardRef(ua),la="_section_oa5mj_1",ca="_primary_oa5mj_10",da="_name_oa5mj_15",pa="_edit_oa5mj_19",ma="_remark_oa5mj_24",fa="_icon_oa5mj_40",ha="_active_oa5mj_48",M={section:la,"basic-info":"_basic-info_oa5mj_7",primary:ca,name:da,edit:pa,remark:ma,"env-info":"_env-info_oa5mj_33","tab-item":"_tab-item_oa5mj_36",icon:fa,"sit-icon":"_sit-icon_oa5mj_45",active:ha,"prod-icon":"_prod-icon_oa5mj_51"},va="_section_knbe3_1",ga="_flex_knbe3_7",ba="_disable_knbe3_19",Fa="_content_knbe3_35",ya="_process_knbe3_40",Na="_title_knbe3_47",xa="_active_knbe3_52",Ea="_step_knbe3_56",Ia="_tag_knbe3_67",Sa="_name_knbe3_86",Ca="_btn_knbe3_91",Ba="_step01_knbe3_105",Aa="_step02_knbe3_108",Da="_step03_knbe3_111",$a="_step05_knbe3_114",_a="_done_knbe3_132",wa="_dashed_knbe3_148",ka="_panel_knbe3_173",Ra="_label_knbe3_215",Oa="_value_knbe3_221",Ma="_amount_knbe3_228",Ta="_dot_knbe3_234",r={section:va,flex:ga,"sit-bar":"_sit-bar_knbe3_11",disable:ba,"prod-bar":"_prod-bar_knbe3_23","sit-env":"_sit-env_knbe3_35",content:Fa,process:ya,title:Na,active:xa,step:Ea,tag:Ia,"step-icon":"_step-icon_knbe3_75",name:Sa,btn:Ca,"btn-icon":"_btn-icon_knbe3_100",step01:Ba,step02:Aa,step03:Da,step05:$a,"done-icon":"_done-icon_knbe3_132",done:_a,dashed:wa,panel:ka,"flex-column":"_flex-column_knbe3_179","info-item":"_info-item_knbe3_208",label:Ra,value:Oa,amount:Ma,dot:Ta,"accessed-dot":"_accessed-dot_knbe3_241","unaccessed-dot":"_unaccessed-dot_knbe3_244"},ja=({chartData:e})=>{let n;const a={xAxis:{type:"category",data:e.xAxis},yAxis:{type:"value"},series:[{data:e.yAxis,type:"line"}]};return l.exports.useEffect(()=>{if(!n){const i=document.getElementById("line");if(!i)return;n=An(i),n.setOption(a),n.resize()}return window.onresize=()=>n.resize(),()=>{window.onresize=()=>{}}},[a]),t(B,{children:t("div",{id:"line",style:{height:352}})})},Pa=$e.memo(ja),fe=$e.createContext({capability:void 0,clientId:void 0,fetchAppInfoByEnv:void 0}),Va=()=>{const{appId:e,env:n,isEnable:a}=l.exports.useContext(ee),[i,u]=l.exports.useState(),[s,b]=l.exports.useState(1),[d,c]=l.exports.useState(),m=async x=>{const{data:y}=await Nt({appId:e,appEnv:n});if(!y)return;u(y);let p=0;if(x){const D=y.findIndex(R=>R.capabilityId===x.capabilityId);D!==-1&&(p=D)}c(y[p]);const A=y[p].state;b(A)};l.exports.useEffect(()=>{m()},[]);const f=x=>{const y=i==null?void 0:i.find(p=>p.capabilityId===+x);!y||(c(y),b(y.state))},{myAppStore:g}=Ge(),[h,v]=me.useMessage(),I=_e(),w=()=>{if(!(!a||!d)){if(s<5)return h.warning("\u8BF7\u63A5\u5165\u6D4B\u8BD5\u73AF\u5883\u57FA\u7840\u80FD\u529B");I(`./access?appId=${e}&capabilityId=${d.capabilityId}`)}};return o(B,{children:[v,i?t(we,{onChange:f,type:"card",items:i.map(x=>({label:o(B,{children:[x.capabilityName,!!x.state&&t(Ue,{style:{marginLeft:10}})]}),key:x.capabilityId.toString()}))}):"\u6CA1\u6709\u63A5\u5165\u4EFB\u4F55\u57FA\u7840\u80FD\u529B\uFF0C\u5FEB\u53BB\u6DFB\u52A0\u63A5\u5165\u5427~",i&&!!i.length?t(B,{children:a&&s>6?t(B,{children:d&&t(fe.Provider,{value:{capability:d,clientId:g.clientId.prod,fetchAppInfoByEnv:m},children:t(Bt,{})})}):o("div",{className:`${r.section} ${r.flex}`,children:[t("div",{className:r["prod-bar"]}),t("div",{className:`${r.process} ${r["prod-env"]}`,children:o("div",{className:r.content,children:[t("div",{className:r.title,style:{marginBottom:60},children:"\u80FD\u529B\u63A5\u5165\u5E94\u7528\u6D41\u7A0B"}),t("div",{className:`${r.title} ${r.active}`,style:{marginBottom:20},children:"\u63A5\u5165\u6B63\u5F0F\u73AF\u5883\u6D41\u7A0B"}),o(oe,{children:[o(V,{span:6,className:r.flex,children:[o("div",{className:`${r.step} ${s>=5?r.active:""} ${s>5?r.done:""}`,children:[o("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"5"})]}),o("div",{className:r.name,children:[t("i",{className:r["done-icon"]}),"\u6DFB\u52A0\u63A5\u5165\u57FA\u7840\u80FD\u529B"]}),s<=5&&o("div",{className:r.btn,onClick:w,children:[t("i",{className:`${r["btn-icon"]} ${r.step05}`}),"\u7533\u8BF7\u63A5\u5165\u6B63\u5F0F\u73AF\u5883"]})]}),t("div",{className:r.dashed})]}),o(V,{span:6,className:r.flex,children:[o("div",{className:`${r.step} ${s>=6?r.active:""} ${s>6?r.done:""}`,children:[o("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"6"})]}),t("div",{className:r.name,children:"\u7B49\u5F85\u5BA1\u6279"}),s<=6&&o("div",{className:r.btn,children:[t("i",{className:`${r["btn-icon"]} ${r.step02}`}),"\u67E5\u770B\u5BA1\u6279\u5355"]})]}),t("div",{className:`${r.dashed} ${s>6?r.active:""}`,children:"\u5BA1\u6279\u901A\u8FC7"})]})]})]})})]})}):"\u6682\u65E0\u63A5\u5165\u80FD\u529B"]})},La=({id:e,open:n,setOpen:a})=>{const{env:i}=l.exports.useContext(ee),{clientId:u}=l.exports.useContext(i==="sit"?he:fe),[s]=_.useForm(),d={labelCol:{span:4},wrapperCol:{span:20},validateMessages:{required:"\u8BF7\u8F93\u5165${label}"},autoComplete:"off"},c=()=>{s.resetFields(),a(!1)},[m,f]=me.useMessage();return o(B,{children:[f,o(qe,{title:"\u7533\u8BF7\u589E\u52A0\u7528\u91CF",centered:!0,open:n,width:640,onCancel:c,footer:[],children:[t(ue,{}),t(se,{message:"\u6BCF\u65E5\u53EF\u53D1\u8D773\u6B21\u7533\u8BF7\u589E\u52A0\u7528\u91CF\uFF0C\u6B21\u65E5\u5C06\u91CD\u7F6E\u7528\u91CF\u9650\u989D\u3002",type:"info",showIcon:!0,style:{marginBottom:20}}),o(_,{form:s,name:"increase",...d,onFinish:async v=>{await vn({...v,apiId:e,clientId:u}),m.success({content:"\u7533\u8BF7\u6210\u529F",duration:2}),c()},onFinishFailed:v=>{console.log("Failed:",v)},children:[t(_.Item,{label:"\u589E\u52A0\u7528\u91CF",name:"num",rules:[{required:!0}],children:t(Se,{placeholder:"\u8BF7\u8F93\u5165\u589E\u52A0\u7528\u91CF\u503C",addonAfter:"\u6B21",style:{width:"100%"}})}),t(ue,{}),t(_.Item,{noStyle:!0,wrapperCol:{span:24},children:t(oe,{children:t(V,{span:24,className:"tr",children:o(ae,{children:[t(P,{onClick:c,children:"\u53D6\u6D88"}),t(P,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})})})]})]})]})},za=({id:e,open:n,setOpen:a})=>{const{env:i}=l.exports.useContext(ee),{clientId:u}=l.exports.useContext(i==="sit"?he:fe),[s]=_.useForm(),d={labelCol:{span:6},wrapperCol:{span:18},validateMessages:{required:"\u8BF7\u8F93\u5165${label}"},autoComplete:"off"};l.exports.useEffect(()=>{(async()=>{if(!n)return;const{data:v}=await gn({apiId:e,clientId:u});s.setFieldsValue(v)})()},[n]);const c=()=>{s.resetFields(),a(!1)},[m,f]=me.useMessage();return o(B,{children:[f,o(qe,{title:"\u9884\u8B66\u8BBE\u7F6E",centered:!0,open:n,width:640,onCancel:c,footer:[],children:[t(ue,{}),t(se,{message:"\u5E73\u53F0\u5C06\u6839\u636E\u60A8\u7684\u9884\u8B66\u8BBE\u7F6E\u8FDB\u884C\u63A8\u9001\u7CFB\u7EDF\u901A\u77E5\u53CA\u90AE\u4EF6\u901A\u77E5\uFF01",type:"info",showIcon:!0,style:{marginBottom:20}}),o(_,{form:s,name:"warning",...d,onFinish:async v=>{await bn({...v,apiId:+e,clientId:u}),m.success({content:"\u9884\u8B66\u8BBE\u7F6E\u6210\u529F",duration:2}),c()},onFinishFailed:v=>{console.log("Failed:",v)},children:[t(_.Item,{label:"\u8C03\u7528\u91CF\u9884\u8B66\u9608\u503C",name:"proportion",rules:[{required:!0}],children:t(Se,{placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u91CF\u9884\u8B66\u9608\u503C",addonAfter:"%",style:{width:"100%"}})}),t(_.Item,{label:"\u62A5\u9519\u6B21\u6570\u9884\u8B66\u9608\u503C",name:"errorNum",rules:[{required:!0}],children:t(Se,{placeholder:"\u62A5\u9519\u6B21\u6570\u9884\u8B66\u9608\u503C",addonAfter:"\u6B21/\u5206\u949F",style:{width:"100%"}})}),t(_.Item,{label:"\u8C03\u7528\u8D85\u65F6\u9884\u8B66\u9608\u503C",name:"timeoutNum",rules:[{required:!0}],children:t(Se,{placeholder:"\u8C03\u7528\u8D85\u65F6\u9884\u8B66\u9608\u503C",addonAfter:"\u6BEB\u79D2\uFF08ms\uFF09",style:{width:"100%"}})}),t(ue,{}),t(_.Item,{noStyle:!0,wrapperCol:{span:24},children:t(oe,{children:t(V,{span:24,className:"tr",children:o(ae,{children:[t(P,{onClick:c,children:"\u53D6\u6D88"}),t(P,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})})})]})]})]})},{TextArea:Ha}=dn,Ga=({open:e,setOpen:n})=>{const{env:a}=l.exports.useContext(ee),{capability:i,clientId:u,fetchAppInfoByEnv:s}=l.exports.useContext(a==="sit"?he:fe),{addTime:b,capabilityExpireTime:d,applyState:c}=i,[m,f]=l.exports.useState(0),g=k=>{if(!/^(\d{4})-(\d{2})-(\d{2})$/.test(k))return 0;const X=new Date().getTime(),H=new Date(d).getTime()-X,Y=30*24*60*60*1e3;return H<0?2:H<Y?1:0},[h,v]=l.exports.useState();l.exports.useEffect(()=>{f(g(d)),!(!i||!u)&&(c||(async()=>{const{data:k}=await Fn({capabilityId:i.capabilityId,clientId:u});v(k)})())},[]);const[I]=_.useForm(),x={labelCol:{span:6},wrapperCol:{span:18},validateMessages:{required:"\u8BF7\u8F93\u5165${label}"},autoComplete:"off"},y=()=>{I.resetFields(),n(!1)},[p,A]=l.exports.useState(!0),D=k=>{A(!!k.target.value)},[R,L]=me.useMessage();return o(B,{children:[L,o(qe,{title:"\u7533\u8BF7\u5EF6\u671F",centered:!0,open:e,width:640,onCancel:y,footer:[],children:[t(ue,{}),o(_,{form:I,name:"increase",...x,initialValues:{type:1},onFinish:async k=>{await yn({clientId:u,capabilityId:i.capabilityId,env:a,...k}),R.success({content:"\u5DF2\u6210\u529F\u63D0\u4EA4\u7533\u8BF7",duration:2,onClose(){s&&s()}}),y()},onFinishFailed:k=>{console.log("Failed:",k)},children:[!c&&t(se,{message:"\u60A8\u5DF2\u63D0\u4EA4\u5EF6\u671F\u7533\u8BF7\uFF0C\u53EF\u524D\u5F80\u3010\u6211\u7684\u7533\u8BF7\u3011\u67E5\u770B\u5BA1\u6279\u8FDB\u5EA6\u3002",type:"info",showIcon:!0,style:{marginBottom:20}}),t(_.Item,{label:"\u57FA\u7840\u670D\u52A1\u63A5\u5165\u65F6\u95F4",children:b}),o(_.Item,{label:"\u6709\u6548\u671F\u6B62",children:[d,[void 0,t(Ae,{color:"error",style:{marginLeft:10},children:"\u5DF2\u8FC7\u671F"},1),t(Ae,{color:"warning",style:{marginLeft:10},children:"\u5373\u5C06\u8FC7\u671F"},2)][m]]}),t(_.Item,{label:"\u662F\u5426\u5EF6\u957F\u6709\u6548\u671F:",name:c?"type":void 0,rules:[{required:!0}],children:c?t(ze.Group,{onChange:D,value:p,children:o(ae,{direction:"vertical",style:{margin:"6px 0"},children:[o(ze,{value:1,children:["\u662F",t("span",{style:{color:"#9A9DA4",paddingLeft:8},children:"(\u6B63\u5F0F\u5E94\u7528\u8D26\u53F7\u9ED8\u8BA4\u5EF6\u957F1\u5E74\uFF0C\u6D4B\u8BD5\u5E94\u7528\u8D26\u53F7\u9ED8\u8BA4\u5EF6\u957F6\u4E2A\u6708\uFF09"})]}),o(ze,{value:0,children:["\u5426",t("span",{style:{color:"#9A9DA4",paddingLeft:8},children:"(\u786E\u8BA4\u540E\u5C06\u4E0D\u518D\u901A\u77E5\u63D0\u9192\u5EF6\u671F\uFF09"})]})]})}):t(B,{children:h&&["\u5426","\u662F"][h.type]})}),!c&&t(_.Item,{label:"\u5EF6\u957F\u6709\u6548\u671F\u81F3",children:h&&h.newExpireTime}),t(_.Item,{label:"\u5907\u6CE8\u8BF4\u660E",name:c?"describe":void 0,children:c?t(Ha,{showCount:!0,maxLength:50,style:{height:120,resize:"none"},placeholder:"\u5907\u6CE8\u8BF4\u660E"}):t(B,{children:h&&h.describe})}),!c&&t(_.Item,{label:"\u63D0\u4EA4\u7533\u8BF7\u5EF6\u671F\u65F6\u95F4:",children:h&&h.applyTime}),t(ue,{}),t(_.Item,{noStyle:!0,wrapperCol:{span:24},children:t(oe,{children:t(V,{span:24,className:"tr",children:o(ae,{children:[t(P,{onClick:y,children:"\u53D6\u6D88"}),",",t(P,{type:"primary",htmlType:"submit",children:c?p?"\u63D0\u4EA4\u7533\u8BF7":"\u786E\u5B9A":"\u67E5\u770B\u5BA1\u6279\u8FDB\u5EA6"})]})})})})]})]})]})},qa=({capability:e})=>{const n={labelCol:{span:4},wrapperCol:{span:12}},[a,i]=l.exports.useState(),[u,s]=l.exports.useState();l.exports.useEffect(()=>{const{form:c}=e;if(c){const m=c.formList.map(f=>({label:f.formName,key:f.formId.toString()}));i(m),s([...e.form.formList[0].defaultFormList,...e.form.formList[0].form])}},[e]);const b=c=>{const m=e==null?void 0:e.form.formList.find(g=>g.formId===+c);if(!m)return;const f=a==null?void 0:a.findIndex(g=>g.key===c);s(f?m.form:[...m.defaultFormList,...m.form])},d=c=>{if(c.type==="imageUpload")return t(B,{children:c.labelValue.map(m=>t(Dn,{width:200,height:200,src:m.url},m.uid))});if(c.type==="fileUpload")return t(B,{children:c.labelValue.map(m=>t(We.Link,{href:m.url,target:"_blank",children:m.name},m.uid))});if(c.type==="table"){const m=[{title:"\u63A5\u53E3\u540D\u79F0",width:200,dataIndex:"label"},{title:"\u8C03\u7528\u5E76\u53D1\u4E0A\u9650\uFF08\u6BCF\u79D2\u5E76\u53D1\uFF09",dataIndex:"value"}];return t(xt,{rowKey:"label",bordered:!0,dataSource:c.labelValue,columns:m,pagination:!1})}return c.labelValue};return t(B,{children:a&&a.length?o(B,{children:[t(we,{onChange:b,items:a}),u&&!!u.length&&t(_,{...n,children:u.map((c,m)=>t("div",{children:t(_.Item,{label:c.cnName,children:d(c)})},c.field))})]}):t(Be,{image:Be.PRESENTED_IMAGE_SIMPLE})})},{RangePicker:Ua}=Sn,{Paragraph:Wa}=We,Bt=()=>{const{appId:e,env:n}=l.exports.useContext(ee),{capability:a,clientId:i}=l.exports.useContext(n==="sit"?he:fe),[u,s]=l.exports.useState(!0),b=()=>{console.log("onCheck")},[d,c]=l.exports.useState([xe().add(-7,"d").format(Ee),xe().format(Ee)]),m=(C,G)=>{c(G)},f=C=>{C||v()},[g,h]=l.exports.useState(),v=async()=>{if(!a||!i)return;const{data:C}=await xn({capabilityId:a.capabilityId,clientId:i,startTime:d[0],endTime:d[1]});h(C)};l.exports.useEffect(()=>{v()},[]);const[I,w]=l.exports.useState();l.exports.useEffect(()=>{(async()=>{if(!a||!i)return;const{data:C}=await Nn({capabilityId:a.capabilityId,clientId:i});w(C)})()},[]);const x=C=>{if(!a)return;let G=`../../devDocument?capabilityId=${a.capabilityId}`;C&&(G+=`&directoryId=${C}`),z(G)},[y,p]=l.exports.useState(!1),[A,D]=l.exports.useState(),R=C=>{D(C),p(!0)},[L,T]=l.exports.useState(!1),j=C=>{D(C),T(!0)},k=[{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",ellipsis:!0},{title:"\u63A5\u53E3\u8BBF\u95EE\u8DEF\u5F84",dataIndex:"path",ellipsis:!0},{title:n==="sit"?"\u65E5\u7528\u91CF\u9650\u989D":"\u6BCF\u79D2\u5E76\u53D1\u6570",dataIndex:n==="sit"?"dateNum":"concurrency",ellipsis:!0},{title:"\u8BF7\u6C42\u603B\u6B21\u6570",dataIndex:"reqTotal",ellipsis:!0},{title:"\u8BF7\u6C42\u5931\u8D25\u6B21\u6570",dataIndex:"errorNum",ellipsis:!0},{title:"\u64CD\u4F5C",key:"action",width:250,render:C=>o(B,{children:[t(P,{type:"link",onClick:()=>x(C.directoryId),children:"\u5F00\u53D1\u6587\u6863"}),n==="sit"?t(P,{type:"link",onClick:()=>R(C.id),children:"\u7533\u8BF7\u589E\u52A0\u7528\u91CF"}):t(P,{type:"link",onClick:()=>j(C.id),children:"\u9884\u8B66\u8BBE\u7F6E"})]})}],z=_e(),X=()=>{!a||z(`./access?appId=${e}&capabilityId=${a.capabilityId}`)},[Z,H]=l.exports.useState(!1),Y=()=>{H(!0)};return o(B,{children:[o(oe,{gutter:[20,20],children:[t(V,{span:10,children:o("div",{className:r.panel,children:[t("div",{className:r.title,children:"\u80FD\u529B\u63A5\u5165\u4FE1\u606F"}),o("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"\u63A5\u5165\u72B6\u6001"}),t("div",{className:r.value,children:o(Ae,{color:"green",children:[t(Ue,{style:{marginRight:4}}),"\u5DF2\u63A5\u5165"]})})]}),o("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"Client Secret"}),o("div",{className:r.value,children:[u?"**************":a==null?void 0:a.clientSecret,o(ae,{children:[o("div",{children:[u?t(pn,{style:{color:"#1E55D1",marginRight:4,cursor:"pointer"},onClick:()=>s(!u)}):t(mn,{style:{color:"#1E55D1",marginRight:4,cursor:"pointer"},onClick:()=>s(!u)}),u?"\u67E5\u770B":"\u9690\u85CF"]}),o("div",{children:[t(Wa,{copyable:{text:a==null?void 0:a.clientSecret},style:{marginRight:4,marginBottom:0,display:"inline-block"}}),"\u590D\u5236"]})]})]})]}),o("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"\u80FD\u529B\u8BBF\u95EE\u8DEF\u5F84"}),t("div",{className:r.value,children:a==null?void 0:a.path})]}),o("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"\u63A5\u5165\u65F6\u95F4"}),t("div",{className:r.value,children:a==null?void 0:a.addTime})]}),o("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"\u914D\u7F6E\u66F4\u65B0\u65F6\u95F4"}),o("div",{className:r.value,children:[a==null?void 0:a.updateTime,t(P,{type:"link",onClick:b,children:"\u67E5\u770B\u914D\u7F6E\u66F4\u65B0\u8BB0\u5F55"})]})]})]})}),t(V,{span:14,children:o("div",{className:`${r.panel} ${r["flex-column"]}`,children:[o("div",{className:r.title,children:["\u80FD\u529B\u8C03\u7528\u6570\u636E",t(Ua,{defaultValue:[xe(d[0],Ee),xe(d[1],Ee)],presets:Cn,disabledDate:Bn,onChange:m,onOpenChange:f})]}),g&&g.total?o(B,{children:[t(se,{style:{margin:"10px 0"},message:o(B,{children:["\u80FD\u529B\u8C03\u7528\u603B\u91CF",t("span",{className:r.amount,children:g==null?void 0:g.total})]}),type:"info",showIcon:!0}),t(Pa,{chartData:{xAxis:g.dateList,yAxis:g.numList}})]}):t("div",{className:"flex-center",style:{flex:1},children:t(Be,{image:Be.PRESENTED_IMAGE_SIMPLE})})]})}),t(V,{span:24,children:o("div",{className:r.panel,children:[t("div",{className:r.title,children:"\u80FD\u529BAPI\u63A5\u5165\u60C5\u51B5"}),t(se,{style:{margin:"10px 0"},message:"\u6D4B\u8BD5\u73AF\u5883\u9650\u5236\u63A5\u53E3\u6BCF\u65E5\u7528\u91CF\u9650\u989D\uFF0C\u6BCF\u65E5\u53EF\u53D1\u8D773\u6B21\u7533\u8BF7\u589E\u52A0\u7528\u91CF\uFF0C\u6B21\u65E5\u5C06\u91CD\u7F6E\u7528\u91CF\u9650\u989D",type:"info",showIcon:!0}),t(xt,{rowKey:"id",columns:k,dataSource:I})]})}),t(V,{span:24,children:o("div",{className:r.panel,children:[o("div",{className:r.title,children:["\u80FD\u529B\u914D\u7F6E\u4FE1\u606F",o(ae,{children:[t(P,{type:"primary",icon:t($n,{}),ghost:!0,onClick:X,children:"\u7533\u8BF7\u914D\u7F6E\u66F4\u6539"}),t(P,{type:"primary",icon:t(oa,{}),ghost:!0,onClick:Y,children:"\u7533\u8BF7\u5EF6\u671F"}),t(P,{type:"primary",icon:t(ea,{}),ghost:!0,onClick:()=>x(),children:"\u5F00\u53D1\u6587\u6863"})]})]}),a&&t(qa,{capability:a})]})})]}),A&&t(B,{children:n==="sit"?t(La,{id:A,open:y,setOpen:p}):t(za,{id:A,open:L,setOpen:T})}),t(Ga,{open:Z,setOpen:H})]})},he=$e.createContext({capability:void 0,clientId:void 0,fetchAppInfoByEnv:void 0}),Ka=()=>{const{appId:e,env:n,isEnable:a}=l.exports.useContext(ee),[i,u]=l.exports.useState(),[s,b]=l.exports.useState(1),[d,c]=l.exports.useState(),m=async y=>{const{data:p}=await Nt({appId:e,appEnv:n});if(!p)return;u(p);let A=0;if(y){const R=p.findIndex(L=>L.capabilityId===y.capabilityId);R!==-1&&(A=R)}c(p[A]);const D=p[A].state;b(D)};l.exports.useEffect(()=>{m()},[]);const f=y=>{const p=i==null?void 0:i.find(A=>A.capabilityId===+y);!p||(c(p),b(p.state))},{myAppStore:g}=Ge(),h=_e(),[v,I]=me.useMessage(),w=()=>{if(!a)return v.warning("\u8BE5\u5E94\u7528\u5DF2\u505C\u7528");const{capabilityId:y}=d;h(`./access?appId=${e}&capabilityId=${y}`)},x=()=>{if(!a)return v.warning("\u8BE5\u5E94\u7528\u5DF2\u505C\u7528");if(s<3)return;const y=g.clientId.sit,{capabilityId:p}=d;h(`./uploadForm?clientId=${y}&capabilityId=${p}`)};return o(B,{children:[I,i?t(we,{activeKey:d&&(d==null?void 0:d.capabilityId.toString()),onChange:f,type:"card",items:i.map(y=>({label:o(B,{children:[y.capabilityName,!!y.state&&t(Ue,{style:{marginLeft:10}})]}),key:y.capabilityId.toString()}))}):"\u6CA1\u6709\u63A5\u5165\u4EFB\u4F55\u57FA\u7840\u80FD\u529B\uFF0C\u5FEB\u53BB\u6DFB\u52A0\u63A5\u5165\u5427~",i&&!!i.length?t(B,{children:a&&s>=5?t(B,{children:d&&t(he.Provider,{value:{capability:d,clientId:g.clientId.sit,fetchAppInfoByEnv:m},children:t(Bt,{})})}):o("div",{className:`${r.section} ${r.flex}`,children:[t("div",{className:`${r["sit-bar"]} ${!a&&r.disable}`}),t("div",{className:`${r.process} ${r["sit-env"]}`,children:o("div",{className:r.content,children:[t("div",{className:`${r.title} ${r.active}`,children:"\u80FD\u529B\u63A5\u5165\u5E94\u7528\u6D41\u7A0B"}),o(oe,{children:[o(V,{span:6,className:r.flex,children:[o("div",{className:`${r.step} ${r.active} ${s!==1&&r.done}`,children:[o("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"1"})]}),o("div",{className:r.name,children:[t("i",{className:r["done-icon"]}),"\u6DFB\u52A0\u63A5\u5165\u57FA\u7840\u80FD\u529B"]}),s===1&&o("div",{className:r.btn,onClick:w,children:[t("i",{className:`${r["btn-icon"]} ${r.step01}`}),"\u6DFB\u52A0\u63A5\u5165\u57FA\u7840\u80FD\u529B"]})]}),t("div",{className:r.dashed})]}),o(V,{span:6,className:r.flex,children:[o("div",{className:`${r.step} ${s>=2?r.active:""} ${s>2?r.done:""}`,children:[o("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"2"})]}),o("div",{className:r.name,children:[t("i",{className:r["done-icon"]}),"\u7B49\u5F85\u5BA1\u6279"]}),s<=2&&o("div",{className:r.btn,children:[t("i",{className:`${r["btn-icon"]} ${r.step02}`}),"\u67E5\u770B\u5BA1\u6279\u5355"]})]}),t("div",{className:`${r.dashed} ${s>2?r.active:""}`,children:"\u5BA1\u6279\u901A\u8FC7"})]}),o(V,{span:6,className:r.flex,children:[o("div",{className:`${r.step} ${s>=3?r.active:""} ${s>3?r.done:""}`,children:[o("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"3"})]}),o("div",{className:r.name,children:[t("i",{className:r["done-icon"]}),"\u4E0A\u4F20\u76D6\u7AE0\u7533\u8BF7\u8868"]}),s<=3&&o("div",{className:r.btn,onClick:x,children:[t("i",{className:`${r["btn-icon"]} ${r.step01}`}),"\u4E0A\u4F20\u76D6\u7AE0\u7533\u8BF7\u8868"]})]}),t("div",{className:r.dashed})]}),o(V,{span:6,className:r.flex,children:[o("div",{className:`${r.step} ${s>=4?r.active:""} ${s>4?r.done:""}`,children:[o("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"4"})]}),t("div",{className:r.name,children:"\u7B49\u5F85\u5BA1\u6279"}),s<=4&&o("div",{className:r.btn,children:[t("i",{className:`${r["btn-icon"]} ${r.step02}`}),"\u67E5\u770B\u5BA1\u6279\u5355"]})]}),t("div",{className:`${r.dashed} ${s>4?r.active:""}`,children:"\u5BA1\u6279\u901A\u8FC7"})]})]}),t("div",{className:r.title,children:"\u63A5\u5165\u6B63\u5F0F\u73AF\u5883\u6D41\u7A0B"})]})})]})}):"\u6682\u65E0\u63A5\u5165\u80FD\u529B"]})},{Paragraph:Xa}=We,ee=$e.createContext(void 0),yr=()=>{const[e,n]=l.exports.useState(),{getDictionaryItemName:a}=fn(),{myAppStore:i}=Ge(),[u]=hn(),s=u.get("appId")||i.appId,b=_e(),[d,c]=l.exports.useState();l.exports.useEffect(()=>{if(!s)return b("..");s&&(i.setAppId(s),u.get("appId")||b(`../appInfo?appId=${s}`,{replace:!0})),(async()=>{const{data:I}=await En({id:s});if(!I)return;const{clientId:w}=I;i.setClientId(w),c(w.sit);const x=await In({id:w.sit});!x.data||n(x.data)})()},[]);const m=()=>{b(`../appForm?clientId=${d}`)},[f,g]=l.exports.useState("sit"),h=[{key:"sit",label:o("div",{className:M["tab-item"],children:[t("i",{className:`${M.icon} ${M["sit-icon"]} ${f==="sit"&&M.active}`}),"\u6D4B\u8BD5\u73AF\u5883"]}),children:t(B,{children:s&&e&&t(ee.Provider,{value:{appId:s,env:"sit",isEnable:(e==null?void 0:e.state)!==3},children:t(Ka,{})})})},{key:"prod",label:o("div",{className:M["tab-item"],children:[t("i",{className:`${M.icon} ${M["prod-icon"]} ${f==="prod"&&M.active}`}),"\u6B63\u5F0F\u73AF\u5883"]}),children:t(B,{children:s&&e&&t(ee.Provider,{value:{appId:s,env:"prod",isEnable:(e==null?void 0:e.state)!==3},children:t(Va,{})})})}],v=I=>{g(I)};return o(B,{children:[o("div",{className:`${M.section} ${M["basic-info"]}`,children:[o("div",{className:M.primary,children:[o(ae,{children:[t("p",{className:M.name,children:e==null?void 0:e.appName}),e&&t(Ae,{color:["success","warning","default","error"][e.state],children:t(B,{children:["\u6B63\u5E38\u542F\u7528","\u5373\u5C06\u8FC7\u671F","\u8FC7\u671F","\u505C\u7528"][e.state]})}),o("p",{children:["\u521B\u5EFA\u65F6\u95F4\uFF1A",e==null?void 0:e.createTime]})]}),t(ra,{className:M.edit,onClick:m})]}),t(se,{className:M.remark,banner:!0,showIcon:!1,message:e==null?void 0:e.remark,type:"info"}),o(K,{column:4,children:[(e==null?void 0:e.appName)==="\u8EAB\u4EFD\u8BA4\u8BC1V2\u7248\u672C"&&t(K.Item,{label:"Client Secret",span:4,children:(e==null?void 0:e.clientSecret)||"-"}),t(K.Item,{label:"Client Id",children:t(Xa,{copyable:!0,style:{marginBottom:0},children:(e==null?void 0:e.clientId)||"-"})}),t(K.Item,{label:"\u5E94\u7528\u7C7B\u578B",children:e&&a("appType",e.appType)||"-"}),t(K.Item,{label:"\u6240\u5C5E\u7EA7\u522B",children:e&&a("systemlevel",e.sysLevel)||"-"}),t(K.Item,{label:"\u6240\u5C5E\u7F51\u57DF",children:e&&a("networkType",e.sysInternet)||"-"}),t(K.Item,{label:"\u627F\u5EFA\u5355\u4F4D",children:(e==null?void 0:e.undertakeCompany)||"-"}),t(K.Item,{label:"\u9879\u76EE\u8D1F\u8D23\u4EBA",children:(e==null?void 0:e.projectManager)||"-"}),t(K.Item,{label:"\u8D1F\u8D23\u4EBA\u8054\u7CFB\u7535\u8BDD",children:(e==null?void 0:e.managerPhone)||"-"}),t(K.Item,{label:"\u8D1F\u8D23\u4EBA\u8054\u7CFB\u90AE\u7BB1",children:(e==null?void 0:e.managerEmail)||"-"})]})]}),t("div",{className:`${M.section} ${M["env-info"]}`,children:t(we,{defaultActiveKey:"1",items:h,onChange:I=>v(I)})})]})};export{ee as appInfoContext,yr as default};
