{"version":3,"file":"index.7f390ed2.js","sources":["../../src/pages/Main/components/Panel2/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport style from './index.module.scss'\r\nimport { Card, Col, Row, DatePicker } from 'antd'\r\nimport dayjs from 'dayjs'\r\nimport type { Dayjs } from 'dayjs'\r\nimport 'dayjs/locale/zh-cn'\r\nimport { rangePresets, disabledDate, dateFormat } from '@utils/date'\r\n\r\nconst { RangePicker } = DatePicker\r\n\r\nconst Panel2 = ({\r\n  title,\r\n  info,\r\n  getData\r\n}: {\r\n  title: string\r\n  info: TPannel2Info[]\r\n  getData: Function\r\n}) => {\r\n  const [dateRange, setDateRange] = useState<string[]>([\r\n    dayjs().add(-7, 'd').format(dateFormat),\r\n    dayjs().format(dateFormat)\r\n  ])\r\n  /**\r\n   * 日期范围发生变化的回调\r\n   */\r\n  const onRangeChange = (\r\n    dates: null | (Dayjs | null)[],\r\n    dateStrings: string[]\r\n  ) => {\r\n    setDateRange(dateStrings)\r\n  }\r\n\r\n  /**\r\n   * 关闭日期选择器的回调\r\n   */\r\n  const onOpenChange = (open: boolean) => {\r\n    if (!open) getData(dateRange)\r\n  }\r\n  return (\r\n    <>\r\n      <Card\r\n        title={title}\r\n        headStyle={{ borderBottom: 0 }}\r\n        bordered={false}\r\n        extra={\r\n          <RangePicker\r\n            defaultValue={[\r\n              dayjs(dateRange[0], dateFormat),\r\n              dayjs(dateRange[1], dateFormat)\r\n            ]}\r\n            presets={rangePresets}\r\n            disabledDate={disabledDate}\r\n            onChange={onRangeChange}\r\n            onOpenChange={onOpenChange}\r\n          />\r\n        }\r\n      >\r\n        <Row gutter={20}>\r\n          {info.map((item, index) => (\r\n            <Col span={8} key={index}>\r\n              <div\r\n                className={`${style.colunm} ${style['colunm0' + (index + 1)]}`}\r\n                key={index}\r\n              >\r\n                <div className={style.title}>{item.title}</div>\r\n                <div\r\n                  className={`${style.content} ${style['icon0' + (index + 1)]}`}\r\n                >\r\n                  {item.count}\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      </Card>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Panel2\r\n"],"names":["RangePicker","DatePicker","Panel2","title","info","getData","dateRange","setDateRange","useState","dayjs","add","format","dateFormat","onRangeChange","dates","dateStrings","onOpenChange","open","_Fragment","Card","borderBottom","rangePresets","disabledDate","Row","map","item","index","Col","style","colunm","_jsx","content","count"],"mappings":"+lBAQM,CAAEA,YAAAA,CAAY,EAAIC,EAElBC,EAAS,CAAC,CACdC,MAAAA,EACAC,KAAAA,EACAC,QAAAA,CAKF,IAAM,CACE,KAAA,CAACC,EAAWC,CAAY,EAAIC,mBAAmB,CACnDC,EAAAA,EAAQC,IAAI,GAAI,GAAG,EAAEC,OAAOC,CAAU,EACtCH,IAAQE,OAAOC,CAAU,CAAC,CAC3B,EAIKC,EAAgB,CACpBC,EACAC,IACG,CACHR,EAAaQ,CAAW,CAAA,EAMpBC,EAAgBC,GAAkB,CACjCA,GAAMZ,EAAQC,CAAS,CAAA,EAE9B,SACEY,EAAA,CAAA,WACGC,EAAI,CACH,MAAAhB,EACA,UAAW,CAAEiB,aAAc,CAAE,EAC7B,SAAU,GACV,QACGpB,EAAW,CACV,aAAc,CACZS,EAAMH,EAAU,GAAIM,CAAU,EAC9BH,EAAMH,EAAU,GAAIM,CAAU,CAAC,EAEjC,QAASS,EACT,aAAAC,EACA,SAAUT,EACV,aAAAG,CAAA,CAEH,EAAA,WAEAO,EAAG,CAAC,OAAQ,GAAG,SACbnB,EAAKoB,IAAI,CAACC,EAAMC,MACdC,EAAG,CAAC,KAAM,EAAE,WACX,MAAA,CACE,UAAY,GAAEC,EAAMC,UAAUD,EAAM,WAAaF,EAAQ,MAAM,SAG/D,CAAAI,EAAA,MAAA,CAAK,UAAWF,EAAMzB,MAAM,SAAEsB,EAAKtB,KAAAA,CAAK,EACxC2B,EAAA,MAAA,CACE,UAAY,GAAEF,EAAMG,WAAWH,EAAM,SAAWF,EAAQ,MAAM,SAE7DD,EAAKO,KAAAA,CACF,CAAA,GAPDN,CAAK,CAQN,EAXWA,CAAK,CAazB,CAAA,CAAC,CAAA,CACE,CAAA,CAEP,CAEP"}