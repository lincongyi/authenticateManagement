import{r as l,j as t,A as de,O as ft,J as ht,t as M,q as Lt,_ as he,s as Ht,c5 as jt,w as Se,v as Q,a as i,aD as vt,c6 as Ut,ar as gt,y as qt,c7 as Me,c8 as Gt,X as Wt,Z as Kt,$ as Xt,a1 as Te,a3 as bt,c9 as Ft,a2 as yt,a0 as Yt,ca as Jt,cb as Zt,cc as Qt,bB as en,ad as tn,ae as nn,ah as an,af as rn,ag as sn,ak as Pe,cd as st,ce as ut,cf as un,be as on,al as ln,R as Ae,d as $,u as ie,F as R,m as ve,M as Le,D as le,c as se,C as V,b as re,B as L,aE as De,aK as He,I as cn,bG as dn,cg as pn,aT as mn,ch as fn,aG as ot,br as hn,aL as vn,T as gn}from"./index.c52fca20.js";import{c as bn,d as Fn,e as yn,f as Nt,h as Nn,i as En,j as xn,k as Cn,l as In,g as Sn}from"./myApp.a519d09c.js";import{d as Ee,D as Bn}from"./zh-cn.a53d2a2c.js";import{d as xe,r as An,a as Dn}from"./date.af76f94e.js";import{i as $n}from"./index.ac9f3c72.js";import{u as _n}from"./index.11225de7.js";import{C as je}from"./CheckCircleOutlined.da0e6509.js";import{T as Be}from"./index.06d46e80.js";import{A as ce}from"./index.89a3cefb.js";import{D as Z}from"./index.da45b459.js";import{R as Ve}from"./index.287424bd.js";import{D as wn}from"./index.8f9ba840.js";import{a as kn}from"./devDocument.693946df.js";import{T as Rn}from"./Table.1bb7f34d.js";import"./index.b6117a9a.js";import"./useBreakpoint.00aa8cd3.js";import"./Pagination.fdfbd77b.js";import"./index.0809a7e8.js";import"./index.4d51213d.js";import"./index.e16ae36e.js";var On={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const Mn=On;var Tn=function(n,a){return t(de,{...n,ref:a,icon:Mn})};const Pn=l.exports.forwardRef(Tn);function ze(){return typeof BigInt=="function"}function Et(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function ae(e){var n=e.trim(),a=n.startsWith("-");a&&(n=n.slice(1)),n=n.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),n.startsWith(".")&&(n="0".concat(n));var s=n||"0",u=s.split("."),o=u[0]||"0",d=u[1]||"0";o==="0"&&d==="0"&&(a=!1);var f=a?"-":"";return{negative:a,negativeStr:f,trimStr:s,integerStr:o,decimalStr:d,fullStr:"".concat(f).concat(s)}}function Ue(e){var n=String(e);return!Number.isNaN(Number(n))&&n.includes("e")}function ne(e){var n=String(e);if(Ue(e)){var a=Number(n.slice(n.indexOf("e-")+2)),s=n.match(/\.(\d+)/);return s!=null&&s[1]&&(a+=s[1].length),a}return n.includes(".")&&qe(n)?n.length-n.indexOf(".")-1:0}function $e(e){var n=String(e);if(Ue(e)){if(e>Number.MAX_SAFE_INTEGER)return String(ze()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(ze()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);n=e.toFixed(ne(n))}return ae(n).fullStr}function qe(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var Vn=function(){function e(n){if(ht(this,e),M(this,"origin",""),M(this,"negative",void 0),M(this,"integer",void 0),M(this,"decimal",void 0),M(this,"decimalLen",void 0),M(this,"empty",void 0),M(this,"nan",void 0),Et(n)){this.empty=!0;return}if(this.origin=String(n),n==="-"||Number.isNaN(n)){this.nan=!0;return}var a=n;if(Ue(a)&&(a=Number(a)),a=typeof a=="string"?a:$e(a),qe(a)){var s=ae(a);this.negative=s.negative;var u=s.trimStr.split(".");this.integer=BigInt(u[0]);var o=u[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}return ft(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(a){var s="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(a,"0"));return BigInt(s)}},{key:"negate",value:function(){var a=new e(this.toString());return a.negative=!a.negative,a}},{key:"cal",value:function(a,s,u){var o=Math.max(this.getDecimalStr().length,a.getDecimalStr().length),d=this.alignDecimal(o),f=a.alignDecimal(o),p=s(d,f).toString(),m=u(o),h=ae(p),F=h.negativeStr,g=h.trimStr,v="".concat(F).concat(g.padStart(m+1,"0"));return new e("".concat(v.slice(0,-m),".").concat(v.slice(-m)))}},{key:"add",value:function(a){if(this.isInvalidate())return new e(a);var s=new e(a);return s.isInvalidate()?this:this.cal(s,function(u,o){return u+o},function(u){return u})}},{key:"multi",value:function(a){var s=new e(a);return this.isInvalidate()||s.isInvalidate()?new e(NaN):this.cal(s,function(u,o){return u*o},function(u){return u*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(a){return this.toString()===(a==null?void 0:a.toString())}},{key:"lessEquals",value:function(a){return this.add(a.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return a?this.isInvalidate()?"":ae("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),zn=function(){function e(n){if(ht(this,e),M(this,"origin",""),M(this,"number",void 0),M(this,"empty",void 0),Et(n)){this.empty=!0;return}this.origin=String(n),this.number=Number(n)}return ft(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(a){if(this.isInvalidate())return new e(a);var s=Number(a);if(Number.isNaN(s))return this;var u=this.number+s;if(u>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(u<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(ne(this.number),ne(s));return new e(u.toFixed(o))}},{key:"multi",value:function(a){var s=Number(a);if(this.isInvalidate()||Number.isNaN(s))return new e(NaN);var u=this.number*s;if(u>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(u<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(ne(this.number),ne(s));return new e(u.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(a){return this.toNumber()===(a==null?void 0:a.toNumber())}},{key:"lessEquals",value:function(a){return this.add(a.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return a?this.isInvalidate()?"":$e(this.number):this.origin}}]),e}();function U(e){return ze()?new Vn(e):new zn(e)}function Ce(e,n,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var u=ae(e),o=u.negativeStr,d=u.integerStr,f=u.decimalStr,p="".concat(n).concat(f),m="".concat(o).concat(d);if(a>=0){var h=Number(f[a]);if(h>=5&&!s){var F=U(e).add("".concat(o,"0.").concat("0".repeat(a)).concat(10-h));return Ce(F.toString(),n,a,s)}return a===0?m:"".concat(m).concat(n).concat(f.padEnd(a,"0").slice(0,a))}return p===".0"?m:"".concat(m).concat(p)}function Ln(e,n){var a=l.exports.useRef(null);function s(){try{var o=e.selectionStart,d=e.selectionEnd,f=e.value,p=f.substring(0,o),m=f.substring(d);a.current={start:o,end:d,value:f,beforeTxt:p,afterTxt:m}}catch{}}function u(){if(e&&a.current&&n)try{var o=e.value,d=a.current,f=d.beforeTxt,p=d.afterTxt,m=d.start,h=o.length;if(o.endsWith(p))h=o.length-a.current.afterTxt.length;else if(o.startsWith(f))h=f.length;else{var F=f[m-1],g=o.indexOf(F,m-1);g!==-1&&(h=g+1)}e.setSelectionRange(h,h)}catch(v){Lt(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(v.message))}}return[s,u]}var Hn=function(){var n=l.exports.useState(!1),a=he(n,2),s=a[0],u=a[1];return Ht(function(){u(jt())},[]),s},jn=200,Un=600;function qn(e){var n=e.prefixCls,a=e.upNode,s=e.downNode,u=e.upDisabled,o=e.downDisabled,d=e.onStep,f=l.exports.useRef(),p=l.exports.useRef([]),m=l.exports.useRef();m.current=d;var h=function(){clearTimeout(f.current)},F=function(y,D){y.preventDefault(),h(),m.current(D);function O(){m.current(D),f.current=setTimeout(O,jn)}f.current=setTimeout(O,Un)};l.exports.useEffect(function(){return function(){h(),p.current.forEach(function(c){return Se.cancel(c)})}},[]);var g=Hn();if(g)return null;var v="".concat(n,"-handler"),E=Q(v,"".concat(v,"-up"),M({},"".concat(v,"-up-disabled"),u)),k=Q(v,"".concat(v,"-down"),M({},"".concat(v,"-down-disabled"),o)),S=function(){return p.current.push(Se(h))},x={unselectable:"on",role:"button",onMouseUp:S,onMouseLeave:S};return i("div",{className:"".concat(v,"-wrap"),children:[t("span",{...x,onMouseDown:function(y){F(y,!0)},"aria-label":"Increase Value","aria-disabled":u,className:E,children:a||t("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})}),t("span",{...x,onMouseDown:function(y){F(y,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:k,children:s||t("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})})]})}function lt(e){var n=typeof e=="number"?$e(e):ae(e).fullStr,a=n.includes(".");return a?ae(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const Gn=function(){var e=l.exports.useRef(0),n=function(){Se.cancel(e.current)};return l.exports.useEffect(function(){return n},[]),function(a){n(),e.current=Se(function(){a()})}};var Wn=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Kn=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","classes","className","classNames"],ct=function(n,a){return n||a.isEmpty()?a.toString():a.toNumber()},dt=function(n){var a=U(n);return a.isInvalidate()?null:a},Xn=l.exports.forwardRef(function(e,n){var a,s=e.prefixCls,u=s===void 0?"rc-input-number":s,o=e.className,d=e.style,f=e.min,p=e.max,m=e.step,h=m===void 0?1:m,F=e.defaultValue,g=e.value,v=e.disabled,E=e.readOnly,k=e.upHandler,S=e.downHandler,x=e.keyboard,c=e.controls,y=c===void 0?!0:c,D=e.classNames,O=e.stringMode,P=e.parser,T=e.formatter,z=e.precision,H=e.decimalSeparator,w=e.onChange,J=e.onInput,K=e.onPressEnter,X=e.onStep,q=vt(e,Wn),B="".concat(u,"-input"),j=l.exports.useRef(null),te=l.exports.useState(!1),ge=he(te,2),be=ge[0],Fe=ge[1],G=l.exports.useRef(!1),Y=l.exports.useRef(!1),ye=l.exports.useRef(!1),Bt=l.exports.useState(function(){return U(g!=null?g:F)}),Ke=he(Bt,2),_=Ke[0],Xe=Ke[1];function At(N){g===void 0&&Xe(N)}var _e=l.exports.useCallback(function(N,b){if(!b)return z>=0?z:Math.max(ne(N),ne(h))},[z,h]),we=l.exports.useCallback(function(N){var b=String(N);if(P)return P(b);var A=b;return H&&(A=A.replace(H,".")),A.replace(/[^\w.-]+/g,"")},[P,H]),ke=l.exports.useRef(""),Ye=l.exports.useCallback(function(N,b){if(T)return T(N,{userTyping:b,input:String(ke.current)});var A=typeof N=="number"?$e(N):N;if(!b){var C=_e(A,b);if(qe(A)&&(H||C>=0)){var W=H||".";A=Ce(A,W,C)}}return A},[T,_e,H]),Dt=l.exports.useState(function(){var N=F!=null?F:g;return _.isInvalidate()&&["string","number"].includes(qt(N))?Number.isNaN(N)?"":N:Ye(_.toString(),!1)}),Je=he(Dt,2),pe=Je[0],Ze=Je[1];ke.current=pe;function me(N,b){Ze(Ye(N.isInvalidate()?N.toString(!1):N.toString(!b),b))}var ue=l.exports.useMemo(function(){return dt(p)},[p,z]),oe=l.exports.useMemo(function(){return dt(f)},[f,z]),Qe=l.exports.useMemo(function(){return!ue||!_||_.isInvalidate()?!1:ue.lessEquals(_)},[ue,_]),et=l.exports.useMemo(function(){return!oe||!_||_.isInvalidate()?!1:_.lessEquals(oe)},[oe,_]),$t=Ln(j.current,be),tt=he($t,2),_t=tt[0],wt=tt[1],nt=function(b){return ue&&!b.lessEquals(ue)?ue:oe&&!oe.lessEquals(b)?oe:null},Re=function(b){return!nt(b)},Ne=function(b,A){var C=b,W=Re(C)||C.isEmpty();if(!C.isEmpty()&&!A&&(C=nt(C)||C,W=!0),!E&&!v&&W){var fe=C.toString(),Oe=_e(fe,A);return Oe>=0&&(C=U(Ce(fe,".",Oe)),Re(C)||(C=U(Ce(fe,".",Oe,!0)))),C.equals(_)||(At(C),w==null||w(C.isEmpty()?null:ct(O,C)),g===void 0&&me(C,A)),C}return _},kt=Gn(),at=function N(b){if(_t(),ke.current=b,Ze(b),!Y.current){var A=we(b),C=U(A);C.isNaN()||Ne(C,!0)}J==null||J(b),kt(function(){var W=b;P||(W=b.replace(/。/g,".")),W!==b&&N(W)})},Rt=function(){Y.current=!0},Ot=function(){Y.current=!1,at(j.current.value)},Mt=function(b){at(b.target.value)},rt=function(b){var A;if(!(b&&Qe||!b&&et)){G.current=!1;var C=U(ye.current?lt(h):h);b||(C=C.negate());var W=(_||U(0)).add(C.toString()),fe=Ne(W,!1);X==null||X(ct(O,fe),{offset:ye.current?lt(h):h,type:b?"up":"down"}),(A=j.current)===null||A===void 0||A.focus()}},it=function(b){var A=U(we(pe)),C=A;A.isNaN()?C=Ne(_,b):C=Ne(A,b),g!==void 0?me(_,!1):C.isNaN()||me(C,!1)},Tt=function(){G.current=!0},Pt=function(b){var A=b.key,C=b.shiftKey;G.current=!0,ye.current=C,A==="Enter"&&(Y.current||(G.current=!1),it(!1),K==null||K(b)),x!==!1&&!Y.current&&["Up","ArrowUp","Down","ArrowDown"].includes(A)&&(rt(A==="Up"||A==="ArrowUp"),b.preventDefault())},Vt=function(){G.current=!1,ye.current=!1},zt=function(){it(!1),Fe(!1),G.current=!1};return Me(function(){_.isInvalidate()||me(_,!1)},[z]),Me(function(){var N=U(g);Xe(N);var b=U(we(pe));(!N.equals(b)||!G.current||T)&&me(N,G.current)},[g]),Me(function(){T&&wt()},[pe]),i("div",{className:Q(u,D==null?void 0:D.input,o,(a={},M(a,"".concat(u,"-focused"),be),M(a,"".concat(u,"-disabled"),v),M(a,"".concat(u,"-readonly"),E),M(a,"".concat(u,"-not-a-number"),_.isNaN()),M(a,"".concat(u,"-out-of-range"),!_.isInvalidate()&&!Re(_)),a)),style:d,onFocus:function(){Fe(!0)},onBlur:zt,onKeyDown:Pt,onKeyUp:Vt,onCompositionStart:Rt,onCompositionEnd:Ot,onBeforeInput:Tt,children:[y&&t(qn,{prefixCls:u,upNode:k,downNode:S,upDisabled:Qe,downDisabled:et,onStep:rt}),t("div",{className:"".concat(B,"-wrap"),children:t("input",{autoComplete:"off",role:"spinbutton","aria-valuemin":f,"aria-valuemax":p,"aria-valuenow":_.isInvalidate()?null:_.toString(),step:h,...q,ref:gt(j,n),className:B,value:pe,onChange:Mt,disabled:v,readOnly:E})})]})}),xt=l.exports.forwardRef(function(e,n){var a=e.disabled,s=e.style,u=e.prefixCls,o=e.value,d=e.prefix,f=e.suffix,p=e.addonBefore,m=e.addonAfter,h=e.classes,F=e.className,g=e.classNames,v=vt(e,Kn),E=l.exports.useRef(null),k=function(x){E.current&&Gt(E.current,x)};return t(Ut,{inputElement:t(Xn,{prefixCls:u,disabled:a,classNames:g,ref:gt(E,n),...v}),className:F,triggerFocus:k,prefixCls:u,value:o,disabled:a,style:s,prefix:d,suffix:f,addonAfter:m,addonBefore:p,classes:h,classNames:g,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}})});xt.displayName="InputNumber";const pt=(e,n)=>{let{componentCls:a,borderRadiusSM:s,borderRadiusLG:u}=e;const o=n==="lg"?u:s;return{[`&-${n}`]:{[`${a}-handler-wrap`]:{borderStartEndRadius:o,borderEndEndRadius:o},[`${a}-handler-up`]:{borderStartEndRadius:o},[`${a}-handler-down`]:{borderEndEndRadius:o}}}},Yn=e=>{const{componentCls:n,lineWidth:a,lineType:s,colorBorder:u,borderRadius:o,fontSizeLG:d,controlHeightLG:f,controlHeightSM:p,colorError:m,inputPaddingHorizontalSM:h,colorTextDescription:F,motionDurationMid:g,colorPrimary:v,inputPaddingHorizontal:E,inputPaddingVertical:k,colorBgContainer:S,colorTextDisabled:x,borderRadiusSM:c,borderRadiusLG:y,controlWidth:D,handleVisible:O}=e;return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Te(e)),bt(e)),Ft(e,n)),{display:"inline-block",width:D,margin:0,padding:0,border:`${a}px ${s} ${u}`,borderRadius:o,"&-rtl":{direction:"rtl",[`${n}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:d,borderRadius:y,[`input${n}-input`]:{height:f-2*a}},"&-sm":{padding:0,borderRadius:c,[`input${n}-input`]:{height:p-2*a,padding:`0 ${h}px`}},"&:hover":Object.assign({},yt(e)),"&-focused":Object.assign({},Yt(e)),"&-out-of-range":{[`${n}-input-wrap`]:{input:{color:m}}},"&-group":Object.assign(Object.assign(Object.assign({},Te(e)),Jt(e)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${n}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${n}-group-addon`]:{borderRadius:y,fontSize:e.fontSizeLG}},"&-sm":{[`${n}-group-addon`]:{borderRadius:c}},[`${n}-wrapper-disabled > ${n}-group-addon`]:Object.assign({},Zt(e))}}),[`&-disabled ${n}-input`]:{cursor:"not-allowed"},[n]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Te(e)),{width:"100%",padding:`${k}px ${E}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${g} linear`,appearance:"textfield",fontSize:"inherit"}),Qt(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[n]:Object.assign(Object.assign(Object.assign({[`&:hover ${n}-handler-wrap, &-focused ${n}-handler-wrap`]:{opacity:1},[`${n}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleWidth,height:"100%",background:S,borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,opacity:O===!0?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${g} linear ${g}`,[`${n}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${n}-handler-up-inner,
              ${n}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${n}-handler`]:{height:"50%",overflow:"hidden",color:F,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${a}px ${s} ${u}`,transition:`all ${g} linear`,"&:active":{background:e.colorFillAlter},"&:hover":{height:"60%",[`
              ${n}-handler-up-inner,
              ${n}-handler-down-inner
            `]:{color:v}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},en()),{color:F,transition:`all ${g} linear`,userSelect:"none"})},[`${n}-handler-up`]:{borderStartEndRadius:o},[`${n}-handler-down`]:{borderBlockStart:`${a}px ${s} ${u}`,borderEndEndRadius:o}},pt(e,"lg")),pt(e,"sm")),{"&-disabled, &-readonly":{[`${n}-handler-wrap`]:{display:"none"},[`${n}-input`]:{color:"inherit"}},[`
          ${n}-handler-up-disabled,
          ${n}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${n}-handler-up-disabled:hover &-handler-up-inner,
          ${n}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:x}})},{[`${n}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${n}-handler-down`]:{borderBlockStartWidth:0}}}]},Jn=e=>{const{componentCls:n,inputPaddingVertical:a,inputPaddingHorizontal:s,inputAffixPadding:u,controlWidth:o,borderRadiusLG:d,borderRadiusSM:f}=e;return{[`${n}-affix-wrapper`]:Object.assign(Object.assign(Object.assign({},bt(e)),Ft(e,`${n}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:o,padding:0,paddingInlineStart:s,"&-lg":{borderRadius:d},"&-sm":{borderRadius:f},[`&:not(${n}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},yt(e)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},[`&-disabled > ${n}-disabled`]:{background:"transparent"},[`> div${n}`]:{width:"100%",border:"none",outline:"none",[`&${n}-focused`]:{boxShadow:"none !important"}},[`input${n}-input`]:{padding:`${a}px 0`},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${n}-handler-wrap`]:{zIndex:2},[n]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:u},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:s,marginInlineStart:u}}})}},Zn=Wt("InputNumber",e=>{const n=Kt(e);return[Yn(n),Jn(n),Xt(n)]},e=>({controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:"auto"}));var Qn=globalThis&&globalThis.__rest||function(e,n){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(e);u<s.length;u++)n.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(e,s[u])&&(a[s[u]]=e[s[u]]);return a};const Ct=l.exports.forwardRef((e,n)=>{const{getPrefixCls:a,direction:s}=l.exports.useContext(tn),u=l.exports.useRef(null);l.exports.useImperativeHandle(n,()=>u.current);const{className:o,rootClassName:d,size:f,disabled:p,prefixCls:m,addonBefore:h,addonAfter:F,prefix:g,bordered:v=!0,readOnly:E,status:k,controls:S}=e,x=Qn(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),c=a("input-number",m),[y,D]=Zn(c),{compactSize:O,compactItemClassnames:P}=nn(c,s);let T=t(Pn,{className:`${c}-handler-up-inner`}),z=t(on,{className:`${c}-handler-down-inner`});const H=typeof S=="boolean"?S:void 0;typeof S=="object"&&(T=typeof S.upIcon>"u"?T:t("span",{className:`${c}-handler-up-inner`,children:S.upIcon}),z=typeof S.downIcon>"u"?z:t("span",{className:`${c}-handler-down-inner`,children:S.downIcon}));const{hasFeedback:w,status:J,isFormItemInput:K,feedbackIcon:X}=l.exports.useContext(an),q=ln(J,k),B=rn(G=>{var Y;return(Y=f!=null?f:O)!==null&&Y!==void 0?Y:G}),j=l.exports.useContext(sn),te=p!=null?p:j,ge=Q({[`${c}-lg`]:B==="large",[`${c}-sm`]:B==="small",[`${c}-rtl`]:s==="rtl",[`${c}-borderless`]:!v,[`${c}-in-form-item`]:K},Pe(c,q),P,D),be=`${c}-group`,Fe=t(xt,{...Object.assign({ref:u,disabled:te,className:Q(o,d),upHandler:T,downHandler:z,prefixCls:c,readOnly:E,controls:H,prefix:g,suffix:w&&X,addonAfter:F&&t(st,{children:t(ut,{override:!0,status:!0,children:F})}),addonBefore:h&&t(st,{children:t(ut,{override:!0,status:!0,children:h})}),classNames:{input:ge},classes:{affixWrapper:Q(Pe(`${c}-affix-wrapper`,q,w),{[`${c}-affix-wrapper-sm`]:B==="small",[`${c}-affix-wrapper-lg`]:B==="large",[`${c}-affix-wrapper-rtl`]:s==="rtl",[`${c}-affix-wrapper-borderless`]:!v},D),wrapper:Q({[`${be}-rtl`]:s==="rtl",[`${c}-wrapper-disabled`]:te},D),group:Q({[`${c}-group-wrapper-sm`]:B==="small",[`${c}-group-wrapper-lg`]:B==="large",[`${c}-group-wrapper-rtl`]:s==="rtl"},Pe(`${c}-group-wrapper`,q,w),D)}},x)});return y(Fe)}),It=Ct,ea=e=>t(un,{theme:{components:{InputNumber:{handleVisible:!0}}},children:t(Ct,{...Object.assign({},e)})});It._InternalPanelDoNotUseOrYouWillBeFired=ea;const Ie=It;var ta={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};const na=ta;var aa=function(n,a){return t(de,{...n,ref:a,icon:na})};const ra=l.exports.forwardRef(aa);var ia={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"down-circle",theme:"outlined"};const sa=ia;var ua=function(n,a){return t(de,{...n,ref:a,icon:sa})};const oa=l.exports.forwardRef(ua);var la={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"};const ca=la;var da=function(n,a){return t(de,{...n,ref:a,icon:ca})};const pa=l.exports.forwardRef(da);var ma={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"};const fa=ma;var ha=function(n,a){return t(de,{...n,ref:a,icon:fa})};const va=l.exports.forwardRef(ha);var ga={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.5 360.3a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7H381c10.2 0 19.9-4.9 25.9-13.2L512 460.4l105.2 145.4c6 8.3 15.6 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.5-12.7l-178-246z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"up-circle",theme:"outlined"};const ba=ga;var Fa=function(n,a){return t(de,{...n,ref:a,icon:ba})};const ya=l.exports.forwardRef(Fa),Na="_section_8y34e_1",Ea="_primary_8y34e_10",xa="_name_8y34e_15",Ca="_edit_8y34e_19",Ia="_remark_8y34e_24",Sa="_icon_8y34e_40",Ba="_active_8y34e_48",Aa="_collapse_8y34e_58",Da="_container_8y34e_64",$a="_panel_8y34e_71",_a="_title_8y34e_77",wa="_content_8y34e_87",ka="_item_8y34e_90",I={section:Na,"basic-info":"_basic-info_8y34e_7",primary:Ea,name:xa,edit:Ca,remark:Ia,"env-info":"_env-info_8y34e_33","tab-item":"_tab-item_8y34e_36",icon:Sa,"sit-icon":"_sit-icon_8y34e_45",active:Ba,"prod-icon":"_prod-icon_8y34e_51",collapse:Aa,container:Da,panel:$a,title:_a,content:wa,item:ka},Ra="_section_knbe3_1",Oa="_flex_knbe3_7",Ma="_disable_knbe3_19",Ta="_content_knbe3_35",Pa="_process_knbe3_40",Va="_title_knbe3_47",za="_active_knbe3_52",La="_step_knbe3_56",Ha="_tag_knbe3_67",ja="_name_knbe3_86",Ua="_btn_knbe3_91",qa="_step01_knbe3_105",Ga="_step02_knbe3_108",Wa="_step03_knbe3_111",Ka="_step05_knbe3_114",Xa="_done_knbe3_132",Ya="_dashed_knbe3_148",Ja="_panel_knbe3_173",Za="_label_knbe3_215",Qa="_value_knbe3_221",er="_amount_knbe3_228",tr="_dot_knbe3_234",r={section:Ra,flex:Oa,"sit-bar":"_sit-bar_knbe3_11",disable:Ma,"prod-bar":"_prod-bar_knbe3_23","sit-env":"_sit-env_knbe3_35",content:Ta,process:Pa,title:Va,active:za,step:La,tag:Ha,"step-icon":"_step-icon_knbe3_75",name:ja,btn:Ua,"btn-icon":"_btn-icon_knbe3_100",step01:qa,step02:Ga,step03:Wa,step05:Ka,"done-icon":"_done-icon_knbe3_132",done:Xa,dashed:Ya,panel:Ja,"flex-column":"_flex-column_knbe3_179","info-item":"_info-item_knbe3_208",label:Za,value:Qa,amount:er,dot:tr,"accessed-dot":"_accessed-dot_knbe3_241","unaccessed-dot":"_unaccessed-dot_knbe3_244"},nr=({chartData:e})=>{let n;const a={xAxis:{type:"category",data:e.xAxis},yAxis:{type:"value"},series:[{data:e.yAxis,type:"line"}]};return l.exports.useEffect(()=>{if(!n){const s=document.getElementById("line");if(!s)return;n=$n(s),n.setOption(a),n.resize()}return window.onresize=()=>n.resize(),()=>{window.onresize=()=>{}}},[a]),t($,{children:t("div",{id:"line",style:{height:352}})})},ar=Ae.memo(nr),rr=({id:e,open:n,setOpen:a})=>{const{env:s}=l.exports.useContext(ee),{myAppStore:u}=ie(),o=u.envClientId[s],[d]=R.useForm(),p={labelCol:{span:4},wrapperCol:{span:20},validateMessages:{required:"\u8BF7\u8F93\u5165${label}"},autoComplete:"off"},m=()=>{d.resetFields(),a(!1)},[h,F]=ve.useMessage();return i($,{children:[F,i(Le,{title:"\u7533\u8BF7\u589E\u52A0\u7528\u91CF",centered:!0,open:n,width:640,onCancel:m,footer:[],children:[t(le,{}),t(ce,{message:"\u6BCF\u65E5\u53EF\u53D1\u8D773\u6B21\u7533\u8BF7\u589E\u52A0\u7528\u91CF\uFF0C\u6B21\u65E5\u5C06\u91CD\u7F6E\u7528\u91CF\u9650\u989D\u3002",type:"info",showIcon:!0,style:{marginBottom:20}}),i(R,{form:d,name:"increase",...p,onFinish:async E=>{await bn({...E,apiId:e,clientId:o}),h.success({content:"\u7533\u8BF7\u6210\u529F",duration:2}),m()},onFinishFailed:E=>{console.log("Failed:",E)},children:[t(R.Item,{label:"\u589E\u52A0\u7528\u91CF",name:"num",rules:[{required:!0}],children:t(Ie,{placeholder:"\u8BF7\u8F93\u5165\u589E\u52A0\u7528\u91CF\u503C",addonAfter:"\u6B21",style:{width:"100%"}})}),t(le,{}),t(R.Item,{noStyle:!0,wrapperCol:{span:24},children:t(se,{children:t(V,{span:24,className:"tr",children:i(re,{children:[t(L,{onClick:m,children:"\u53D6\u6D88"}),t(L,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})})})]})]})]})},ir=({id:e,open:n,setOpen:a})=>{const{env:s}=l.exports.useContext(ee),{myAppStore:u}=ie(),o=u.envClientId[s],[d]=R.useForm(),p={labelCol:{span:6},wrapperCol:{span:18},validateMessages:{required:"\u8BF7\u8F93\u5165${label}"},autoComplete:"off"};l.exports.useEffect(()=>{(async()=>{if(!n)return;const{data:E}=await Fn({apiId:+e,clientId:o});d.setFieldsValue(E)})()},[n]);const m=()=>{d.resetFields(),a(!1)},[h,F]=ve.useMessage();return i($,{children:[F,i(Le,{title:"\u9884\u8B66\u8BBE\u7F6E",centered:!0,open:n,width:640,onCancel:m,footer:[],children:[t(le,{}),t(ce,{message:"\u5E73\u53F0\u5C06\u6839\u636E\u60A8\u7684\u9884\u8B66\u8BBE\u7F6E\u8FDB\u884C\u63A8\u9001\u7CFB\u7EDF\u901A\u77E5\u53CA\u90AE\u4EF6\u901A\u77E5\uFF01",type:"info",showIcon:!0,style:{marginBottom:20}}),i(R,{form:d,name:"warning",...p,onFinish:async E=>{await yn({...E,apiId:+e,clientId:o}),h.success({content:"\u9884\u8B66\u8BBE\u7F6E\u6210\u529F",duration:2}),m()},onFinishFailed:E=>{console.log("Failed:",E)},children:[t(R.Item,{label:"\u8C03\u7528\u91CF\u9884\u8B66\u9608\u503C",name:"proportion",rules:[{required:!0}],children:t(Ie,{placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u91CF\u9884\u8B66\u9608\u503C",addonAfter:"%",style:{width:"100%"}})}),t(R.Item,{label:"\u62A5\u9519\u6B21\u6570\u9884\u8B66\u9608\u503C",name:"errorNum",rules:[{required:!0}],children:t(Ie,{placeholder:"\u62A5\u9519\u6B21\u6570\u9884\u8B66\u9608\u503C",addonAfter:"\u6B21/\u5206\u949F",style:{width:"100%"}})}),t(R.Item,{label:"\u8C03\u7528\u8D85\u65F6\u9884\u8B66\u9608\u503C",name:"timeoutNum",rules:[{required:!0}],children:t(Ie,{placeholder:"\u8C03\u7528\u8D85\u65F6\u9884\u8B66\u9608\u503C",addonAfter:"\u6BEB\u79D2\uFF08ms\uFF09",style:{width:"100%"}})}),t(le,{}),t(R.Item,{noStyle:!0,wrapperCol:{span:24},children:t(se,{children:t(V,{span:24,className:"tr",children:i(re,{children:[t(L,{onClick:m,children:"\u53D6\u6D88"}),t(L,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]})})})})]})]})]})},Ge=Ae.createContext({capability:void 0,fetchAppInfoByEnv:void 0}),sr=()=>{const{env:e,isEnable:n}=l.exports.useContext(ee),[a,s]=l.exports.useState(),{myAppStore:u}=ie(),o=u.appId,[d,f]=l.exports.useState(1),[p,m]=l.exports.useState(),h=async x=>{const{data:c}=await Nt({appId:o,appEnv:e});if(!c)return;s(c);let y=0;if(x){const O=c.findIndex(P=>P.capabilityId===x.capabilityId);O!==-1&&(y=O)}m(c[y]);const D=c[y].state;f(D)};l.exports.useEffect(()=>{h()},[]);const F=x=>{const c=a==null?void 0:a.find(y=>y.capabilityId===+x);!c||(m(c),f(c.state))},[g,v]=ve.useMessage(),E=De(),k=()=>{if(!n)return g.warning("\u8BE5\u5E94\u7528\u5DF2\u505C\u7528");if(!p)return;if(d<5)return g.warning("\u8BF7\u63A5\u5165\u6D4B\u8BD5\u73AF\u5883\u57FA\u7840\u80FD\u529B");const{capabilityId:x}=p;E(`./access?appId=${o}&capabilityId=${x}&env=${e}`)},S=()=>{if(!p)return;const{flowId:x}=p;E(`/app/myApplications?processInstanceId=${x}`)};return i($,{children:[v,a?t(He,{activeKey:p&&(p==null?void 0:p.capabilityId.toString()),onChange:F,type:"card",items:a.map(x=>({label:i($,{children:[x.capabilityName,x.state>=7&&t(je,{style:{marginLeft:10}})]}),key:x.capabilityId.toString()}))}):"\u6CA1\u6709\u63A5\u5165\u4EFB\u4F55\u57FA\u7840\u80FD\u529B\uFF0C\u5FEB\u53BB\u6DFB\u52A0\u63A5\u5165\u5427~",a&&!!a.length?t($,{children:n&&d>6?t($,{children:p&&t(Ge.Provider,{value:{capability:p,fetchAppInfoByEnv:h},children:t(St,{})})}):i("div",{className:`${r.section} ${r.flex}`,children:[t("div",{className:r["prod-bar"]}),t("div",{className:`${r.process} ${r["prod-env"]}`,children:i("div",{className:r.content,children:[t("div",{className:r.title,style:{marginBottom:60},children:"\u80FD\u529B\u63A5\u5165\u5E94\u7528\u6D41\u7A0B"}),t("div",{className:`${r.title} ${r.active}`,style:{marginBottom:20},children:"\u63A5\u5165\u6B63\u5F0F\u73AF\u5883\u6D41\u7A0B"}),i(se,{children:[i(V,{span:6,className:r.flex,children:[i("div",{className:`${r.step} ${d>=5&&r.active} ${d>5&&r.done}`,children:[i("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"5"})]}),i("div",{className:r.name,children:[t("i",{className:r["done-icon"]}),"\u6DFB\u52A0\u63A5\u5165\u57FA\u7840\u80FD\u529B"]}),d<=5&&i("div",{className:r.btn,onClick:k,children:[t("i",{className:`${r["btn-icon"]} ${r.step05}`}),"\u7533\u8BF7\u63A5\u5165\u6B63\u5F0F\u73AF\u5883"]})]}),t("div",{className:`${r.dashed} ${d>5&&r.active}`})]}),i(V,{span:6,className:r.flex,children:[i("div",{className:`${r.step} ${d>=6&&r.active} ${d>6&&r.done}`,children:[i("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"6"})]}),t("div",{className:r.name,children:"\u7B49\u5F85\u5BA1\u6279"}),d<=6&&i("div",{className:r.btn,onClick:S,children:[t("i",{className:`${r["btn-icon"]} ${r.step02}`}),"\u67E5\u770B\u5BA1\u6279\u5355"]})]}),t("div",{className:`${r.dashed} ${d>6&&r.active}`,children:"\u5BA1\u6279\u901A\u8FC7"})]})]})]})})]})}):"\u6682\u65E0\u63A5\u5165\u80FD\u529B"]})},{TextArea:ur}=cn,or=({open:e,setOpen:n})=>{const{env:a}=l.exports.useContext(ee),{capability:s,fetchAppInfoByEnv:u}=l.exports.useContext(a==="sit"?We:Ge),{myAppStore:o}=ie(),d=o.envClientId[a],{addTime:f,capabilityExpireTime:p,applyState:m}=s,[h,F]=l.exports.useState(0),g=w=>{if(!/^(\d{4})-(\d{2})-(\d{2})$/.test(w))return 0;const K=new Date().getTime(),q=new Date(w).getTime()-K,B=30*24*60*60*1e3;return q<0?2:q<B?1:0},[v,E]=l.exports.useState();l.exports.useEffect(()=>{F(g(p)),!(!s||!d)&&(m||(async()=>{const{data:w}=await Nn({capabilityId:s.capabilityId,clientId:d});E(w)})())},[]);const[k]=R.useForm(),x={labelCol:{span:6},wrapperCol:{span:18},validateMessages:{required:"\u8BF7\u8F93\u5165${label}"},autoComplete:"off"},c=()=>{k.resetFields(),n(!1)},[y,D]=l.exports.useState(!0),O=w=>{D(!!w.target.value)},[P,T]=ve.useMessage();return i($,{children:[T,i(Le,{title:"\u7533\u8BF7\u5EF6\u671F",centered:!0,open:e,width:640,onCancel:c,footer:[],children:[t(le,{}),i(R,{form:k,name:"delay",...x,initialValues:{type:1},onFinish:async w=>{await En({clientId:d,capabilityId:s.capabilityId,env:a,...w}),P.success({content:"\u5DF2\u6210\u529F\u63D0\u4EA4\u7533\u8BF7",duration:2,onClose(){u&&u()}}),c()},onFinishFailed:w=>{console.log("Failed:",w)},children:[!m&&t(ce,{message:"\u60A8\u5DF2\u63D0\u4EA4\u5EF6\u671F\u7533\u8BF7\uFF0C\u53EF\u524D\u5F80\u3010\u6211\u7684\u7533\u8BF7\u3011\u67E5\u770B\u5BA1\u6279\u8FDB\u5EA6\u3002",type:"info",showIcon:!0,style:{marginBottom:20}}),t(R.Item,{label:"\u57FA\u7840\u670D\u52A1\u63A5\u5165\u65F6\u95F4",children:f}),i(R.Item,{label:"\u6709\u6548\u671F\u6B62",children:[p,[void 0,t(Be,{color:"error",style:{marginLeft:10},children:"\u5DF2\u8FC7\u671F"},1),t(Be,{color:"warning",style:{marginLeft:10},children:"\u5373\u5C06\u8FC7\u671F"},2)][h]]}),t(R.Item,{label:"\u662F\u5426\u5EF6\u957F\u6709\u6548\u671F:",name:m?"type":void 0,rules:[{required:!0}],children:m?t(Ve.Group,{onChange:O,value:y,children:i(re,{direction:"vertical",style:{margin:"6px 0"},children:[i(Ve,{value:1,children:["\u662F",t("span",{style:{color:"#9A9DA4",paddingLeft:8},children:"(\u6B63\u5F0F\u5E94\u7528\u8D26\u53F7\u9ED8\u8BA4\u5EF6\u957F1\u5E74\uFF0C\u6D4B\u8BD5\u5E94\u7528\u8D26\u53F7\u9ED8\u8BA4\u5EF6\u957F6\u4E2A\u6708\uFF09"})]}),i(Ve,{value:0,children:["\u5426",t("span",{style:{color:"#9A9DA4",paddingLeft:8},children:"(\u786E\u8BA4\u540E\u5C06\u4E0D\u518D\u901A\u77E5\u63D0\u9192\u5EF6\u671F\uFF09"})]})]})}):t($,{children:v&&["\u5426","\u662F"][v.type]})}),!m&&t(R.Item,{label:"\u5EF6\u957F\u6709\u6548\u671F\u81F3",children:v&&v.newExpireTime}),t(R.Item,{label:"\u5907\u6CE8\u8BF4\u660E",name:m?"describe":void 0,children:m?t(ur,{showCount:!0,maxLength:50,style:{height:120,resize:"none"},placeholder:"\u5907\u6CE8\u8BF4\u660E"}):t($,{children:v&&v.describe})}),!m&&t(R.Item,{label:"\u63D0\u4EA4\u7533\u8BF7\u5EF6\u671F\u65F6\u95F4:",children:v&&v.applyTime}),t(le,{}),t(R.Item,{noStyle:!0,wrapperCol:{span:24},children:t(se,{children:t(V,{span:24,className:"tr",children:i(re,{children:[t(L,{onClick:c,children:"\u53D6\u6D88"}),t(L,{type:"primary",htmlType:"submit",children:m?y?"\u63D0\u4EA4\u7533\u8BF7":"\u786E\u5B9A":"\u67E5\u770B\u5BA1\u6279\u8FDB\u5EA6"})]})})})})]})]})]})},{RangePicker:lr}=Bn,St=()=>{const{env:e}=l.exports.useContext(ee),{capability:n}=l.exports.useContext(e==="sit"?We:Ge),{myAppStore:a}=ie(),s=a.appId,u=a.envClientId[e],[o,d]=l.exports.useState(!0),[f,p]=l.exports.useState([Ee().add(-7,"d").format(xe),Ee().format(xe)]),m=(B,j)=>{p(j)},h=B=>{B||v()},[F,g]=l.exports.useState(),v=async()=>{if(!n||!u)return;const{data:B}=await Cn({capabilityId:n.capabilityId,clientId:u,startTime:f[0],endTime:f[1]});g(B)};l.exports.useEffect(()=>{v()},[]);const[E,k]=l.exports.useState();l.exports.useEffect(()=>{(async()=>{if(!n||!u)return;const{data:B}=await xn({capabilityId:n.capabilityId,clientId:u});k(B)})()},[]);const S=async B=>{if(!n)return;const{data:j}=await kn({id:n.capabilityId});if(!j)return;let te=`../../devDocument?projectId=${j.projectId}`;B&&(te+=`&directoryId=${B}`),w(te)},[x,c]=l.exports.useState(!1),[y,D]=l.exports.useState(),O=B=>{D(B),c(!0)},[P,T]=l.exports.useState(!1),z=B=>{D(B),T(!0)},H=[{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",ellipsis:!0},{title:"\u63A5\u53E3\u8BBF\u95EE\u8DEF\u5F84",dataIndex:"path",ellipsis:!0},{title:e==="sit"?"\u65E5\u7528\u91CF\u9650\u989D":"\u6BCF\u79D2\u5E76\u53D1\u6570",dataIndex:e==="sit"?"dateNum":"concurrency",ellipsis:!0},{title:"\u8BF7\u6C42\u603B\u6B21\u6570",dataIndex:"reqTotal",ellipsis:!0},{title:"\u8BF7\u6C42\u5931\u8D25\u6B21\u6570",dataIndex:"errorNum",ellipsis:!0},{title:"\u64CD\u4F5C",key:"action",width:250,render:B=>i($,{children:[t(L,{type:"link",onClick:()=>S(B.directoryId),children:"\u5F00\u53D1\u6587\u6863"}),e==="sit"?t(L,{type:"link",onClick:()=>O(B.id),children:"\u7533\u8BF7\u589E\u52A0\u7528\u91CF"}):t(L,{type:"link",onClick:()=>z(B.id),children:"\u9884\u8B66\u8BBE\u7F6E"})]})}],w=De(),J=()=>{!n||w(`./access?appId=${s}&capabilityId=${n.capabilityId}&env=${e}&isEdit=${!0}`)},[K,X]=l.exports.useState(!1),q=()=>{X(!0)};return i($,{children:[i(se,{gutter:[20,20],children:[t(V,{span:10,children:i("div",{className:r.panel,children:[t("div",{className:r.title,children:"\u80FD\u529B\u63A5\u5165\u4FE1\u606F"}),i("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"\u63A5\u5165\u72B6\u6001"}),t("div",{className:r.value,children:i(Be,{color:"green",children:[t(je,{style:{marginRight:4}}),"\u5DF2\u63A5\u5165"]})})]}),i("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"Client Secret"}),i("div",{className:r.value,children:[o?"**************":n==null?void 0:n.clientSecret,i(re,{children:[i("div",{style:{cursor:"pointer"},onClick:()=>d(!o),children:[o?t(dn,{style:{color:"#1E55D1",marginRight:4}}):t(pn,{style:{color:"#1E55D1",marginRight:4}}),o?"\u67E5\u770B":"\u9690\u85CF"]}),i("div",{style:{cursor:"pointer"},onClick:()=>mn(n==null?void 0:n.clientSecret),children:[t(fn,{style:{color:"#1E55D1",marginRight:4}}),"\u590D\u5236"]})]})]})]}),i("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"\u80FD\u529B\u8BBF\u95EE\u8DEF\u5F84"}),t("div",{className:r.value,children:n==null?void 0:n.path})]}),i("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"\u63A5\u5165\u65F6\u95F4"}),t("div",{className:r.value,children:n==null?void 0:n.addTime})]}),i("div",{className:r["info-item"],children:[t("div",{className:r.label,children:"\u914D\u7F6E\u66F4\u65B0\u65F6\u95F4"}),t("div",{className:r.value,children:n==null?void 0:n.updateTime})]})]})}),t(V,{span:14,children:i("div",{className:`${r.panel} ${r["flex-column"]}`,children:[i("div",{className:r.title,children:["\u80FD\u529B\u8C03\u7528\u6570\u636E",t(lr,{defaultValue:[Ee(f[0],xe),Ee(f[1],xe)],presets:An,disabledDate:Dn,onChange:m,onOpenChange:h})]}),F&&F.total?i($,{children:[t(ce,{style:{margin:"10px 0"},message:i($,{children:["\u80FD\u529B\u8C03\u7528\u603B\u91CF",t("span",{className:r.amount,children:F==null?void 0:F.total})]}),type:"info",showIcon:!0}),t(ar,{chartData:{xAxis:F.dateList,yAxis:F.numList}})]}):t("div",{className:"flex-center",style:{flex:1},children:t(ot,{image:ot.PRESENTED_IMAGE_SIMPLE})})]})}),t(V,{span:24,children:i("div",{className:r.panel,children:[t("div",{className:r.title,children:"\u80FD\u529BAPI\u63A5\u5165\u60C5\u51B5"}),t(ce,{style:{margin:"10px 0"},message:"\u6D4B\u8BD5\u73AF\u5883\u9650\u5236\u63A5\u53E3\u6BCF\u65E5\u7528\u91CF\u9650\u989D\uFF0C\u6BCF\u65E5\u53EF\u53D1\u8D773\u6B21\u7533\u8BF7\u589E\u52A0\u7528\u91CF\uFF0C\u6B21\u65E5\u5C06\u91CD\u7F6E\u7528\u91CF\u9650\u989D",type:"info",showIcon:!0}),t(Rn,{rowKey:"id",columns:H,dataSource:E})]})}),t(V,{span:24,children:i("div",{className:r.panel,children:[i("div",{className:r.title,children:["\u80FD\u529B\u914D\u7F6E\u4FE1\u606F",i(re,{children:[t(L,{type:"primary",icon:t(hn,{}),ghost:!0,onClick:J,children:"\u7533\u8BF7\u914D\u7F6E\u66F4\u6539"}),t(L,{type:"primary",icon:t(va,{}),ghost:!0,onClick:q,children:"\u7533\u8BF7\u5EF6\u671F"}),t(L,{type:"primary",icon:t(ra,{}),ghost:!0,onClick:()=>S(),children:"\u5F00\u53D1\u6587\u6863"})]})]}),n&&t(wn,{formList:n.form.formList})]})})]}),y&&t($,{children:e==="sit"?t(rr,{id:y,open:x,setOpen:c}):t(ir,{id:y,open:P,setOpen:T})}),t(or,{open:K,setOpen:X})]})},We=Ae.createContext({capability:void 0,fetchAppInfoByEnv:void 0}),cr=()=>{const{env:e,isEnable:n}=l.exports.useContext(ee),[a,s]=l.exports.useState(),{myAppStore:u}=ie(),o=u.appId,[d,f]=l.exports.useState(1),[p,m]=l.exports.useState(),h=async c=>{const{data:y}=await Nt({appId:o,appEnv:e});if(!y)return;s(y);let D=0;if(c){const P=y.findIndex(T=>T.capabilityId===c.capabilityId);P!==-1&&(D=P)}m(y[D]);const O=y[D].state;f(O)};l.exports.useEffect(()=>{h()},[]);const F=c=>{const y=a==null?void 0:a.find(D=>D.capabilityId===+c);!y||(m(y),f(y.state))},g=De(),[v,E]=ve.useMessage(),k=()=>{if(!n)return v.warning("\u8BE5\u5E94\u7528\u5DF2\u505C\u7528");if(!p)return;const{capabilityId:c}=p;g(`./access?appId=${o}&capabilityId=${c}&env=${e}`)},S=()=>{if(!p)return;const{flowId:c}=p;g(`/app/myApplications?processInstanceId=${c}`)},x=()=>{if(!n)return v.warning("\u8BE5\u5E94\u7528\u5DF2\u505C\u7528");if(d<3)return;const c=u.envClientId.sit,{capabilityId:y}=p;g(`./uploadForm?clientId=${c}&capabilityId=${y}`)};return i($,{children:[E,a?t(He,{activeKey:p&&(p==null?void 0:p.capabilityId.toString()),onChange:F,type:"card",items:a.map(c=>({label:i($,{children:[c.capabilityName,c.state>=5&&t(je,{style:{marginLeft:10}})]}),key:c.capabilityId.toString()}))}):"\u6CA1\u6709\u63A5\u5165\u4EFB\u4F55\u57FA\u7840\u80FD\u529B\uFF0C\u5FEB\u53BB\u6DFB\u52A0\u63A5\u5165\u5427~",a&&!!a.length?t($,{children:n&&d>=5?t($,{children:p&&t(We.Provider,{value:{capability:p,fetchAppInfoByEnv:h},children:t(St,{})})}):i("div",{className:`${r.section} ${r.flex}`,children:[t("div",{className:`${r["sit-bar"]} ${!n&&r.disable}`}),t("div",{className:`${r.process} ${r["sit-env"]}`,children:i("div",{className:r.content,children:[t("div",{className:`${r.title} ${r.active}`,children:"\u80FD\u529B\u63A5\u5165\u5E94\u7528\u6D41\u7A0B"}),i(se,{children:[i(V,{span:6,className:r.flex,children:[i("div",{className:`${r.step} ${r.active} ${d!==1&&r.done}`,children:[i("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"1"})]}),i("div",{className:r.name,children:[t("i",{className:r["done-icon"]}),"\u6DFB\u52A0\u63A5\u5165\u57FA\u7840\u80FD\u529B"]}),d===1&&i("div",{className:r.btn,onClick:k,children:[t("i",{className:`${r["btn-icon"]} ${r.step01}`}),"\u6DFB\u52A0\u63A5\u5165\u57FA\u7840\u80FD\u529B"]})]}),t("div",{className:`${r.dashed} ${d>1&&r.active}`})]}),i(V,{span:6,className:r.flex,children:[i("div",{className:`${r.step} ${d>=2&&r.active} ${d>2&&r.done}`,children:[i("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"2"})]}),i("div",{className:r.name,children:[t("i",{className:r["done-icon"]}),"\u7B49\u5F85\u5BA1\u6279"]}),d<=2&&i("div",{className:r.btn,onClick:S,children:[t("i",{className:`${r["btn-icon"]} ${r.step02}`}),"\u67E5\u770B\u5BA1\u6279\u5355"]})]}),t("div",{className:`${r.dashed} ${d>2&&r.active}`,children:"\u5BA1\u6279\u901A\u8FC7"})]}),i(V,{span:6,className:r.flex,children:[i("div",{className:`${r.step} ${d>=3&&r.active} ${d>3&&r.done}`,children:[i("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"3"})]}),i("div",{className:r.name,children:[t("i",{className:r["done-icon"]}),"\u4E0A\u4F20\u76D6\u7AE0\u7533\u8BF7\u8868"]}),d<=3&&i("div",{className:r.btn,onClick:x,children:[t("i",{className:`${r["btn-icon"]} ${r.step01}`}),"\u4E0A\u4F20\u76D6\u7AE0\u7533\u8BF7\u8868"]})]}),t("div",{className:`${r.dashed} ${d>3&&r.active}`})]}),i(V,{span:6,className:r.flex,children:[i("div",{className:`${r.step} ${d>=4&&r.active} ${d>4&&r.done}`,children:[i("div",{className:r.tag,children:["\u6B65\u9AA4 ",t("i",{className:r["step-icon"],children:"4"})]}),t("div",{className:r.name,children:"\u7B49\u5F85\u5BA1\u6279"}),d<=4&&i("div",{className:r.btn,onClick:S,children:[t("i",{className:`${r["btn-icon"]} ${r.step02}`}),"\u67E5\u770B\u5BA1\u6279\u5355"]})]}),t("div",{className:`${r.dashed} ${d>4&&r.active}`,children:"\u5BA1\u6279\u901A\u8FC7"})]})]}),t("div",{className:r.title,children:"\u63A5\u5165\u6B63\u5F0F\u73AF\u5883\u6D41\u7A0B"})]})})]})}):"\u6682\u65E0\u63A5\u5165\u80FD\u529B"]})},{Paragraph:mt}=gn,ee=Ae.createContext(void 0),_r=()=>{const[e,n]=l.exports.useState(),{getDictionaryItemName:a}=_n(),{myAppStore:s}=ie(),[u]=vn(),o=u.get("appId")||s.appId,d=De(),[f,p]=l.exports.useState();l.exports.useEffect(()=>{if(!o)return d("..");s.setAppId(o),u.get("appId")||d(`../appInfo?appId=${o}`,{replace:!0}),(async()=>{const{data:S}=await In({id:o});if(!S)return;const{clientId:x}=S;s.setEnvClientId(x),p(x.sit);const c=await Sn({id:x.sit});!c.data||n(c.data)})()},[]);const m=()=>{d(`../appForm?clientId=${f}`)},[h,F]=l.exports.useState(!0),[g,v]=l.exports.useState("sit"),E=[{key:"sit",label:i("div",{className:I["tab-item"],children:[t("i",{className:`${I.icon} ${I["sit-icon"]} ${g==="sit"&&I.active}`}),"\u6D4B\u8BD5\u73AF\u5883"]}),children:t($,{children:o&&e&&t(ee.Provider,{value:{env:"sit",isEnable:(e==null?void 0:e.state)!==3},children:t(cr,{})})})},{key:"prod",label:i("div",{className:I["tab-item"],children:[t("i",{className:`${I.icon} ${I["prod-icon"]} ${g==="prod"&&I.active}`}),"\u6B63\u5F0F\u73AF\u5883"]}),children:t($,{children:o&&e&&t(ee.Provider,{value:{env:"prod",isEnable:(e==null?void 0:e.state)!==3},children:t(sr,{})})})}],k=S=>{v(S)};return i($,{children:[i("div",{className:`${I.section} ${I["basic-info"]}`,children:[i("div",{className:I.primary,children:[i(re,{children:[t("p",{className:I.name,children:e==null?void 0:e.appName}),e&&t(Be,{color:e.state===3?"default":"success",children:t($,{children:e.state===3?"\u505C\u7528":"\u6B63\u5E38\u542F\u7528"})}),i("p",{children:["\u521B\u5EFA\u65F6\u95F4\uFF1A",e==null?void 0:e.createTime]})]}),t(pa,{className:I.edit,onClick:m})]}),t(ce,{className:I.remark,banner:!0,showIcon:!1,message:(e==null?void 0:e.remark)||"\u6682\u65E0\u4ECB\u7ECD",type:"info"}),i(Z,{column:3,children:[(e==null?void 0:e.appName)==="\u8EAB\u4EFD\u8BA4\u8BC1V2\u7248\u672C"&&t(Z.Item,{label:"Client Secret",span:4,children:(e==null?void 0:e.clientSecret)||"-"}),t(Z.Item,{label:"\u6D4B\u8BD5 Client Id",children:t(mt,{copyable:!0,style:{marginBottom:0},children:s.envClientId.sit||"-"})}),t(Z.Item,{label:"\u6B63\u5F0F Client Id",children:t(mt,{copyable:!0,style:{marginBottom:0},children:s.envClientId.prod||"-"})}),t(Z.Item,{label:"\u5E94\u7528\u72B6\u6001",children:e&&a("appState",e.state)||"-"}),t(Z.Item,{label:"\u5E94\u7528\u7C7B\u578B",children:e&&a("appType",e.appType)||"-"}),t(Z.Item,{label:"\u6240\u5C5E\u7EA7\u522B",children:e&&a("systemlevel",e.sysLevel)||"-"}),t(Z.Item,{label:"\u6240\u5C5E\u7F51\u57DF",children:e&&a("networkType",e.sysInternet)||"-"})]}),t(se,{children:t(V,{span:24,className:"tr",children:t("div",{className:I.collapse,onClick:()=>F(!h),children:h?i($,{children:[t(oa,{style:{marginRight:4}}),"\u67E5\u770B\u5168\u90E8"]}):i($,{children:[t(ya,{style:{marginRight:4}}),"\u6536\u8D77"]})})})}),e&&t("div",{hidden:h,children:i("div",{className:I.container,children:[i("div",{className:I.panel,children:[t("div",{className:I.title,children:"\u5E94\u7528\u5355\u4F4D\u4FE1\u606F"}),i("div",{className:I.content,children:[i("p",{className:I.item,children:[t("span",{className:"font-secondary-color",children:"\u6240\u5C5E\u5355\u4F4D\uFF1A"}),t("span",{className:"font-primary-color",children:e.companyInfo.companyName||"-"})]}),i("p",{className:I.item,children:[t("span",{className:"font-secondary-color",children:"\u5355\u4F4D\u7ECF\u529E\u4EBA\uFF1A"}),t("span",{className:"font-primary-color",children:e.contractor||"-"})]}),i("p",{className:I.item,children:[t("span",{className:"font-secondary-color",children:"\u7ECF\u529E\u4EBA\u624B\u673A\u53F7\uFF1A"}),t("span",{className:"font-primary-color",children:e.contractorPhone||"-"})]}),i("p",{className:I.item,children:[t("span",{className:"font-secondary-color",children:"\u7ECF\u529E\u4EBA\u8054\u7CFB\u90AE\u7BB1\uFF1A"}),t("span",{className:"font-primary-color",children:e.contractorEmail||"-"})]})]})]}),i("div",{className:I.panel,children:[t("div",{className:I.title,children:"\u627F\u5EFA\u5355\u4F4D\u4FE1\u606F"}),i("div",{className:I.content,children:[i("p",{className:I.item,children:[t("span",{className:"font-secondary-color",children:"\u627F\u5EFA\u5355\u4F4D\uFF1A"}),t("span",{className:"font-primary-color",children:e.undertakeCompany||"-"})]}),i("p",{className:I.item,children:[t("span",{className:"font-secondary-color",children:"\u9879\u76EE\u8D1F\u8D23\u4EBA\uFF1A"}),t("span",{className:"font-primary-color",children:e.projectManager||"-"})]}),i("p",{className:I.item,children:[t("span",{className:"font-secondary-color",children:"\u8D1F\u8D23\u4EBA\u8054\u7CFB\u7535\u8BDD\uFF1A"}),t("span",{className:"font-primary-color",children:e.managerPhone||"-"})]}),i("p",{className:I.item,children:[t("span",{className:"font-secondary-color",children:"\u8D1F\u8D23\u4EBA\u8054\u7CFB\u90AE\u7BB1\uFF1A"}),t("span",{className:"font-primary-color",children:e.managerEmail||"-"})]})]})]})]})})]}),t("div",{className:`${I.section} ${I["env-info"]}`,children:t(He,{defaultActiveKey:"1",items:E,onChange:S=>k(S)})})]})};export{ee as appInfoContext,_r as default};
