{"version":3,"file":"AddModal.f1126134.js","sources":["../../src/pages/Issues/Reply/components/AddModal.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Col,\r\n  Divider,\r\n  Form,\r\n  Input,\r\n  Modal,\r\n  Row,\r\n  Select,\r\n  Space\r\n} from 'antd'\r\nimport type { CheckboxChangeEvent } from 'antd/es/checkbox'\r\nimport type { CheckboxValueType } from 'antd/es/checkbox/Group'\r\nimport style from './index.module.scss'\r\n\r\nconst CheckboxGroup = Checkbox.Group\r\n\r\nconst options = [\r\n  '南沙分局微信小程序',\r\n  '南沙分局支付宝小程序',\r\n  '陕西分局微信小程序',\r\n  '陕西分局支付宝小程序'\r\n]\r\nconst defaultCheckedList = [options[1], options[2]]\r\n\r\nconst AddModal = ({ open, setOpen }: { open: boolean; setOpen: Function }) => {\r\n  const [form] = Form.useForm()\r\n\r\n  /* eslint-disable no-template-curly-in-string */\r\n  const validateMessages = {\r\n    required: '请输入${label}'\r\n  }\r\n  /* eslint-disable no-template-curly-in-string */\r\n\r\n  /**\r\n   * 关闭\r\n   */\r\n  const onCancel = () => {\r\n    form.resetFields()\r\n    setOpen(false)\r\n  }\r\n\r\n  const [checkAll, setCheckAll] = useState(false)\r\n  /**\r\n   * 全选\r\n   */\r\n  const onCheckAllChange = (e: CheckboxChangeEvent) => {\r\n    const { checked } = e.target\r\n    const list = checked ? options : []\r\n    setCheckedList(list)\r\n    form.setFieldValue('apps', list)\r\n    setCheckAll(checked)\r\n  }\r\n\r\n  const [checkedList, setCheckedList] =\r\n    useState<CheckboxValueType[]>(defaultCheckedList)\r\n  /**\r\n   * 单选\r\n   */\r\n  const onChange = (list: CheckboxValueType[]) => {\r\n    setCheckedList(list)\r\n    setCheckAll(list.length === options.length)\r\n  }\r\n\r\n  /**\r\n   * 提交数据\r\n   */\r\n  const onFinish = (values: any) => {\r\n    console.log('Success:', values)\r\n  }\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log('Failed:', errorInfo)\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title='新增自动回复关键字'\r\n      open={open}\r\n      width={640}\r\n      forceRender={true}\r\n      onCancel={onCancel}\r\n      footer={[]}\r\n    >\r\n      <Divider />\r\n      <Form\r\n        name='add'\r\n        form={form}\r\n        labelCol={{ span: 6 }}\r\n        wrapperCol={{ span: 18 }}\r\n        initialValues={{ apps: [] }}\r\n        validateMessages={validateMessages}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        autoComplete='off'\r\n      >\r\n        <Form.Item\r\n          label='关键字/词'\r\n          name='keyword'\r\n          rules={[{ required: true }]}\r\n        >\r\n          <Input\r\n            placeholder='请输入关键字/词，多个关键字/词请用“、”隔开'\r\n            maxLength={20}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='是否生效'\r\n          name='isEffective'\r\n          rules={[{ required: true, message: '请选择是否生效' }]}\r\n        >\r\n          <Select\r\n            placeholder='请选择是否显示'\r\n            options={[\r\n              { value: 0, label: '否' },\r\n              { value: 1, label: '是' }\r\n            ]}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item label='对应的问题'>\r\n          <Row gutter={10}>\r\n            <Col span={18}>\r\n              <Form.Item name='issue' noStyle>\r\n                <Input placeholder='去选择问题后自动获取' readOnly />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={6} className='tr'>\r\n              <Button type='primary' style={{ width: '100%' }}>\r\n                去选择\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Form.Item>\r\n        <Form.Item label='对应应用回答' name='answer'>\r\n          <Input.TextArea\r\n            rows={4}\r\n            placeholder='自动获取选中问题的回答'\r\n            readOnly\r\n          />\r\n        </Form.Item>\r\n        <Form.Item label='关联应用名称'>\r\n          <>\r\n            <Checkbox\r\n              onChange={onCheckAllChange}\r\n              checked={checkAll}\r\n              style={{ paddingTop: 6 }}\r\n            >\r\n              全选\r\n            </Checkbox>\r\n\r\n            <div className={`${style['checkbox-group']} gray-bg`}>\r\n              <Form.Item name='apps' noStyle>\r\n                <CheckboxGroup onChange={onChange}>\r\n                  <Row gutter={[0, 20]}>\r\n                    {options.map(item => (\r\n                      <Col span={12} key={item}>\r\n                        <Checkbox value={item}>{item}</Checkbox>\r\n                      </Col>\r\n                    ))}\r\n                  </Row>\r\n                </CheckboxGroup>\r\n              </Form.Item>\r\n            </div>\r\n          </>\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='排序'\r\n          name='order'\r\n          rules={[{ required: true }]}\r\n          extra='从1-N进行排序，数字越大显示越后，如果设置了同样的数值，则按最新设置的时间进行排序'\r\n        >\r\n          <Input placeholder='请输入排序' maxLength={3} />\r\n        </Form.Item>\r\n        <Divider />\r\n        <Form.Item noStyle wrapperCol={{ span: 24 }}>\r\n          <Row>\r\n            <Col span={24} className='tr'>\r\n              <Space>\r\n                <Button onClick={onCancel}>关闭</Button>,\r\n                <Button type='primary' htmlType='submit'>\r\n                  确定\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default AddModal\r\n"],"names":["CheckboxGroup","Checkbox","Group","options","defaultCheckedList","AddModal","open","setOpen","form","Form","useForm","validateMessages","required","onCancel","resetFields","checkAll","setCheckAll","useState","onCheckAllChange","e","checked","target","list","setCheckedList","setFieldValue","checkedList","onChange","length","Modal","_jsx","Divider","span","apps","values","log","errorInfo","Input","message","Select","value","label","Row","Col","Button","width","_Fragment","paddingTop","style","map","item","Space"],"mappings":"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"}