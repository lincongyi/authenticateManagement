{"version":3,"file":"index.09638ecc.js","sources":["../../src/pages/Issues/Classification/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Col,\r\n  DatePicker,\r\n  Divider,\r\n  Form,\r\n  Input,\r\n  Modal,\r\n  Row,\r\n  Select,\r\n  Space,\r\n  Table,\r\n  message\r\n} from 'antd'\r\nimport { ExclamationCircleOutlined, PlusOutlined } from '@ant-design/icons'\r\nimport type { ColumnsType, TablePaginationConfig } from 'antd/es/table'\r\nimport 'dayjs/locale/zh-cn'\r\nimport AddModal from './components/AddModal'\r\nimport CheckModal from './components/CheckModal'\r\nimport UpdateModal from './components/UpdateModal'\r\n\r\nconst { RangePicker } = DatePicker\r\n\r\nconst Classification = () => {\r\n  const [form] = Form.useForm()\r\n\r\n  /**\r\n   * 重置\r\n   */\r\n  const onReset = () => {\r\n    form.resetFields()\r\n  }\r\n\r\n  /**\r\n   * 查询\r\n   */\r\n  /**\r\n   * 查询\r\n   * @param {any} values :\r\n   * @returns {void}\r\n   */\r\n  const onFinish = (values: any) => {\r\n    console.log('Success:', values)\r\n  }\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log('Failed:', errorInfo)\r\n  }\r\n\r\n  const [addModalOpen, setAddModalOpen] = useState(false) // 控制新增功能弹窗Modal显示隐藏\r\n\r\n  /**\r\n   * 新增\r\n   */\r\n  const onAdd = () => {\r\n    setAddModalOpen(true)\r\n  }\r\n\r\n  type TDataType = {\r\n    key: string\r\n    name: string\r\n    number: string\r\n    level: string\r\n    sort: number\r\n    date: string\r\n    isDisplay: number\r\n  }\r\n\r\n  const [checkModalOpen, setCheckModalOpen] = useState(false) // 控制查看功能弹窗Modal显示隐藏\r\n  /**\r\n   * 详情\r\n   */\r\n  /**\r\n   * 详情\r\n   * @param {TDataType} values :\r\n   * @returns {void}\r\n   */\r\n  const onCheck = (values: TDataType) => {\r\n    setCheckModalOpen(true)\r\n  }\r\n\r\n  const [updateModalOpen, setUpdateModalOpen] = useState(false) // 控制更新功能弹窗Modal显示隐藏\r\n\r\n  /**\r\n   * 修改\r\n   * @param {TDataType} values :\r\n   * @returns {void}\r\n   */\r\n  const onUpdate = (values: TDataType) => {\r\n    setUpdateModalOpen(true)\r\n  }\r\n\r\n  /**\r\n   * 删除\r\n   * @param {TDataType} values :\r\n   * @returns {void}\r\n   */\r\n  const onDelete = (values: TDataType) => {\r\n    Modal.confirm({\r\n      title: '温馨提示',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: '确定要删除该记录吗？',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: () => message.success({ content: '删除成功' })\r\n    })\r\n  }\r\n\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: 10,\r\n    total: 31\r\n  }) // 表格分页参数\r\n\r\n  /**\r\n   * 分页、排序、筛选变化时触发\r\n   */\r\n  const onTableChange = (tablePagination: TablePaginationConfig) => {\r\n    setPagination({ ...pagination, ...tablePagination })\r\n  }\r\n\r\n  /**\r\n   * 表格列\r\n   */\r\n  const columns: ColumnsType<TDataType> = [\r\n    {\r\n      title: '序号',\r\n      dataIndex: 'key',\r\n      key: 'key'\r\n    },\r\n    {\r\n      title: '分类名称',\r\n      dataIndex: 'name',\r\n      key: 'name'\r\n    },\r\n    {\r\n      title: '分类编号',\r\n      dataIndex: 'number',\r\n      key: 'number'\r\n    },\r\n    {\r\n      title: '分类级别',\r\n      dataIndex: 'level',\r\n      key: 'level'\r\n    },\r\n    {\r\n      title: '排序',\r\n      dataIndex: 'sort',\r\n      key: 'sort',\r\n      defaultSortOrder: 'ascend',\r\n      sortDirections: ['ascend', 'descend', 'ascend'],\r\n      sorter: (a, b) => a.sort - b.sort\r\n    },\r\n    {\r\n      title: '创建时间',\r\n      dataIndex: 'date',\r\n      key: 'date',\r\n      sorter: (a, b) => a.sort - b.sort\r\n    },\r\n    {\r\n      title: '显示',\r\n      dataIndex: 'isDisplay',\r\n      key: 'isDisplay',\r\n      render: isDisplay => (\r\n        <Space>\r\n          <Badge color={isDisplay ? '#52c41a' : '#ff7875'} />\r\n          {isDisplay ? '是' : '否'}\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      width: 250,\r\n      render: values => (\r\n        <>\r\n          <Button type='link' onClick={() => onCheck(values)}>\r\n            详情\r\n          </Button>\r\n          <Divider type='vertical' />\r\n          <Button type='link' onClick={() => onUpdate(values)}>\r\n            修改\r\n          </Button>\r\n          <Divider type='vertical' />\r\n          <Button\r\n            type='link'\r\n            style={{ color: '#ff7875' }}\r\n            onClick={() => onDelete(values)}\r\n          >\r\n            删除\r\n          </Button>\r\n        </>\r\n      )\r\n    }\r\n  ]\r\n\r\n  /**\r\n   * 表格数据\r\n   */\r\n  const data: TDataType[] = [\r\n    {\r\n      key: '1',\r\n      name: '注册',\r\n      number: '南沙分局APP',\r\n      level: '一级分类',\r\n      sort: 1,\r\n      date: '2023-01-01',\r\n      isDisplay: 1\r\n    },\r\n    {\r\n      key: '2',\r\n      name: '注册',\r\n      number: '南沙分局APP',\r\n      level: '一级分类',\r\n      sort: 2,\r\n      date: '2023-01-01',\r\n      isDisplay: 0\r\n    },\r\n    {\r\n      key: '3',\r\n      name: '注册',\r\n      number: '南沙分局APP',\r\n      level: '一级分类',\r\n      sort: 3,\r\n      date: '2023-01-01',\r\n      isDisplay: 0\r\n    },\r\n    {\r\n      key: '4',\r\n      name: '注册',\r\n      number: '南沙分局APP',\r\n      level: '一级分类',\r\n      sort: 4,\r\n      date: '2023-01-01',\r\n      isDisplay: 1\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col span={24}>\r\n          <Form\r\n            form={form}\r\n            name='search'\r\n            initialValues={{ isDisplay: -1 }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n            autoComplete='off'\r\n          >\r\n            <Row gutter={20}>\r\n              <Col span={6}>\r\n                <Form.Item label='分类名称' name='issues'>\r\n                  <Input\r\n                    placeholder='请输入分类名称'\r\n                    allowClear\r\n                    maxLength={30}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={6}>\r\n                <Form.Item label='显示' name='isDisplay'>\r\n                  <Select\r\n                    placeholder='请选择是否显示'\r\n                    options={[\r\n                      { value: -1, label: '全部' },\r\n                      { value: 0, label: '否' },\r\n                      { value: 1, label: '是' }\r\n                    ]}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item label='创建时间' name='date'>\r\n                  <RangePicker />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={24} className='tr'>\r\n                <Form.Item>\r\n                  <Space>\r\n                    <Button onClick={onReset}>重置</Button>\r\n                    <Button type='primary' htmlType='submit'>\r\n                      查询\r\n                    </Button>\r\n                  </Space>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={24} className='tr'>\r\n                <Form.Item>\r\n                  <Space>\r\n                    <Button icon={<PlusOutlined />} onClick={onAdd}>\r\n                      新增\r\n                    </Button>\r\n                  </Space>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24}>\r\n          <Table\r\n            className='issue-table'\r\n            columns={columns}\r\n            dataSource={data}\r\n            pagination={pagination}\r\n            onChange={onTableChange}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <AddModal open={addModalOpen} setOpen={setAddModalOpen} />\r\n      <CheckModal open={checkModalOpen} setOpen={setCheckModalOpen} />\r\n      <UpdateModal open={updateModalOpen} setOpen={setUpdateModalOpen} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Classification\r\n"],"names":["RangePicker","DatePicker","Classification","form","Form","useForm","onReset","resetFields","onFinish","values","log","onFinishFailed","errorInfo","addModalOpen","setAddModalOpen","useState","onAdd","checkModalOpen","setCheckModalOpen","onCheck","updateModalOpen","setUpdateModalOpen","onUpdate","onDelete","Modal","confirm","title","icon","_jsx","ExclamationCircleOutlined","content","okText","cancelText","onOk","message","success","pagination","setPagination","current","pageSize","total","onTableChange","tablePagination","columns","dataIndex","key","defaultSortOrder","sortDirections","sorter","a","b","sort","render","isDisplay","_jsxs","Space","Badge","width","_Fragment","Button","Divider","color","data","name","number","level","date","Row","Col","Input","Select","value","label","PlusOutlined","Table","AddModal","CheckModal","UpdateModal"],"mappings":"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"}