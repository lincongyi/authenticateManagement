{"version":3,"file":"index.11c1eaf1.js","sources":["../../src/pages/AccessForm/components/Concurrency/index.tsx"],"sourcesContent":["import React, { useImperativeHandle, useRef } from 'react'\r\nimport { Alert, Divider, Form, Input, Typography } from 'antd'\r\nimport type { FormInstance } from 'antd/lib/form/hooks/useForm'\r\nimport { formProps } from '..'\r\nimport { useStore } from '@stores/index'\r\nimport { TValue } from '../../index.d'\r\n\r\nconst { Title } = Typography\r\n\r\nconst Concurrency = React.forwardRef<\r\n  {\r\n    sitRef: React.MutableRefObject<FormInstance<any> | null>\r\n    prodRef: React.MutableRefObject<FormInstance<any> | null>\r\n  },\r\n  { params: { value: TValue } }\r\n>(({ params }, ref) => {\r\n  const sitRef = useRef<FormInstance | null>(null)\r\n  const prodRef = useRef<FormInstance | null>(null)\r\n  useImperativeHandle(ref, () => ({\r\n    sitRef,\r\n    prodRef\r\n  }))\r\n  const { value } = params\r\n\r\n  const { accessFormStore } = useStore()\r\n\r\n  const isCheck = accessFormStore.current.state === 2\r\n\r\n  /**\r\n   * 并发配置默认值\r\n   */\r\n  const sitInitialValues = {\r\n    sitperSec: '50',\r\n    sitlimitTime: '1',\r\n    sitperDay: '100000',\r\n    sitperMonth: '0',\r\n    sitperAnnum: '0',\r\n    sittotal: '0'\r\n  }\r\n  const prodInitialValues = {\r\n    prodperSec: '50',\r\n    prodlimitTime: '1',\r\n    prodperDay: '100000',\r\n    prodperMonth: '0',\r\n    prodperAnnum: '0',\r\n    prodtotal: '0'\r\n  }\r\n  return (\r\n    <>\r\n      <Alert\r\n        message='请根据需要合理调整，勿一味追求最高值造成资源冗余'\r\n        type='warning'\r\n        showIcon\r\n        style={{\r\n          marginBottom: 20,\r\n          display: value === '2' ? 'flex' : 'none'\r\n        }}\r\n      />\r\n      <Form\r\n        ref={sitRef}\r\n        name='concurrencySit'\r\n        {...formProps}\r\n        initialValues={sitInitialValues}\r\n        style={{ display: value === '2' ? 'block' : 'none' }}\r\n      >\r\n        <Title level={5}>测试环境</Title>\r\n        <Divider />\r\n        <Form.Item\r\n          label='每秒并发限制'\r\n          name='sitperSec'\r\n          extra='(0=不限额，建议区间1-100，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入每秒并发限制' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='计算周期'\r\n          name='sitlimitTime'\r\n          extra='(计算周期必须>1，建议周期=1，单位：秒)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入计算周期' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='每日限额'\r\n          name='sitperDay'\r\n          extra='(0=不限额，建议区间10W-100W，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入每日限额' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='每月限额'\r\n          name='sitperMonth'\r\n          extra='(0=不限额，建议限额=0，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入每月限额' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='每年限额'\r\n          name='sitperAnnum'\r\n          extra='(0=不限额，建议限额=0，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入每年限额' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='认证总次数限额'\r\n          name='sittotal'\r\n          extra='(0=不限额，建议限额=0，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入认证总次数限额' />}\r\n        </Form.Item>\r\n      </Form>\r\n\r\n      <Form\r\n        ref={prodRef}\r\n        name='concurrencyProduction'\r\n        {...formProps}\r\n        initialValues={prodInitialValues}\r\n        style={{ display: value === '2' ? 'block' : 'none' }}\r\n      >\r\n        <Title level={5}>正式环境</Title>\r\n        <Divider />\r\n        <Form.Item\r\n          label='每秒并发限制'\r\n          name='prodperSec'\r\n          extra='(0=不限额，建议区间1-100，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入每秒并发限制' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='计算周期'\r\n          name='prodlimitTime'\r\n          extra='(计算周期必须>1，建议周期=1，单位：秒)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入计算周期' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='每日限额'\r\n          name='prodperDay'\r\n          extra='(0=不限额，建议区间10W-100W，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入每日限额' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='每月限额'\r\n          name='prodperMonth'\r\n          extra='(0=不限额，建议限额=0，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入每月限额' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='每年限额'\r\n          name='prodperAnnum'\r\n          extra='(0=不限额，建议限额=0，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入每年限额' />}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='认证总次数限额'\r\n          name='prodtotal'\r\n          extra='(0=不限额，建议限额=0，单位：次)'\r\n          rules={[{ required: true }]}\r\n        >\r\n          {isCheck ? '' : <Input placeholder='请输入认证总次数限额' />}\r\n        </Form.Item>\r\n      </Form>\r\n    </>\r\n  )\r\n})\r\n\r\nConcurrency.displayName = 'Concurrency'\r\n\r\nexport default Concurrency\r\n"],"names":["Title","Typography","Concurrency","React","forwardRef","params","ref","sitRef","useRef","prodRef","useImperativeHandle","value","accessFormStore","useStore","isCheck","current","state","sitInitialValues","sitperSec","sitlimitTime","sitperDay","sitperMonth","sitperAnnum","sittotal","prodInitialValues","prodperSec","prodlimitTime","prodperDay","prodperMonth","prodperAnnum","prodtotal","_Fragment","_jsx","Alert","marginBottom","display","_jsxs","Form","formProps","Divider","required","Input","displayName"],"mappings":"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"}