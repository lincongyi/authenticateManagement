import{j as e,F as E,a as A,r as C,H as O,b6 as Q,a7 as V,E as R,I as Y,T as S,m as _,R as j,C as T,aK as U,bq as M,N as z,J as $,az as ee,aH as x,br as le,M as te,B as ue}from"./index.9074d6bf.js";import{D as i}from"./index.4e1ef676.js";import{T as H}from"./index.7271830f.js";import{T as G}from"./Table.7c63735b.js";import{d as ae}from"./myApp.6a156cb3.js";import{E as re}from"./ExclamationCircleOutlined.e0a987d5.js";import{u as ne}from"./index.90da349d.js";import{S as w}from"./index.a98b79a0.js";const Ae="_flex_i2ws4_1",Z={flex:Ae,"copy-icon":"_copy-icon_i2ws4_10"},se=({info:l})=>e(E,{children:l&&A(i,{bordered:!0,className:"tc",column:2,children:[e(i.Item,{label:"\u5BA1\u6279\u72B6\u6001\uFF1A",children:e(H,{color:["success","processing","error","default"][l.state],children:["\u5BA1\u6279\u901A\u8FC7","\u5BA1\u6279\u4E2D","\u5BA1\u6279\u4E0D\u901A\u8FC7","\u64A4\u56DE"][l.state]||"-"})}),e(i.Item,{label:"\u6700\u8FD1\u5BA1\u6279\u65F6\u95F4\uFF1A",children:l.modTime||"-"}),e(i.Item,{label:"\u5BA1\u6279\u5355\u53F7\uFF1A",children:l.processInstanceId||"-"}),e(i.Item,{label:"\u7533\u8BF7\u65F6\u95F4\uFF1A",children:l.addTime||"-"}),e(i.Item,{label:"\u7533\u8BF7\u5355\u4F4D\uFF1A",children:l.companyName||"-"}),e(i.Item,{label:"\u5355\u4F4D\u7BA1\u7406\u5458\uFF1A",children:l.adminName||"-"}),e(i.Item,{label:"\u5BA1\u6279\u5355\u7C7B\u578B\uFF1A",children:l.processName||"-"}),e(i.Item,{label:"\u5E94\u7528\u670D\u52A1\u540D\u79F0\uFF1A",children:l.unifyName||"-"})]})}),oe=({formList:l})=>{const o={labelCol:{span:4},wrapperCol:{span:12}},[t,u]=C.exports.useState(),[m,F]=C.exports.useState();C.exports.useEffect(()=>{const a=l.map(s=>({label:s.formName,key:s.formId.toString()}));u(a),F([...l[0].defaultFormList,...l[0].form||[]])},[l]);const g=a=>{const s=l.find(y=>y.formId===+a);if(!s)return;const b=t==null?void 0:t.findIndex(y=>y.key===a);F(b?s.form:[...s.defaultFormList,...s.form||[]])},I=a=>{if(a.type==="imageUpload")return e(E,{children:a.labelValue.map(s=>e("div",{style:{marginRight:10,display:"inline-block "},children:e(Y,{width:200,height:200,src:s.url})},s.uid))});if(a.type==="fileUpload")return e(E,{children:a.labelValue.map(s=>e(S.Link,{href:s.url,target:"_blank",children:s.name},s.uid))});if(a.type==="table"){const s=[{title:"\u63A5\u53E3\u540D\u79F0",width:200,dataIndex:"label"},{title:"\u8C03\u7528\u5E76\u53D1\u4E0A\u9650\uFF08\u6BCF\u79D2\u5E76\u53D1\uFF09",dataIndex:"value"}];return e(G,{rowKey:"label",bordered:!0,dataSource:a.labelValue,columns:s,pagination:!1})}return a.labelValue};return e(E,{children:t&&t.length?A(E,{children:[e(O,{onChange:g,items:t}),m&&!!m.length&&e(Q,{...o,children:m.map(a=>e(V.Fragment,{children:a.cnName!=="\u63A5\u5165\u80FD\u529B\u6709\u6548\u671F\u6B62"&&e(Q.Item,{label:a.cnName,children:I(a)})},a.field))})]}):e(R,{image:R.PRESENTED_IMAGE_SIMPLE})})},{Link:J}=S,ie=({formInfo:l})=>{const o={labelCol:{span:8},wrapperCol:{span:16}},[t,u]=_.useMessage(),[m,F]=C.exports.useState(!1),g=(a,s)=>{const b=/\.png|\.jpg/;if(a.includes(".pdf")||b.test(s))return window.open(s);t.info("\u6682\u4E0D\u652F\u6301\u9884\u89C8\u8BE5\u683C\u5F0F\u6587\u4EF6")},I=async(a,s)=>{if(m)return t.info("\u8BF7\u52FF\u9891\u7E41\u8BF7\u6C42");F(!0);try{const b=await ae({url:s,fileName:a}),y=new Blob([b],{type:"application/pdf"}),f=URL.createObjectURL(y),N=document.createElement("a");N.href=f,N.download=a,document.body.appendChild(N),N.click(),URL.revokeObjectURL(f),t.success("\u5DF2\u6210\u529F\u4E0B\u8F7D\u6587\u4EF6")}catch(b){console.log(b)}finally{setTimeout(()=>{F(!1)},3e3)}};return A(E,{children:[u,A(Q,{name:"uploadFormInfo",...o,children:[e(Q.Item,{label:"\uFF08\u9644\u5370\u7AE0\uFF09\u57FA\u7840\u80FD\u529B\u63A5\u5165\u7533\u8BF7\u8868",required:!0,children:A(j,{children:[e(T,{span:18,children:l.applyFileName}),e(T,{span:6,className:"tr",children:A(U,{children:[A(J,{onClick:()=>g(l.applyFileName,l.applyFile),children:[e(M,{style:{marginRight:4}}),"\u9884\u89C8"]}),A(J,{style:{cursor:m?"no-drop":"pointer"},onClick:()=>I(l.applyFileName,l.applyFile),children:[e(z,{style:{marginRight:4}}),"\u4E0B\u8F7D"]})]})})]})}),e(Q.Item,{label:"\uFF08\u9644\u5370\u7AE0\uFF09\u57FA\u7840\u80FD\u529B\u63A5\u5165\u7533\u8BF7\u51FD",required:!0,style:{marginBottom:0},children:A(j,{children:[e(T,{span:18,children:l.applyLetterName}),e(T,{span:6,className:"tr",children:A(U,{children:[A(J,{onClick:()=>g(l.applyLetterName,l.applyLetter),children:[e(M,{style:{marginRight:4}}),"\u9884\u89C8"]}),A(J,{style:{cursor:m?"no-drop":"pointer"},onClick:()=>I(l.applyLetter,l.applyLetterName),children:[e(z,{style:{marginRight:4}}),"\u4E0B\u8F7D"]})]})})]})})]})]})},ce=({formInfo:l})=>A(Q,{name:"uploadFormInfo",...{labelCol:{span:6},wrapperCol:{span:12}},children:[e(Q.Item,{label:"\u63A5\u5165\u5E94\u7528\u540D\u79F0",required:!0,children:l.capabilityName}),e(Q.Item,{label:"\u57FA\u7840\u670D\u52A1\u63A5\u5165\u65F6\u95F4",children:l.addTime}),e(Q.Item,{label:"\u6709\u6548\u671F\u6B62",children:l.expireTime}),e(Q.Item,{label:"\u662F\u5426\u5EF6\u957F\u6709\u6548\u671F",required:!0,children:["\u5426","\u662F"][l.type]}),e(Q.Item,{label:"\u5EF6\u957F\u6709\u6548\u671F\u81F3",children:l.newExpireTime}),e(Q.Item,{label:"\u5907\u6CE8\u8BF4\u660E",children:l.describe}),e(Q.Item,{label:"\u63D0\u4EA4\u7533\u8BF7\u5EF6\u671F\u65F6\u95F4",children:l.applyTime})]}),de="_container_1m8mk_1",me="_different_1m8mk_14",D={container:de,"img-wrap":"_img-wrap_1m8mk_7",different:me},{Text:k}=S,Ee=({formInfo:l})=>{const o={labelCol:{span:4},wrapperCol:{span:12}},{formList:t,oldFormList:u}=l,[m,F]=C.exports.useState(),[g,I]=C.exports.useState(),[a,s]=C.exports.useState();C.exports.useEffect(()=>{const r=t.map(n=>({label:n.formName,key:n.formId.toString()}));F(r),I([...t[0].defaultFormList,...t[0].form||[]]),s([...u[0].defaultFormList,...u[0].form||[]])},[t]);const b=r=>{const n=t.findIndex(c=>c.formId===+r);n!==-1&&(n?(I(t[n].form),s(u[n].form)):(I([...t[n].defaultFormList,...t[n].form||[]]),s([...u[0].defaultFormList,...u[0].form||[]])))},y=r=>{if(!g||!a)return;const{type:n,cnName:c}=g[r];if(["table"].includes(n)){const d=g[r].labelValue,h=a[r].labelValue;let p=!1;for(let B=0;B<d.length;B++)if(JSON.stringify(d[B])!==JSON.stringify(h[B])){p=!0;break}return p?e(k,{type:"danger",children:c}):e(E,{children:c})}else if(["imageUpload","fileUpload"].includes(n)){const d=g[r].labelValue,h=a[r].labelValue;let p=!1;if(d.length!==h.length)p=!0;else for(let B=0;B<d.length;B++)if(d[B].uid!==h[B].uid){p=!0;break}return p?e(k,{type:"danger",children:c}):e(E,{children:c})}else return g[r].labelValue===a[r].labelValue?e(E,{children:c}):e(k,{type:"danger",children:c})},f=(r,n)=>{if(!g||!a)return;const{type:c}=g[r];if(["table"].includes(c)){const d=g[r].labelValue,h=a[r].labelValue;return d[n].value===h[n].value}else if(["imageUpload","fileUpload"].includes(c)){const d=g[r].labelValue,h=a[r].labelValue;let p=!1;if(d[n]){const{uid:B}=d[n];p=h.some(v=>v.uid===B)}return p}return g[r].labelValue===a[r].labelValue},N=(r,n)=>{if(r.type==="imageUpload")return e(E,{children:r.labelValue.map((c,d)=>e("div",{className:`${D["img-wrap"]} ${!f(n,d)&&D.different}
              `,children:e(Y,{width:160,height:160,src:c.url})},c.uid))});if(r.type==="fileUpload")return e(E,{children:r.labelValue.map((c,d)=>e(S.Link,{href:c.url,target:"_blank",style:{color:f(n,d)?"#1668dc":"#f00"},children:c.name},c.uid))});if(r.type==="table"){const c=[{title:"\u63A5\u53E3\u540D\u79F0",width:200,dataIndex:"label"},{title:"\u8C03\u7528\u5E76\u53D1\u4E0A\u9650\uFF08\u6BCF\u79D2\u5E76\u53D1\uFF09",dataIndex:"value"}],d=r.labelValue.map((h,p)=>({index:p,label:f(n,p)?h.label:e(k,{type:"danger",children:h.label}),value:f(n,p)?h.value:e(k,{type:"danger",children:h.value})}));return e(G,{rowKey:"index",bordered:!0,dataSource:d,columns:c,pagination:!1})}return f(n)?r.value:e(k,{type:"danger",children:r.value})};return e(E,{children:m&&m.length?A(E,{children:[e(O,{onChange:b,items:m}),g&&!!g.length&&e(Q,{...o,children:g.map((r,n)=>e("div",{children:e(Q.Item,{label:y(n),children:N(r,n)})},r.field))})]}):e(R,{image:R.PRESENTED_IMAGE_SIMPLE})})},Fe=({formInfo:l})=>{const{before:o,after:t}=l,u=(m,F)=>o[m]===t[m]?e(S.Text,{children:F||t[m]}):e(S.Text,{type:"danger",children:F||t[m]});return A(E,{children:[A(i,{title:"\u5355\u4F4D\u673A\u6784\u57FA\u672C\u4FE1\u606F",bordered:!0,column:2,style:{marginBottom:20},children:[e(i.Item,{label:u("companyName","\u5355\u4F4D\u540D\u79F0\uFF1A"),children:t.companyName?u("companyName"):"-"}),e(i.Item,{label:u("companyShortName","\u5355\u4F4D\u7B80\u79F0\uFF1A"),children:t.companyShortName?u("companyShortName"):"-"}),e(i.Item,{label:u("certificateNum","\u7EDF\u4E00\u793E\u4F1A\u4FE1\u7528\u4EE3\u7801\uFF1A"),children:t.certificateNum?u("certificateNum"):"-"}),e(i.Item,{label:u("certificatePhoto","\u4FE1\u7528\u4EE3\u7801\u8BC1\u4E66\uFF1A"),children:t.certificatePhoto?e("div",{className:`${D["img-wrap"]} ${o.certificatePhoto!==t.certificatePhoto&&D.different}`,children:e(Y,{width:80,src:`data:image/png;base64,${t.certificatePhoto}`,fallback:"data:image/png;base64,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"})}):A(E,{children:[e(re,{style:{marginRight:4}}),"\u672A\u4E0A\u4F20"]})}),e(i.Item,{label:u("areaCode","\u63A5\u5165\u5730\u533A\uFF1A"),children:t.areaCode?u("areaCode"):"-"})]}),A(i,{title:"\u5355\u4F4D\u7BA1\u7406\u5458\u4FE1\u606F",bordered:!0,column:2,children:[e(i.Item,{label:u("adminName","\u7BA1\u7406\u5458\u59D3\u540D\uFF1A"),children:t.adminName?u("adminName"):"-"}),e(i.Item,{label:"\u7BA1\u7406\u5458\u8D26\u53F7\uFF1A",children:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")).accountNumber:"-"}),e(i.Item,{label:u("adminPhone","\u7BA1\u7406\u5458\u624B\u673A\u53F7\uFF1A"),children:t.adminPhone?u("adminPhone"):"-"}),e(i.Item,{label:u("adminEmail","\u7BA1\u7406\u5458\u90AE\u7BB1\uFF1A"),children:t.adminEmail?u("adminEmail"):"-"})]})]})},ge=({applyKey:l,info:o})=>A(E,{children:[["ACCESS_CAPABILITY","PROD_CAPABILITY"].includes(l)&&e("div",{className:D.container,children:e(oe,{formList:o.formList})}),["APPLY_FILE_CAPABILITY"].includes(l)&&e("div",{className:D.container,children:e(ie,{formInfo:o})}),["DELAY_CAPABILITY"].includes(l)&&e("div",{className:D.container,children:e(ce,{formInfo:o})}),["ADD_NUM_APPLICATION"].includes(l)&&e(E,{children:e(i,{title:o.apiName,bordered:!0,column:2,children:A(i.Item,{label:"\u589E\u52A0\u7528\u91CF",children:[o.num,"\u6B21"]})})}),["STOP_APPLICATION","START_APPLICATION"].includes(l)&&e(E,{children:e(i,{title:o.apiName,bordered:!0,column:2,children:e(i.Item,{label:l==="STOP_APPLICATION"?"\u505C\u7528\u539F\u56E0":"\u542F\u7528\u539F\u56E0",children:o.describe})})}),["CAPABILITY_UPDATE"].includes(l)&&e(Ee,{formInfo:o}),["UPDATE_COMPANY_INFO"].includes(l)&&e("div",{className:D.container,children:e(Fe,{formInfo:o})})]}),K="data:image/png;base64,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",he="_flex_dly6u_8",P={"user-item":"_user-item_dly6u_1",flex:he,"sign-list-wrap":"_sign-list-wrap_dly6u_14"},pe=({list:l})=>{const{themeStore:o}=$(),t=o.antdThemeColor;return e(E,{children:l.map(u=>A(V.Fragment,{children:[A("div",{className:P["user-item"],children:[A("p",{className:P.flex,children:[e("img",{src:K,style:{marginRight:10}}),u.nickName,u.isPassUser&&(u.passState?e(ee,{style:{color:"#FF3B30",marginLeft:4}}):e(x,{style:{color:t,marginLeft:4}}))]}),A(U,{children:[u.completeTime&&e(S.Text,{type:"secondary",children:["\u5BA1\u6279\u901A\u8FC7","\u5BA1\u6279\u4E2D","\u5BA1\u6279\u4E0D\u901A\u8FC7","\u64A4\u56DE"][u.passState]}),u.completeTime]})]}),!!u.signList.length&&e("div",{className:P["sign-list-wrap"],children:u.signList.map((m,F)=>A("p",{className:P.flex,children:[e("img",{src:K,style:{marginRight:10}}),m.name,!m.isPass&&e(x,{style:{color:t,marginLeft:4}})]},F))})]},u.id))})},Be=({item:l})=>{const o=![0,1].includes(l.isPass)||!l.isPass&&l.isLastNode;return A("div",{style:{fontWeight:"bold"},children:[l.name,"\uFF08",l.userCount,"\uFF09",e(S.Text,{strong:!0,style:{fontSize:14,color:["blue","gray","red","orange"][l.isPass]},children:["\u5DF2\u901A\u8FC7","\u5BA1\u6279\u4E2D","\u5BA1\u6279\u672A\u901A\u8FC7","\u64A4\u56DE"][l.isPass]}),o&&e(H,{style:{marginLeft:8,fontWeight:"normal"},children:"\u5DF2\u7ED3\u675F"})]})},Qe=({instanceId:l,open:o,setOpen:t,callback:u})=>{const{dictionaryStore:m}=ne(),[F,g]=C.exports.useState(),[I,a]=C.exports.useState(0),[s,b]=C.exports.useState(),[y,f]=C.exports.useState(),[N,r]=C.exports.useState(),n=(d,h)=>[{title:e("p",{style:{fontWeight:"bold",color:"#1e2636"},children:h?"\u5BA1\u6279\u7ED3\u675F\u6284\u9001":"\u63D0\u4EA4\u5BA1\u6279\u6284\u9001"}),icon:e("div",{className:Z["copy-icon"]}),status:"process",description:e(E,{children:d.map((p,B)=>e(V.Fragment,{children:A("p",{className:Z.flex,children:[e("img",{src:K,style:{marginRight:10}}),p.name]})},B))})}];C.exports.useEffect(()=>{!l||(async()=>{const{data:d}=await le({instanceId:l});if(!d)return;g(d);const{nodes:h,startCopyList:p,endCopyList:B}=d,v=h.map((L,W)=>{const X=W===h.length-1;return{title:e(Be,{item:{...L,isLastNode:X}}),description:e(pe,{list:L.sysUsers})}}),q=h.findIndex(L=>!L.isPass);a(q),b(v),f(n(p,0)),r(n(B,1))})()},[l]);const c=()=>{u&&u(),t(!1)};return e(te,{title:"\u67E5\u770B\u5BA1\u6279\u8BE6\u60C5",centered:!0,open:o,onCancel:c,width:840,footer:[e(ue,{onClick:()=>c(),children:"\u5173\u95ED"},"cancel")],children:A("div",{className:"modal-content",children:[e("div",{className:"title",children:"\u5BA1\u6279\u5355\u4FE1\u606F"}),F&&e(se,{info:F}),F&&A(E,{children:[e("div",{className:"title",children:m.processKeyListMap[F.key]}),e(ge,{applyKey:F.key,info:F.info})]}),e("div",{className:"title",children:"\u5BA1\u6279\u8FDB\u5EA6"}),e(w,{direction:"vertical",items:y}),e(w,{direction:"vertical",current:I,items:s}),e(w,{direction:"vertical",items:N})]})})},ke=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"}));export{Qe as C,oe as D,ke as i};
