{"version":3,"file":"index.1f7116a0.js","sources":["../../src/pages/Issues/Recommend/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Col,\r\n  DatePicker,\r\n  Divider,\r\n  Form,\r\n  Input,\r\n  Modal,\r\n  Row,\r\n  Select,\r\n  Space,\r\n  Table,\r\n  message\r\n} from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport type { ColumnsType, TablePaginationConfig } from 'antd/es/table'\r\nimport 'dayjs/locale/zh-cn'\r\nimport CheckModal from './components/CheckModal'\r\nimport UpdateModal from './components/UpdateModal'\r\n\r\nconst { RangePicker } = DatePicker\r\n\r\nconst Recommend = () => {\r\n  const [form] = Form.useForm()\r\n\r\n  const classificationOptions = [\r\n    { value: 0, label: '其他' },\r\n    { value: 1, label: '注册' },\r\n    { value: 2, label: '登录' }\r\n  ]\r\n\r\n  /**\r\n   * 重置\r\n   */\r\n  const onReset = () => {\r\n    form.resetFields()\r\n  }\r\n\r\n  /**\r\n   * 查询\r\n   */\r\n  const onFinish = (values: any) => {\r\n    console.log('Success:', values)\r\n  }\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log('Failed:', errorInfo)\r\n  }\r\n\r\n  type TDataType = {\r\n    key: string\r\n    number: string\r\n    name: string\r\n    classification: string\r\n    issue: string\r\n    helpCount: number\r\n    unhelpCount: number\r\n    sort: number\r\n    date: string\r\n    isDisplay: number\r\n  }\r\n\r\n  const [checkModalOpen, setCheckModalOpen] = useState(false)\r\n  /**\r\n   * 详情\r\n   */\r\n  const onCheck = (values: TDataType) => {\r\n    setCheckModalOpen(true)\r\n  }\r\n\r\n  const [updateModalOpen, setUpdateModalOpen] = useState(false)\r\n  /**\r\n   * 修改\r\n   */\r\n  const onUpdate = (values: TDataType) => {\r\n    setUpdateModalOpen(true)\r\n  }\r\n\r\n  /**\r\n   * 删除\r\n   */\r\n  const onDelete = (values: TDataType) => {\r\n    Modal.confirm({\r\n      title: '温馨提示',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: '确定要删除该记录吗？',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: () => message.success({ content: '删除成功' })\r\n    })\r\n  }\r\n\r\n  // 表格分页参数\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: 10,\r\n    total: 31\r\n  })\r\n\r\n  /**\r\n   * 分页、排序、筛选变化时触发\r\n   */\r\n  const onTableChange = (tablePagination: TablePaginationConfig) => {\r\n    setPagination({ ...pagination, ...tablePagination })\r\n  }\r\n\r\n  const columns: ColumnsType<TDataType> = [\r\n    {\r\n      title: '序号',\r\n      dataIndex: 'key',\r\n      key: 'key'\r\n    },\r\n    {\r\n      title: '应用编号',\r\n      dataIndex: 'number',\r\n      key: 'number'\r\n    },\r\n    {\r\n      title: '应用名称',\r\n      dataIndex: 'name',\r\n      key: 'name'\r\n    },\r\n    {\r\n      title: '对应应用问题分类',\r\n      dataIndex: 'classification',\r\n      key: 'classification'\r\n    },\r\n    {\r\n      title: '问题',\r\n      dataIndex: 'issue',\r\n      key: 'issue',\r\n      ellipsis: true\r\n    },\r\n    {\r\n      title: '有帮助',\r\n      dataIndex: 'helpCount',\r\n      key: 'helpCount',\r\n      sorter: (a, b) => a.helpCount - b.helpCount\r\n    },\r\n    {\r\n      title: '无帮助',\r\n      dataIndex: 'unhelpCount',\r\n      key: 'unhelpCount',\r\n      sorter: (a, b) => a.unhelpCount - b.unhelpCount\r\n    },\r\n    {\r\n      title: '排序',\r\n      dataIndex: 'sort',\r\n      key: 'sort',\r\n      defaultSortOrder: 'ascend',\r\n      sortDirections: ['ascend', 'descend', 'ascend'],\r\n      sorter: (a, b) => a.sort - b.sort\r\n    },\r\n    {\r\n      title: '创建时间',\r\n      dataIndex: 'date',\r\n      key: 'date',\r\n      sorter: (a, b) => a.sort - b.sort\r\n    },\r\n    {\r\n      title: '显示',\r\n      dataIndex: 'isDisplay',\r\n      key: 'isDisplay',\r\n      render: isDisplay => (\r\n        <Space>\r\n          <Badge color={isDisplay ? '#52c41a' : '#ff7875'} />\r\n          {isDisplay ? '是' : '否'}\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      width: 250,\r\n      render: values => (\r\n        <>\r\n          <Button type='link' onClick={() => onCheck(values)}>\r\n            详情\r\n          </Button>\r\n          <Divider type='vertical' />\r\n          <Button type='link' onClick={() => onUpdate(values)}>\r\n            修改\r\n          </Button>\r\n          <Divider type='vertical' />\r\n          <Button\r\n            type='link'\r\n            style={{ color: '#ff7875' }}\r\n            onClick={() => onDelete(values)}\r\n          >\r\n            删除\r\n          </Button>\r\n        </>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const data: TDataType[] = [\r\n    {\r\n      key: '1',\r\n      number: 'W00001',\r\n      name: '南沙分局APP',\r\n      classification: '登录',\r\n      issue: '如何注册？',\r\n      helpCount: 11,\r\n      unhelpCount: 11,\r\n      sort: 1,\r\n      date: '2023-01-01',\r\n      isDisplay: 1\r\n    },\r\n    {\r\n      key: '2',\r\n      number: 'W00002',\r\n      name: '南沙分局APP',\r\n      classification: '注册',\r\n      issue: '如何注册？',\r\n      helpCount: 2,\r\n      unhelpCount: 12,\r\n      sort: 2,\r\n      date: '2023-01-01',\r\n      isDisplay: 1\r\n    },\r\n    {\r\n      key: '3',\r\n      number: 'W00003',\r\n      name: '南沙分局APP',\r\n      classification: '登录',\r\n      issue: '如何注册？',\r\n      helpCount: 3,\r\n      unhelpCount: 13,\r\n      sort: 3,\r\n      date: '2023-01-01',\r\n      isDisplay: 0\r\n    },\r\n    {\r\n      key: '4',\r\n      number: 'W00004',\r\n      name: '南沙分局APP',\r\n      classification: '注册',\r\n      issue: '如何注册？如何注册？如何注册？如何注册？如何注册？',\r\n      helpCount: 44,\r\n      unhelpCount: 4,\r\n      sort: 4,\r\n      date: '2023-01-01',\r\n      isDisplay: 1\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col span={24}>\r\n          <Form\r\n            form={form}\r\n            name='search'\r\n            initialValues={{ classification: -1 }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n            autoComplete='off'\r\n          >\r\n            <Row gutter={20}>\r\n              <Col span={6}>\r\n                <Form.Item label='问题' name='issues'>\r\n                  <Input placeholder='请输入问题' allowClear maxLength={30} />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={6}>\r\n                <Form.Item label='问题分类' name='classification'>\r\n                  <Select\r\n                    placeholder='请选择问题分类'\r\n                    options={[\r\n                      { value: -1, label: '全部' },\r\n                      ...classificationOptions\r\n                    ]}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item label='创建时间' name='date'>\r\n                  <RangePicker />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={24} className='tr'>\r\n                <Form.Item>\r\n                  <Space>\r\n                    <Button onClick={onReset}>重置</Button>\r\n                    <Button type='primary' htmlType='submit'>\r\n                      查询\r\n                    </Button>\r\n                  </Space>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24}>\r\n          <Table\r\n            className='issue-table'\r\n            columns={columns}\r\n            dataSource={data}\r\n            pagination={pagination}\r\n            onChange={onTableChange}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <CheckModal open={checkModalOpen} setOpen={setCheckModalOpen} />\r\n      <UpdateModal open={updateModalOpen} setOpen={setUpdateModalOpen} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Recommend\r\n"],"names":["RangePicker","DatePicker","Recommend","form","Form","useForm","classificationOptions","value","label","onReset","resetFields","onFinish","values","log","onFinishFailed","errorInfo","checkModalOpen","setCheckModalOpen","useState","onCheck","updateModalOpen","setUpdateModalOpen","onUpdate","onDelete","Modal","confirm","title","icon","_jsx","ExclamationCircleOutlined","content","okText","cancelText","onOk","message","success","pagination","setPagination","current","pageSize","total","onTableChange","tablePagination","columns","dataIndex","key","ellipsis","sorter","a","b","helpCount","unhelpCount","defaultSortOrder","sortDirections","sort","render","isDisplay","_jsxs","Space","Badge","width","_Fragment","Button","Divider","color","data","number","name","classification","issue","date","Row","Col","Input","Select","Table","CheckModal","UpdateModal"],"mappings":"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"}