import{a7 as $e,r as d,o as J,f as D,a as b,j as r,a6 as Se,C as ye,i as Ce,k as ve,l as be,y as te,aR as ie,R as Ne,aT as Ee,aU as Be,F as Y,aV as Ie,J as we,aW as ze,u as Pe,aL as Oe,B as Le,D as Te,I as Re,aX as Me}from"./index.c4f60a74.js";import{e as Ge,P as ne}from"./Pagination.555376d1.js";import{u as Fe}from"./useBreakpoint.6974bb22.js";const q=$e.createContext({});q.Consumer;var ae=globalThis&&globalThis.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(i[n[a]]=t[n[a]]);return i};const De=t=>{var{prefixCls:e,className:i,avatar:n,title:a,description:l}=t,p=ae(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:h}=d.exports.useContext(J),m=h("list",e),o=D(`${m}-item-meta`,i),x=b("div",{className:`${m}-item-meta-content`,children:[a&&r("h4",{className:`${m}-item-meta-title`,children:a}),l&&r("div",{className:`${m}-item-meta-description`,children:l})]});return b("div",{...Object.assign({},p,{className:o}),children:[n&&r("div",{className:`${m}-item-meta-avatar`,children:n}),(a||l)&&x]})},Ve=(t,e)=>{var{prefixCls:i,children:n,actions:a,extra:l,className:p,colStyle:h}=t,m=ae(t,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:o,itemLayout:x}=d.exports.useContext(q),{getPrefixCls:v}=d.exports.useContext(J),c=()=>{let $;return d.exports.Children.forEach(n,C=>{typeof C=="string"&&($=!0)}),$&&d.exports.Children.count(n)>1},S=()=>x==="vertical"?!!l:!c(),A=v("list",i),y=a&&a.length>0&&r("ul",{className:`${A}-item-action`,children:a.map(($,C)=>b("li",{children:[$,C!==a.length-1&&r("em",{className:`${A}-item-action-split`})]},`${A}-item-action-${C}`))},"actions"),B=r(o?"div":"li",{...Object.assign({},m,o?{}:{ref:e},{className:D(`${A}-item`,{[`${A}-item-no-flex`]:!S()},p)}),children:x==="vertical"&&l?[b("div",{className:`${A}-item-main`,children:[n,y]},"content"),r("div",{className:`${A}-item-extra`,children:l},"extra")]:[n,y,Se(l,{key:"extra"})]});return o?r(ye,{ref:e,flex:1,style:h,children:B}):B},re=d.exports.forwardRef(Ve);re.Meta=De;const je=re,He=t=>{const{listBorderedCls:e,componentCls:i,paddingLG:n,margin:a,itemPaddingSM:l,itemPaddingLG:p,marginLG:h,borderRadiusLG:m}=t;return{[`${e}`]:{border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:m,[`${i}-header,${i}-footer,${i}-item`]:{paddingInline:n},[`${i}-pagination`]:{margin:`${a}px ${h}px`}},[`${e}${i}-sm`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:l}},[`${e}${i}-lg`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:p}}}},Ue=t=>{const{componentCls:e,screenSM:i,screenMD:n,marginLG:a,marginSM:l,margin:p}=t;return{[`@media screen and (max-width:${n})`]:{[`${e}`]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:a}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:a}}}},[`@media screen and (max-width: ${i})`]:{[`${e}`]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:l}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${p}px`}}}}}},We=t=>{const{componentCls:e,antCls:i,controlHeight:n,minHeight:a,paddingSM:l,marginLG:p,padding:h,itemPadding:m,colorPrimary:o,itemPaddingSM:x,itemPaddingLG:v,paddingXS:c,margin:S,colorText:A,colorTextDescription:y,motionDurationSlow:E,lineWidth:B,headerBg:$,footerBg:C,emptyTextPadding:z,metaMarginBottom:V,avatarMarginRight:P,titleMarginBottom:j,descriptionFontSize:H}=t,O={};return["start","center","end"].forEach(L=>{O[`&-align-${L}`]={textAlign:L}}),{[`${e}`]:Object.assign(Object.assign({},be(t)),{position:"relative","*":{outline:"none"},[`${e}-header`]:{background:$},[`${e}-footer`]:{background:C},[`${e}-header, ${e}-footer`]:{paddingBlock:l},[`${e}-pagination`]:Object.assign(Object.assign({marginBlockStart:p},O),{[`${i}-pagination-options`]:{textAlign:"start"}}),[`${e}-spin`]:{minHeight:a,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:m,color:A,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:P},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:A},[`${e}-item-meta-title`]:{margin:`0 0 ${t.marginXXS}px 0`,color:A,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:A,transition:`all ${E}`,["&:hover"]:{color:o}}},[`${e}-item-meta-description`]:{color:y,fontSize:H,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none",["& > li"]:{position:"relative",display:"inline-block",padding:`0 ${c}px`,color:y,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center",["&:first-child"]:{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:B,height:Math.ceil(t.fontSize*t.lineHeight)-t.marginXXS*2,transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${h}px 0`,color:y,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:z,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${i}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:S,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:p},[`${e}-item-meta`]:{marginBlockEnd:V,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:j,color:A,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:h,marginInlineStart:"auto","> li":{padding:`0 ${h}px`,["&:first-child"]:{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`,["&:last-child"]:{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:n},[`${e}-split${e}-something-after-last-item ${i}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:v},[`${e}-sm ${e}-item`]:{padding:x},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},Xe=Ce("List",t=>{const e=ve(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[We(e),He(e),Ue(e)]},t=>({contentWidth:220,itemPadding:`${t.paddingContentVertical}px 0`,itemPaddingSM:`${t.paddingContentVerticalSM}px ${t.paddingContentHorizontal}px`,itemPaddingLG:`${t.paddingContentVerticalLG}px ${t.paddingContentHorizontalLG}px`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}));var Qe=globalThis&&globalThis.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(i[n[a]]=t[n[a]]);return i};function F(t){var e,{pagination:i=!1,prefixCls:n,bordered:a=!1,split:l=!0,className:p,rootClassName:h,style:m,children:o,itemLayout:x,loadMore:v,grid:c,dataSource:S=[],size:A,header:y,footer:E,loading:B=!1,rowKey:$,renderItem:C,locale:z}=t,V=Qe(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const P=i&&typeof i=="object"?i:{},[j,H]=d.exports.useState(P.defaultCurrent||1),[O,L]=d.exports.useState(P.defaultPageSize||10),{getPrefixCls:oe,renderEmpty:U,direction:se,list:I}=d.exports.useContext(J),le={current:1,total:0},Z=s=>(f,G)=>{var K;H(f),L(G),i&&i[s]&&((K=i==null?void 0:i[s])===null||K===void 0||K.call(i,f,G))},ce=Z("onChange"),de=Z("onShowSizeChange"),ge=(s,f)=>C?(typeof $=="function"?$(s):$?s[$]:s.key,r(Y,{children:C(s,f)})):null,me=()=>!!(v||i||E),g=oe("list",n),[Ae,pe]=Xe(g);let w=B;typeof w=="boolean"&&(w={spinning:w});const W=w&&w.spinning;let T="";switch(A){case"large":T="lg";break;case"small":T="sm";break}const ue=D(g,{[`${g}-vertical`]:x==="vertical",[`${g}-${T}`]:T,[`${g}-split`]:l,[`${g}-bordered`]:a,[`${g}-loading`]:W,[`${g}-grid`]:!!c,[`${g}-something-after-last-item`]:me(),[`${g}-rtl`]:se==="rtl"},I==null?void 0:I.className,p,h,pe),u=Ge(le,{total:S.length,current:j,pageSize:O},i||{}),_=Math.ceil(u.total/u.pageSize);u.current>_&&(u.current=_);const k=i?r("div",{className:D(`${g}-pagination`,`${g}-pagination-align-${(e=u==null?void 0:u.align)!==null&&e!==void 0?e:"end"}`),children:r(ne,{...Object.assign({},u,{onChange:ce,onShowSizeChange:de})})}):null;let X=te(S);i&&S.length>(u.current-1)*u.pageSize&&(X=te(S).splice((u.current-1)*u.pageSize,u.pageSize));const fe=Object.keys(c||{}).some(s=>["xs","sm","md","lg","xl","xxl"].includes(s)),ee=Fe(fe),R=d.exports.useMemo(()=>{for(let s=0;s<ie.length;s+=1){const f=ie[s];if(ee[f])return f}},[ee]),he=d.exports.useMemo(()=>{if(!c)return;const s=R&&c[R]?c[R]:c.column;if(s)return{width:`${100/s}%`,maxWidth:`${100/s}%`}},[c==null?void 0:c.column,R]);let Q=W&&r("div",{style:{minHeight:53}});if(X.length>0){const s=X.map((f,G)=>ge(f,G));Q=c?r(Ne,{gutter:c.gutter,children:d.exports.Children.map(s,f=>r("div",{style:he,children:f},f==null?void 0:f.key))}):r("ul",{className:`${g}-items`,children:s})}else!o&&!W&&(Q=r("div",{className:`${g}-empty-text`,children:z&&z.emptyText||(U==null?void 0:U("List"))||r(Ee,{componentName:"List"})}));const M=u.position||"bottom",xe=d.exports.useMemo(()=>({grid:c,itemLayout:x}),[JSON.stringify(c),x]);return Ae(r(q.Provider,{value:xe,children:b("div",{...Object.assign({style:Object.assign(Object.assign({},I==null?void 0:I.style),m),className:ue},V),children:[(M==="top"||M==="both")&&k,y&&r("div",{className:`${g}-header`,children:y}),b(Be,{...Object.assign({},w),children:[Q,o]}),E&&r("div",{className:`${g}-footer`,children:E}),v||(M==="bottom"||M==="both")&&k]})}))}F.Item=je;const Ke="_item_13cd1_8",Ye="_content_13cd1_14",Je="_active_13cd1_19",N={"message-list":"_message-list_13cd1_1",item:Ke,content:Ye,active:Je,"pagination-wrap":"_pagination-wrap_13cd1_26"},qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAaCAYAAABCfffNAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAGgAAAAAfU+2OAAADN0lEQVRIDcVWTUwTQRR+M7u0lD9FIGJTIFX50YJe0AQPYNTozWBMK8SDB4kHTTyoVzUIR6MXE3+iB+WA0APoSS8mEhMT5CJQLURbgVgIilEEraW745ulu0zbXUA42LSdN9/33vdm3sy+LIFVfjzeQM5vSp2KulAg0YwZh6pGAn7P3GrCyXJO27yB7XGinGIAjcCgOs2XwDAK9MpMevjR7/mQxicA0yQVzSOFf5RYK2PsDPrJVsECHieE3LNLtqujnZVfBVwz05K4m4d2qXF4yoCVpTqvNCdAxqgMR8OdNYOib1IStzewVyHKCyxNtuj0TzaBeYlJB8J+T78eZySpbAo6o8rCAO5gi06udcQdTWZKGbUjj6siXIPqQpjg7koJbDKBihK7HmI5ch2upztoO3H73tUrLP5SB83GQ7W54NufD/W7c+FWzzQ8efUdJqYXzFwNTCJyQ7h7Z5+WpMw31IM3qdFgU4wb51xwvCE/CY3GVDjZHoaB4K8kXJzgjesd6645Ruu8Ew5McFgkRZuXJzUB5zNtFC76NouuaTbX5fr0szS7D9msNI8EUO7KtKKg3LXi+WRFYLaOUpW5LFWQ4Idt9bHJxr2xcgFCWAkFpq77ylpmQEIFtZhiX1q2yeU4rFdrtxGQrGktN2EwT4ES7YExWw0vVdPBTWaUhvHDN7sUSQGoTyWQh5PAxITiCm9fKIVqt8OMNrD2FifsqbK8N8D15VDXjtEy71AQn9IqIxINvotPUzHoe/sT8rIlsGfw0uAlwC9TAWJxrENUgalvcTxcMXLJxvYS5PpaG8cEnUi1LtEA0RiDtkeTIgRnG4ugIE+G529+QP9764dQD0roLvYuR67tJi7mi05ajcHxKEgSQCgSs3IxcK7HdTlgbBRLdhoz3ze81mlgqVrG/DUPuIxxATWAkDvr1F4MRx09QVISPinaWH0eV9Cx6Lm2fx7PdcRoo1wiiF35Es7bsMFZNy4xAG3suFEcLmPXvZ5CLZ1JKrHVGyjFN5VruLITyyXj4niWXfjGciXk94yn6vC56U5ER/6+NUfYEXw66vDnZIwUYNObwVDsFOT1Bnvhs8GO4nkx5r/YfwEPif/E/L+peAAAAABJRU5ErkJggg==",Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAaCAYAAABCfffNAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAGgAAAAAfU+2OAAADlklEQVRIDa1WWWhTURCduUnTRFOsS7poSxe11Tai4gKCuH+IWhc0bVX8UFFEEP9EBCXSLwVF8NcF/NE2iB8q+OH+YUHFhTa2llYtrW1FRG1aa2veu87c9MX05b1EwQvJ3JlzZubeufPuewj/achAwDHQ27sXEFeokFI+9ObnX8RQSMN0OWZsD1eOaHI9SH06Ak5lvgTZAyg6XA683X61MkwJPJG+vnsg5ZIx8RAbs/LyVlsmkVJicW3TDtDhuAQoH+NoUijA2ytfzrbNH2mvMkFKFQCnkpIU17YU61o0ROtdaOVkZbv1+SQURz9ZQUDla3MmIqWB8NKoHr1BCaYk2tPNJ+mRVJQc2k1slARayzXQblFd/ykBe7dkFI5GSRZUqhcONi8JdHn6cfAR1X9aMi29pcuRA1uGGsFce9J1hxC71E564ethKaEsVThBzLq9U2HZXG8S7aWrFA5NPACfxYQ49gPd/eSyadzjx0+wfE9r1s/ISBft4g8jTgVw0l6P7syDHWsmwXi32ji0df+EExd7oDE8mMCMTY0G6HTmfndnuQrfXpoVEcORX+vsErDb/iof7NvgiydgW1mBGy4cKYKc7DF9wxB8cOaqH8fk2GwTEuUmntiN1QuyLCGvxwGLK8ZbYobRiC3oLPyG0Ur6JiSv1uClwphjxKaziV0VhuP/lbHYgtosuV0SMiGaGzMRTJhbTMlV1VMAyl4LXJmyvQ7In5xhB0NFkdsWiwGyjyWdCXZbMTOcCOcPFwJLu7Ft+URYOd+6MdiHzqSLJe0E7vLEPA5u9tGDZx+A+YKKfe5QAbjsFoJ4j3lYUtM8V9P1V6yYx8yCTPDRs+DJFOD1CHC7BK8Ovg9qMDSsK9nxcRgGhnSzq9LpSpn3vt7/WtWiqLrpPr1DVloyR40LysZBfbAU3nwYgo3HOlJRFUYN86CzYc4qVlSS0tqmhVENnlIV7Q+AyNwI/T800K0XroLH/lDSdbT43bU5z1mn5wSAFTqcOp6nGt8G/iaBOug6IwHHi6+cX7lFNc3XqOjVqRKlxRAbOuv9tVQuOr3YUDvhKRv3VPi3kzwziv2zYN/RGPEEKrZVpJLq5ipdytP0VTLLCjfb6CumVSAeed/gv2nGWI+XywwGAtLxTIQDUte3SsC11BSm6wcHEOQdFOL6Ir0yFAqhZo5h6LZJDALLYFCKy+0tuXI4qr67MNPZs3vG7E/BIKbtM/b/DdCYGXijQA1YAAAAAElFTkSuQmCC",_e=()=>{const{unreadCountStore:t}=we();d.exports.useEffect(()=>{(async()=>{const{data:o}=await ze();!o||t.setUnreadCount(o.unRead)})()},[]);const[e,i]=d.exports.useState(),n=async()=>{const{data:o}=await Me({pageNum:a.pageNum,pageSize:a.pageSize});if(!o)return;const{list:x,pageNum:v,pageSize:c,total:S}=o;i(x),l({pageNum:v,pageSize:c,total:S})},[a,l]=d.exports.useState({pageNum:1,pageSize:10,total:0});d.exports.useEffect(()=>{n()},[a.pageNum]);const p=o=>{l({...a,pageNum:o})},h=Pe(),m=async o=>{h(`./messageDetail?id=${o}`)};return b(Y,{children:[r(Oe,{count:t.unreadCount,children:r(Le,{type:"primary",size:"large",children:"\u7CFB\u7EDF\u6D88\u606F"})}),r(Te,{}),r(F,{itemLayout:"horizontal",dataSource:e,className:N["message-list"],renderItem:o=>r(F.Item,{className:N.item,onClick:()=>m(o.id),children:r(F.Item.Meta,{avatar:r(Re,{width:25,preview:!1,src:o.isRead?qe:Ze}),title:r(Y,{children:b("div",{className:`${N.content} ${!o.isRead&&N.active}`,children:[r("div",{className:N.title,children:o.title}),r("div",{className:N.date,children:o.sendTime})]})})})})}),r("div",{className:N["pagination-wrap"],children:r(ne,{...a,onChange:p})})]})},it=Ie(_e);export{it as default};
