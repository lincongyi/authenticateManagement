import{m as L,r,u as T,aI as j,a as o,d as p,j as s,aW as _,I as F}from"./index.0174d8c9.js";import{g as M,d as H}from"./devDocument.fa60e1cc.js";import{T as $}from"./index.730091d4.js";const A="_strong_sra3k_10",P="_name_sra3k_24",R="_content_sra3k_34",a={"result-amount":"_result-amount_sra3k_1",strong:A,"result-list":"_result-list_sra3k_14","result-item":"_result-item_sra3k_14",name:P,content:R,"doc-tabs":"_doc-tabs_sra3k_41"},{Search:G}=F,J=()=>{const[g,y]=L.useMessage(),h=t=>{if(!t)return g.warning("\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u5B57");I(t)},[u,S]=r.exports.useState(),[i,f]=r.exports.useState(),[c,I]=r.exports.useState(),[n,m]=r.exports.useState();r.exports.useEffect(()=>{(async()=>{const{data:t}=await M();if(!t)return;S([{capabilityId:0,projectName:"\u5168\u90E8"},...t])})()},[]);const b=t=>{f(+t)};r.exports.useEffect(()=>{!c||(async()=>{const{data:t}=await H({capabilityId:i||void 0,searchStr:c});m(t?v(t):[])})()},[i,c]);const{themeStore:E}=T(),v=t=>{const e=E.antdThemeColor;if(!!t)return t.map(l=>{const{name:x,content:k,...C}=l,d=/<span style='color:blue'>/g,w=x.replace(d,`<span style="color:${e}; font-weight: bold">`),B=k.replace(d,`<span style="color:${e}; font-weight: bold">`);return{...C,name:w,content:B}})},D=j(),N=t=>{const{capabilityId:e,directoryId:l}=t;D(`../../devDocument?capabilityId=${e}&directoryId=${l}`)};return o(p,{children:[y,s(G,{placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u5B57",size:"large",style:{marginBottom:20},onSearch:h,enterButton:!0,allowClear:!0}),u&&s($,{tabBarGutter:0,className:a["doc-tabs"],onChange:b,items:u.map(t=>{var e;return{label:t.projectName,key:((e=t.capabilityId)==null?void 0:e.toString())||"0"}})}),n?o(p,{children:[o("div",{className:a["result-amount"],children:["\u641C\u7D22\u5230"," ",s("span",{className:a.strong,children:n&&n.length||0})," ","\u6761\u7ED3\u679C"]}),n.length?s("div",{className:a["result-list"],children:n.map((t,e)=>o("div",{className:a["result-item"],onClick:()=>N(t),children:[s("div",{className:a.name,dangerouslySetInnerHTML:{__html:t.name}}),s("div",{className:a.content,dangerouslySetInnerHTML:{__html:t.content}})]},e))}):s(_,{image:_.PRESENTED_IMAGE_SIMPLE})]}):s("div",{style:{margin:"20px 0"},children:"\u6682\u65E0\u6570\u636E"})]})};export{J as default};
