import{r as s,j as e,M as J,B as o,h as n,F as a,p as _,I as q,n as O,u as Q,D as U,z as W,t as d,q as E,s as u,S as $,l as X}from"./index.a942f570.js";import{D as Y,d as g}from"./zh-cn.c4d394e3.js";import{r as v,a as Z,d as y}from"./date.b16e65e9.js";import{d as ee,e as te}from"./myApp.84ca76b1.js";import{T as k}from"./index.264246f1.js";import{R as A}from"./index.fcd8c0ee.js";import{T as ne}from"./Table.c50d7474.js";import{D as f}from"./index.ddfd8ecd.js";import{T as ie}from"./index.557fd4e0.js";import"./mock.93fd5af7.js";import"./getDataOrAriaProps.fd89ab75.js";import"./index.82fd8ce2.js";import"./styleChecker.009a5822.js";import"./css.d6e3059f.js";import"./useBreakpoint.416e4c07.js";import"./extendsObject.46729a45.js";import"./EditOutlined.a069ccba.js";const ae="_tag_mq23f_1",ue="_icon01_mq23f_13",ce="_icon02_mq23f_16",se="_icon03_mq23f_19",re="_count_mq23f_22",r={tag:ae,icon01:ue,icon02:ce,icon03:se,count:re},oe="_tips_1d6uc_1",le="_active_1d6uc_5",B={tips:oe,active:le},{TextArea:de}=q,pe=["\u786E\u8BA4","\u63D0\u4EA4\u7533\u8BF7","\u67E5\u770B\u5BA1\u6279\u8FDB\u5EA6"],me=({instanceId:c,open:D,setOpen:i})=>{const[l,x]=s.exports.useState(1),p=s.exports.useMemo(()=>pe[l],[l]),C=I=>{const{value:m}=I.target;x(m)};return e(J,{title:"\u7533\u8BF7\u5EF6\u671F",centered:!0,open:D,onCancel:()=>i(!1),width:600,footer:[e(o,{onClick:()=>i(!1),children:"\u5173\u95ED"},"cancel"),e(o,{type:"primary",onClick:()=>{},children:p},"confirm")],children:n(a,{labelCol:{span:6},wrapperCol:{span:18},initialValues:{isExtended:1},children:[e(a.Item,{label:"\u5E94\u7528\u521B\u5EFA\u65F6\u95F4",children:"2023-05-17"}),e(a.Item,{label:"\u6709\u6548\u671F\u6B62",children:n(_,{children:["2023-05-17",e(k,{color:"error",children:"\u5DF2\u8FC7\u671F"}),e(k,{color:"warning",children:"\u5373\u5C06\u8FC7\u671F"})]})}),e(a.Item,{label:"\u662F\u5426\u5EF6\u957F\u6709\u6548\u671F",name:"isExtended",rules:[{required:!0}],children:e(A.Group,{onChange:C,children:n(_,{direction:"vertical",children:[n(A,{value:1,children:["\u6709\u6548\u671F\u5EF6\u957F1\u5E74",e("span",{className:`${B.tips} ${l===1&&B.active}`,children:"\u81EA\u7533\u8BF7\u5BA1\u6279\u901A\u8FC7\u65E5\u8D77\u59CB"})]}),n(A,{value:0,children:["\u6682\u4E0D\u5EF6\u671F",e("span",{className:`${B.tips} ${l===0&&B.active}`,children:"\u52FE\u9009\u786E\u8BA4\u540E\u5C06\u4E0D\u518D\u901A\u77E5\u63D0\u9192\u5EF6\u671F"})]})]})})}),e(a.Item,{label:"\u5907\u6CE8\u8BF4\u660E",name:"remark",children:e(de,{rows:2,placeholder:"\u8BF7\u586B\u5199\u5907\u6CE8\u8BF4\u660E",showCount:!0,maxLength:100})})]})})},{RangePicker:R}=Y,he=()=>{const[c,D]=s.exports.useState();s.exports.useEffect(()=>{(async()=>{const{data:t}=await ee();D(t)})()},[]);const{accessFormStore:i}=Q();s.exports.useEffect(()=>{i.dictionary||(async()=>{const{data:t}=await U({showType:"appAccess"});i.setDictionary(t)})()},[]);const[l,x]=s.exports.useState();s.exports.useEffect(()=>{(async()=>{const{data:t}=await te();x(t.list)})()},[]);const[p]=a.useForm(),C=()=>{p.resetFields()},b=t=>{console.log("Success:",t);const{expiredRange:h,dateRange:F}=t;(h||F)&&(h&&(g(h[0]).format(y),g(h[1]).format(y)),F&&(g(F[0]).format(y),g(F[1]).format(y)))},I=t=>{console.log("Failed:",t)},m=W(),j=({id:t})=>{i.current={id:t,state:2},m("./access")},L=({id:t})=>{m(`./authenticationData?id=${t}`)},M=t=>{console.log(t)},[S,P]=s.exports.useState(),[N,T]=s.exports.useState(!0),V=({id:t})=>{P(t),T(!0)},z=t=>{console.log(t)},[w,G]=s.exports.useState({current:1,pageSize:10,total:31}),K=t=>{G({...w,...t})},H=[{title:"\u5E94\u7528\u540D\u79F0",dataIndex:"appName",ellipsis:!0},{title:"\u63A5\u5165\u57FA\u7840\u80FD\u529B",ellipsis:!0,render:t=>e(d,{children:i.dictionary?i.getDictionaryItem("accessSkill")[t.appAbility].dictName:"-"})},{title:"clientId",dataIndex:"clientId",ellipsis:!0},{title:"\u6709\u6548\u65F6\u95F4",dataIndex:"expiredTime",ellipsis:!0},{title:"\u72B6\u6001",ellipsis:!0,render:t=>e(d,{children:i.dictionary&&e(k,{color:["success","warning","error"][t==null?void 0:t.state]||"default",children:i.dictionary?i.getDictionaryItem("appState")[t.state].dictName:"-"})})},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"addTime",ellipsis:!0},{title:"\u64CD\u4F5C",key:"action",width:250,render:t=>n(d,{children:[e(o,{type:"link",onClick:()=>j(t),children:"\u67E5\u770B"}),e(f,{type:"vertical",style:{margin:0}}),e(o,{type:"link",onClick:()=>L(t),children:"\u8BA4\u8BC1\u6570\u636E"}),e(f,{type:"vertical",style:{margin:0}}),e(o,{type:"link",onClick:()=>M(t),children:t.appEnv?"\u7533\u8BF7\u53C2\u6570\u66F4\u6539":"\u7533\u8BF7\u6B63\u5F0F\u8D26\u53F7"}),e(f,{type:"vertical",style:{margin:0}}),[1,2].includes(t.state)&&n(d,{children:[e(o,{type:"link",onClick:()=>V(t),children:"\u7533\u8BF7\u5EF6\u671F"}),e(f,{type:"vertical",style:{margin:0}})]}),e(o,{type:"link",onClick:()=>z(t),children:e(ie.Text,{type:"danger",children:"\u6CE8\u9500"})})]})}];return n(d,{children:[n(E,{gutter:20,style:{marginBottom:20},children:[e(u,{span:8,children:n("div",{className:`${r.tag} ${r.icon01}`,children:["\u6211\u7684\u5E94\u7528\u6570",e("span",{className:r.count,children:c==null?void 0:c.total})]})}),e(u,{span:8,children:n("div",{className:`${r.tag} ${r.icon02}`,children:["\u6B63\u5F0F\u5E94\u7528",e("span",{className:r.count,children:c==null?void 0:c.prod})]})}),e(u,{span:8,children:n("div",{className:`${r.tag} ${r.icon03}`,children:["\u6D4B\u8BD5\u5E94\u7528",e("span",{className:r.count,children:c==null?void 0:c.sit})]})})]}),e(E,{children:e(u,{span:24,children:e(a,{form:p,name:"search",onFinish:b,onFinishFailed:I,autoComplete:"off",children:n(E,{gutter:20,children:[e(u,{span:6,children:e(a.Item,{label:"\u5E94\u7528\u540D\u79F0",name:"appName",children:e(q,{placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0",maxLength:10})})}),e(u,{span:6,children:e(a.Item,{label:"\u57FA\u7840\u80FD\u529B",name:"appAbility",children:e($,{placeholder:"\u8BF7\u9009\u62E9\u57FA\u7840\u80FD\u529B",fieldNames:X,options:i.getDictionaryItem("accessSkill")})})}),e(u,{span:6,children:e(a.Item,{label:"\u72B6\u6001",name:"state",children:e($,{placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",fieldNames:{label:"dictName",value:"dictValue"},options:i.getDictionaryItem("appState")})})}),e(u,{span:12,children:e(a.Item,{label:"\u6709\u6548\u671F\uFF1A",name:"expiredRange",children:e(R,{presets:v})})}),e(u,{span:12,children:e(a.Item,{label:"\u521B\u5EFA\u65F6\u95F4\uFF1A",name:"dateRange",children:e(R,{presets:v,disabledDate:Z})})}),e(u,{span:24,className:"tr",children:e(a.Item,{children:n(_,{children:[e(o,{onClick:C,children:"\u91CD\u7F6E"}),e(o,{type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"})]})})})]})})})}),e(E,{children:e(u,{span:24,children:e(ne,{rowKey:"id",columns:H,dataSource:l,pagination:w,onChange:K})})}),N&&S&&e(me,{open:N,setOpen:T,instanceId:S})]})},we=O(he);export{we as default};
//# sourceMappingURL=index.80149df6.js.map
