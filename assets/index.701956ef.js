import{i as w,r as o,j as t,h as i,q as S,s as y}from"./index.a942f570.js";import{d as A,D as q}from"./zh-cn.c4d394e3.js";import{d as $,r as R,a as L}from"./date.b16e65e9.js";import{g as O,a as j,b as k,c as I}from"./myApp.84ca76b1.js";import{i as D}from"./index.ac9f3c72.js";import{C}from"./index.7e364061.js";import"./mock.93fd5af7.js";import"./index.6e5639ae.js";const G="_title_1ua4i_1",M="_success_1ua4i_18",V="_percentage_1ua4i_18",H="_fail_1ua4i_21",J="_amount_1ua4i_27",K="_card01_1ua4i_64",Q="_card02_1ua4i_67",T="_card03_1ua4i_70",U="_card04_1ua4i_73",W="_card05_1ua4i_76",X="_card06_1ua4i_79",Y="_count_1ua4i_83",Z="_description_1ua4i_87",e={title:G,"decoration-line":"_decoration-line_1ua4i_6","decoration-square":"_decoration-square_1ua4i_12",success:M,percentage:V,fail:H,amount:J,"space-between":"_space-between_1ua4i_32","left-side":"_left-side_1ua4i_35","right-side":"_right-side_1ua4i_36","card-wrap":"_card-wrap_1ua4i_49","card-content":"_card-content_1ua4i_54",card01:K,card02:Q,card03:T,card04:U,card05:W,card06:X,count:Y,description:Z},E=[],N=a=>{E.push(a),window.onresize=()=>{E.forEach(r=>r.resize())}};let p;const tt=({chartData:a})=>{const r={xAxis:{type:"category",boundaryGap:!1,data:a.xAxis},yAxis:{type:"value"},series:[{data:a.yAxis,type:"line",areaStyle:{}}]};return o.exports.useEffect(()=>{if(!p){const s=document.getElementById("amount");if(!s)return;p=D(s)}return p.setOption(r),p.resize(),N(p),()=>{p=null,window.onresize=()=>{}}},[r]),t("div",{id:"amount",style:{height:352}})},et=w.memo(tt);let m;const at=({chartData:a})=>{const r={xAxis:{type:"category",data:a.xAxis},yAxis:{type:"value"},series:[{data:a.yAxis,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]};return o.exports.useEffect(()=>{if(!m){const s=document.getElementById("percentage");if(!s)return;m=D(s)}return m.setOption(r),m.resize(),N(m),()=>{m=null,window.onresize=()=>{}}},[r]),t("div",{id:"percentage",style:{height:352}})},st=w.memo(at);let h;const nt=({chartData:a})=>{const r={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:a.yAxis,axisLabel:{show:!0,interval:0,formatter:function(s){let _="";const u=s.length,d=5;if(u>d){const g=Math.ceil(u/d);for(let c=0;c<g;c++){let f="";const l=c*d,b=l+d;c===g-1?f=s.substring(l,u):f=s.substring(l,b)+`
`,_+=f}}else _=s;return _}}},series:[{type:"bar",data:a.xAxis}]};return o.exports.useEffect(()=>{if(!h){const s=document.getElementById("distribution");if(!s)return;h=D(s)}return h.setOption(r),h.resize(),N(h),()=>{h=null,window.onresize=()=>{}}},[r]),t("div",{id:"distribution",style:{height:352}})},rt=w.memo(nt),{RangePicker:it}=q,_t=()=>{const[a,r]=o.exports.useState([A().add(-7,"d").format($),A().format($)]),s=(n,x)=>{r(x)},_=n=>{n||(g(),l(),B(),F())},[u,d]=o.exports.useState(),g=async()=>{const{data:n}=await O({startDate:a[0],endDate:a[1]});d(n)},[c,f]=o.exports.useState(),l=async()=>{const{data:n}=await j({startDate:a[0],endDate:a[1]});f(n)},[b,z]=o.exports.useState(),B=async()=>{const{data:n}=await k({startDate:a[0],endDate:a[1]});z(n)},[v,P]=o.exports.useState(),F=async()=>{const{data:n}=await I({startDate:a[0],endDate:a[1]});P(n.list)};return o.exports.useEffect(()=>{g(),l(),B(),F()},[]),i(S,{gutter:[20,20],children:[t(y,{span:24,children:t(it,{defaultValue:[A(a[0]),A(a[1])],presets:R,disabledDate:L,onChange:s,onOpenChange:_})}),u&&t(y,{span:12,children:t(C,{title:i("div",{className:e.title,children:[t("span",{className:e["decoration-line"]}),"\u8BA4\u8BC1\u603B\u91CF\uFF1A",t("span",{className:e.amount,children:u.total})]}),children:t(et,{chartData:u})})}),c&&t(y,{span:12,children:t(C,{title:i("div",{className:`${e.title} ${e["space-between"]}`,children:[i("div",{className:`${e["left-side"]} ${e.success}`,children:[t("span",{className:e["decoration-square"]}),"\u8BA4\u8BC1\u6210\u529F\u7387\uFF1A",i("span",{className:e.percentage,children:[c.success,"%"]})]}),i("div",{className:`${e["right-side"]} ${e.fail}`,children:[t("span",{className:e["decoration-square"]}),"\u8BA4\u8BC1\u5931\u8D25\u7387\uFF1A",i("span",{className:e.percentage,children:[c.fail,"%"]})]})]}),children:t(st,{chartData:c})})}),t(y,{span:12,children:t(C,{style:{height:457},title:i("div",{className:e.title,children:[t("span",{className:e["decoration-square"]}),"\u5404\u8BC1\u4EF6\u7C7B\u578B\u8BA4\u8BC1\u91CF\u5206\u5E03\uFF1A"]}),children:t("div",{className:e["card-wrap"],children:v&&v.map((n,x)=>i("div",{className:`${e["card-content"]} ${e["card0"+(x+1)]}`,children:[t("div",{className:`${e.count} font-primary-color`,children:n.count}),t("div",{className:e.description,children:n.description})]},x))})})}),b&&t(y,{span:12,children:t(C,{title:i("div",{className:e.title,children:[t("span",{className:e["decoration-square"]}),"\u5404\u63A5\u5165\u65B9\u5F0F\u8BA4\u8BC1\u91CF\u5206\u5E03\uFF1A"]}),children:t(rt,{chartData:b})})})]})};export{_t as default};
//# sourceMappingURL=index.701956ef.js.map
