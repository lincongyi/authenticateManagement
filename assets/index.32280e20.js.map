{"version":3,"file":"index.32280e20.js","sources":["../../src/pages/Issues/Reply/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport {\r\n  Avatar,\r\n  Badge,\r\n  Button,\r\n  Col,\r\n  ConfigProvider,\r\n  DatePicker,\r\n  Divider,\r\n  Form,\r\n  Input,\r\n  Modal,\r\n  Row,\r\n  Select,\r\n  Space,\r\n  Table,\r\n  Tooltip,\r\n  message\r\n} from 'antd'\r\nimport { PlusOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport type { RangeValue } from 'rc-picker/lib/interface.d'\r\nimport type { ColumnsType, TablePaginationConfig } from 'antd/es/table'\r\nimport type { Dayjs } from 'dayjs'\r\nimport 'dayjs/locale/zh-cn'\r\nimport locale from 'antd/locale/zh_CN'\r\nimport AddModal from './components/AddModal'\r\n// import CheckModal from './components/CheckModal'\r\nimport UpdateModal from './components/UpdateModal'\r\nimport { useStore } from '@stores/index'\r\n\r\nconst { RangePicker } = DatePicker\r\n\r\nconst Reply = () => {\r\n  const [form] = Form.useForm()\r\n\r\n  /**\r\n   * 设置表单中日期的值\r\n   */\r\n  const onChange = (date: RangeValue<Dayjs>, dateString: [string, string]) =>\r\n    form.setFieldValue('date', dateString)\r\n\r\n  /**\r\n   * 重置\r\n   */\r\n  const onReset = () => {\r\n    form.resetFields()\r\n  }\r\n\r\n  /**\r\n   * 查询\r\n   */\r\n  const onFinish = (values: any) => {\r\n    console.log('Success:', values)\r\n  }\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log('Failed:', errorInfo)\r\n  }\r\n\r\n  const { themeStore } = useStore()\r\n  const colorPrimary = themeStore.antdThemeColor\r\n\r\n  const [addModalOpen, setAddModalOpen] = useState(false)\r\n  /**\r\n   * 新增\r\n   */\r\n  const onAdd = () => {\r\n    setAddModalOpen(true)\r\n  }\r\n\r\n  type TDataType = {\r\n    key: string\r\n    number: string\r\n    keyword: string\r\n    issue: string\r\n    apps: string\r\n    date: string\r\n    isEffective: number\r\n  }\r\n\r\n  const [, setCheckModalOpen] = useState(false)\r\n  /**\r\n   * 详情\r\n   */\r\n  const onCheck = (values: TDataType) => {\r\n    setCheckModalOpen(true)\r\n  }\r\n\r\n  const [updateModalOpen, setUpdateModalOpen] = useState(false)\r\n  /**\r\n   * 修改\r\n   */\r\n  const onUpdate = (values: TDataType) => {\r\n    setUpdateModalOpen(true)\r\n  }\r\n\r\n  /**\r\n   * 删除\r\n   */\r\n  const onDelete = (values: TDataType) => {\r\n    Modal.confirm({\r\n      title: '温馨提示',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: '确定要删除该记录吗？',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: () => message.success({ content: '删除成功' })\r\n    })\r\n  }\r\n\r\n  // 表格分页参数\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: 10,\r\n    total: 31\r\n  })\r\n\r\n  /**\r\n   * 分页、排序、筛选变化时触发\r\n   */\r\n  const onTableChange = (tablePagination: TablePaginationConfig) => {\r\n    setPagination({ ...pagination, ...tablePagination })\r\n  }\r\n\r\n  const columns: ColumnsType<TDataType> = [\r\n    {\r\n      title: '序号',\r\n      dataIndex: 'key',\r\n      key: 'key'\r\n    },\r\n    {\r\n      title: '关键字编号',\r\n      dataIndex: 'number',\r\n      key: 'number'\r\n    },\r\n    {\r\n      title: '关键字',\r\n      dataIndex: 'keyword',\r\n      key: 'keyword'\r\n    },\r\n    {\r\n      title: '对应问题',\r\n      dataIndex: 'issue',\r\n      key: 'issue',\r\n      ellipsis: true\r\n    },\r\n    {\r\n      title: '关联应用',\r\n      dataIndex: 'apps',\r\n      key: 'apps',\r\n      className: 'table-column',\r\n      render: () => (\r\n        <Tooltip\r\n          title='南沙分局支付宝小程序、南沙分局微信小程序（2个）'\r\n          placement='topLeft'\r\n        >\r\n          <>\r\n            <Avatar.Group>\r\n              <Avatar\r\n                shape='square'\r\n                size='large'\r\n                style={{ backgroundColor: colorPrimary }}\r\n              >\r\n                app\r\n              </Avatar>\r\n              <Avatar\r\n                shape='square'\r\n                size='large'\r\n                style={{ backgroundColor: '#FFBF24' }}\r\n              >\r\n                app\r\n              </Avatar>\r\n            </Avatar.Group>\r\n          </>\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: '创建时间',\r\n      dataIndex: 'date',\r\n      key: 'date'\r\n    },\r\n    {\r\n      title: '生效',\r\n      dataIndex: 'isEffective',\r\n      key: 'isEffective',\r\n      render: isEffective => (\r\n        <Space>\r\n          <Badge color={isEffective ? '#52c41a' : '#ff7875'} />\r\n          {isEffective ? '是' : '否'}\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      width: 250,\r\n      render: values => (\r\n        <>\r\n          <Button type='link' onClick={() => onCheck(values)}>\r\n            详情\r\n          </Button>\r\n          <Divider type='vertical' />\r\n          <Button type='link' onClick={() => onUpdate(values)}>\r\n            修改\r\n          </Button>\r\n          <Divider type='vertical' />\r\n          <Button\r\n            type='link'\r\n            style={{ color: '#ff7875' }}\r\n            onClick={() => onDelete(values)}\r\n          >\r\n            删除\r\n          </Button>\r\n        </>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const data: TDataType[] = [\r\n    {\r\n      key: '1',\r\n      number: 'W00001',\r\n      keyword: '注册',\r\n      issue: '如何注册？',\r\n      apps: '',\r\n      date: '2023-01-01',\r\n      isEffective: 0\r\n    },\r\n    {\r\n      key: '2',\r\n      number: 'W00002',\r\n      keyword: '注册',\r\n      issue: '如何注册？',\r\n      apps: '',\r\n      date: '2023-01-01',\r\n      isEffective: 1\r\n    },\r\n    {\r\n      key: '3',\r\n      number: 'W00003',\r\n      keyword: '注册',\r\n      issue: '如何注册？',\r\n      apps: '',\r\n      date: '2023-01-01',\r\n      isEffective: 1\r\n    },\r\n    {\r\n      key: '4',\r\n      number: 'W00004',\r\n      keyword: '注册',\r\n      issue: '如何注册？如何注册？如何注册？如何注册？如何注册？',\r\n      apps: '',\r\n      date: '2023-01-01',\r\n      isEffective: 0\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col span={24}>\r\n          <Form\r\n            form={form}\r\n            name='search'\r\n            initialValues={{ isEffective: -1 }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n            autoComplete='off'\r\n          >\r\n            <Row gutter={20}>\r\n              <Col span={6}>\r\n                <Form.Item label='问题' name='issues'>\r\n                  <Input placeholder='请输入问题' allowClear maxLength={30} />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={6}>\r\n                <Form.Item label='生效' name='isEffective'>\r\n                  <Select\r\n                    placeholder='请选择是否生效'\r\n                    options={[\r\n                      { value: -1, label: '全部' },\r\n                      { value: 0, label: '否' },\r\n                      { value: 1, label: '是' }\r\n                    ]}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item label='创建时间' name='date'>\r\n                  <ConfigProvider locale={locale}>\r\n                    <RangePicker onChange={onChange} />\r\n                  </ConfigProvider>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={24} className='tr'>\r\n                <Form.Item>\r\n                  <Space>\r\n                    <Button onClick={onReset}>重置</Button>\r\n                    <Button type='primary' htmlType='submit'>\r\n                      查询\r\n                    </Button>\r\n                  </Space>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={24} className='tr'>\r\n                <Form.Item>\r\n                  <Button icon={<PlusOutlined />} onClick={onAdd}>\r\n                    新增\r\n                  </Button>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24}>\r\n          <ConfigProvider locale={locale}>\r\n            <Table\r\n              className='issue-table'\r\n              columns={columns}\r\n              dataSource={data}\r\n              pagination={pagination}\r\n              onChange={onTableChange}\r\n            />\r\n          </ConfigProvider>\r\n        </Col>\r\n      </Row>\r\n      <AddModal open={addModalOpen} setOpen={setAddModalOpen} />\r\n      {/* <CheckModal open={checkModalOpen} setOpen={setCheckModalOpen} /> */}\r\n      <UpdateModal open={updateModalOpen} setOpen={setUpdateModalOpen} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Reply\r\n"],"names":["RangePicker","DatePicker","Reply","form","Form","useForm","onChange","date","dateString","setFieldValue","onReset","resetFields","onFinish","values","log","onFinishFailed","errorInfo","themeStore","useStore","colorPrimary","antdThemeColor","addModalOpen","setAddModalOpen","useState","onAdd","setCheckModalOpen","onCheck","updateModalOpen","setUpdateModalOpen","onUpdate","onDelete","Modal","confirm","title","icon","_jsx","ExclamationCircleOutlined","content","okText","cancelText","onOk","message","success","pagination","setPagination","current","pageSize","total","onTableChange","tablePagination","columns","dataIndex","key","ellipsis","className","render","Tooltip","_Fragment","_jsxs","Avatar","backgroundColor","isEffective","Space","Badge","width","Button","Divider","color","data","number","keyword","issue","apps","Row","Col","Input","Select","value","label","ConfigProvider","locale","PlusOutlined","Table","AddModal","UpdateModal"],"mappings":"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"}